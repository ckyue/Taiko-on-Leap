(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
// import * as hitObj from "./js/hitObj";
"use strict";

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj["default"] = obj; return newObj; } }

var _jsGame = require("./js/game");

var game = _interopRequireWildcard(_jsGame);

// document.getElementById("start").addEventListener("click", play);

function play() {
  // alert('play!');

}

},{"./js/game":2}],2:[function(require,module,exports){
//scoredboard
'use strict';

var Firebase = require('firebase');
var scoreboard = new Firebase('https://taiko-on-leap.firebaseio.com/');

var scoreRef = scoreboard.child('score');
// scoreRef.set({
//   caonima: "22",
//   ggwp: "33",
//   sb: "11"
// });
var scoreBoardCanvas = document.getElementById('scoreboard');
var scoreBoardCtx = scoreBoardCanvas.getContext('2d');
scoreBoardCtx.font = "20px Arial";
scoreBoardCtx.fillStyle = "#E6377B";
var scoreBoardStack = new Array();

function drawScoreBoard() {
  // alert(score)
  var score = scoreBoardStack.pop();
  scoreBoardCtx.clearRect(0, 0, scoreBoardCanvas.width, scoreBoardCanvas.height);
  //if not undefine or null?
  scoreBoardCtx.fillText(score, 0, 35);

  //pop it and draw it onto scoreboard
}

function scoreStack(name, score) {
  //implement a stack to revese data;
  //push to stack;
  scoreBoardStack.push({
    name: score
  });
}
scoreRef.orderByValue().on('value', function (snapshot) {
  snapshot.forEach(function (data) {
    var key = data.key();
    var value = data.val();
    scoreStack(key, value);
    // console.log("Name: " + data.key() + "scored " + data.val());
  });
  drawScoreBoard();
});

var controller = new Leap.Controller();

controller.on('deviceConnected', function () {
  console.log("A Leap device has been connected.");
  doMyOwnStuff();
});

controller.on('deviceDisconnected', function () {
  console.log("A Leap device has been disconnected.");
});

var score = 0;
//draw taikos
var numOfTaikoType = 2;
var redTaiko = new Image();
var counterTaiko = 0;
redTaiko.src = "./images/redTaiko.png";
redTaiko.onload = function () {
  counterTaiko++;
  if (counterTaiko > numOfTaikoType - 1) {
    drawTaiko();
  }
};
var blueTaiko = new Image();
blueTaiko.src = "./images/blueTaiko.png";
blueTaiko.onload = function () {
  counterTaiko++;
  if (counterTaiko > numOfTaikoType - 1) {
    drawTaiko();
  }
};

//draw background
var beatsCanvas = document.getElementById("beats");
var beatsCtx = beatsCanvas.getContext("2d");
beatsCtx.beginPath();
beatsCtx.moveTo(150, 300);
beatsCtx.lineTo(150, 100);
beatsCtx.strokeStyle = "#000";
beatsCtx.stroke();
var playgroundCanvas = document.getElementById("playground");
var playgroundCtx = playgroundCanvas.getContext("2d");
var bgImage = new Image();
bgImage.onload = function () {
  playgroundCtx.drawImage(this, 0, 0);
};
bgImage.src = "./images/bg.png";

//define Beatmap notes
var hitObjects = new Array(120, 120, 60, 120, 120, 120, 60, 120, 60, 120, 120, 120, 60, 120, 60, 120, 60, 60, 120, 120, 120, 120, 60, 120, 120, 120, 60, 120, 60, 120, 120, 120, 60, 120, 60, 120, 60, 60, 120, 120, 120, 120, 60, 120, 120, 120, 60, 120, 60, 120, 120, 120, 60, 120, 60, 120, 60, 60, 120, 120, 120, 120, 60, 120, 120, 120, 60, 120, 60, 120, 120, 120, 60, 120, 60, 120, 60, 60, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 300, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120);
// var typeOfTaiko = new Array(0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,1,1,0,1,1,0,1,0,1,1,0,1);
//,0,0,0,1,0,1,0,1,0,0,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,0,1,0,0,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,0,1,0,0,0,0,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1,1,0,1,1,0,1,0,1
var typeOfTaiko = new Array(0, 1);
//draw beatmap notes(Taikos)
var approachRate;
var yOffset = 65;
var dist = 350;
var isover = false;
var playerName;

function drawTaiko() {
  beatsCtx.clearRect(0, 0, 1500, 300);
  approachRate = dist;
  if (approachRate < 0) {
    if (typeOfTaiko.length < 2) {
      playerName = prompt("Congratulations! Enter Your Name HERE!!", "Wearhack Waterloo 2016");
      //send to database;
      var bufferData = {};
      bufferData[playerName] = score;
      scoreRef.update(bufferData);
      isover = true;
      return;
    }
    approachRate = hitObjects[0];
    hitObjects.shift();
    typeOfTaiko.shift();
  }
  approachRate -= 6;
  dist = approachRate;
  checkHit(dist);
  // console.log(dist);
  for (var i = 0; i < 20; i++) {
    if (typeOfTaiko[i] == 0) {
      beatsCtx.drawImage(redTaiko, approachRate, yOffset);
    } else if (typeOfTaiko[i] == 1) {
      beatsCtx.drawImage(blueTaiko, approachRate, yOffset);
    }
    approachRate += hitObjects[i];
    if (approachRate > 1300) {
      break;
    }
  }
  if (!isover) {
    setTimeout(drawTaiko, 20);
  }
}

//leapmotion reader

//helper function to display position data
function concatData(id, data) {
  return id + ": " + data + "<br>";
}
//helper function to display position data
function concatJointPosition(position) {
  return position[0] + ", " + position[1] + ", " + position[2] + "<br>";
}

var output = document.getElementById('output');
var frameString = "",
    handString = "",
    fingerString = "";
var hand, finger;
var currentPositionValues;
var smoothedCurrentPositionValues = new Array("0", "0", "0");
var lowPassFilterConst = 5;
var handType;
var counterF = 0;
var counterJ = 0;
var counterE = 0;
var counterI = 0;
var isPressedF = 0;
var isPressedJ = 0;
var isPressedE = 0;
var isPressedI = 0;
// Leap.loop uses browser's requestAnimationFrame
var options = { enableGestures: true };

//draw status
var leapStatusCanvas = document.getElementById("leapStatus");
var leapStatusCtx = leapStatusCanvas.getContext("2d");
leapStatusCtx.font = "15px Arial";
leapStatusCtx.fillStyle = "#fff";
var statusString;
var handStatusString;
var fingerStatusString;

function drawStatus(hand, finger) {
  // alert(score)
  console.log(finger);
  leapStatusCtx.clearRect(0, 0, leapStatusCanvas.width, leapStatusCanvas.height);
  statusString = "LeapMotion Status: " + "Connected";
  leapStatusCtx.fillText(statusString, 0, 30);
  handStatusString = "Current Hitting Hand: " + hand;
  leapStatusCtx.fillText(handStatusString, 0, 60);
  fingerStatusString = "Hand Location: " + finger;
  leapStatusCtx.fillText(fingerStatusString, 0, 90);
}

// Main Leap Loop
Leap.loop(options, function (frame) {
  frameString = concatData("num_hands", frame.hands.length);
  frameString += concatData("num_fingers", frame.fingers.length);
  frameString += "<br>";

  // Showcase some new V2 features
  for (var i = 0, len = frame.hands.length; i < len; i++) {
    hand = frame.hands[i];
    handString = concatData("hand_type", hand.type);
    handString += '<br>';

    // Helpers for thumb, pinky, etc.
    fingerString = concatJointPosition(hand.thumb.dipPosition);
    //pass in type of hand and position for calculations;
    handType = hand.type;
    currentPositionValues = hand.thumb.dipPosition;
    // for(let i = 0; i < 3; i++){
    //   smoothedCurrentPositionValues[i] += (currentPositionValues[i] - smoothedCurrentPositionValues[i]) / lowPassFilterConst;
    // }
    // calculatePosition(handType, smoothedCurrentPositionValues);
    // console.log(dist);
    calculatePosition(handType, currentPositionValues, dist);

    frameString += handString;
    frameString += fingerString;
    drawStatus(handType, currentPositionValues);
  }

  // output.innerHTML = frameString;
});

var savedPositionF = new Array("0", "0");
var savedPositionJ = new Array("0", "0");
var savedPositionE = new Array("0", "0");
var savedPositionI = new Array("0", "0");

var drumCanvas = document.getElementById('drum');
var drumCtx = drumCanvas.getContext('2d');

function drawRed() {
  drumCtx.beginPath();
  drumCtx.arc(180, 200, 140, 0, Math.PI, false);
  drumCtx.closePath();
  drumCtx.lineWidth = 5;
  drumCtx.fillStyle = '#F5001C';
  drumCtx.fill();
  setTimeout(function () {
    drumCtx.clearRect(0, 0, 440, 440);
  }, 100);
}
function drawBlue() {
  drumCtx.beginPath();
  drumCtx.arc(180, 200, 140, Math.PI, 2 * Math.PI);
  drumCtx.closePath();
  drumCtx.lineWidth = 5;
  drumCtx.fillStyle = '#33C5FF';
  drumCtx.fill();
  setTimeout(function () {
    drumCtx.clearRect(0, 0, 440, 440);
  }, 100);
}

function checkHit(dist) {
  // console.log(dist);
  return dist;
}

//draw score
var scoreCanvas = document.getElementById("score");
var scoreCtx = scoreCanvas.getContext("2d");
scoreCtx.font = "55px Arial";
scoreCtx.fillStyle = "#E6377B";
scoreCtx.textAlign = "center";
var scoreString;

function drawScore(score) {
  // alert(score)
  scoreCtx.clearRect(0, 0, scoreCanvas.width, scoreCanvas.height);
  scoreString = "Your Score: " + score;
  scoreCtx.fillText(scoreString, scoreCanvas.width / 2, scoreCanvas.height / 2);
}

function calculatePosition(hand, position, dist) {
  // console.log(positions[0]);
  // console.log(hand);

  //F
  function playScoreSoundEffect(score) {

    console.log(score);
    switch (score) {
      case 10:
        document.getElementById("comboburst-0").play();
        break;
      case 20:
        document.getElementById("comboburst-1").play();
        break;
      case 30:
        document.getElementById("comboburst-2").play();
        break;
      case 40:
        document.getElementById("comboburst-3").play();
        break;
      case 50:
        document.getElementById("comboburst-4").play();
        break;
      case 60:
        document.getElementById("comboburst-5").play();
        break;
      case 65:
        document.getElementById("comboburst-6").play();
        break;
      case 70:
        document.getElementById("comboburst-7").play();
        break;
      case 75:
        document.getElementById("comboburst-8").play();
        break;
      case 80:
        document.getElementById("comboburst-9").play();
        break;
      case 85:
        document.getElementById("comboburst-10").play();
        break;
      case 90:
        document.getElementById("comboburst-11").play();
        break;
      case 95:
        document.getElementById("comboburst-12").play();
        break;

    }
  }

  if ( /*hand == 'left' && */position[0] <= 0 && position[2] >= -70) {
    savedPositionF[counterF] = position;
    // console.log(savedPositionF);
    // if(savedPositionF[0] == "0" || savedPositionF[1] == "0"){
    //   console.log("second didnt passed");
    //   return 0;
    // }

    isPressedF = finiteStateMachineF(savedPositionF);
    if (isPressedF == 1) {
      // console.log("F pressed");
      document.getElementById("red").play();
      drawRed();
      // distance = checkHit();
      if (dist < 50 && dist > 20) {
        score++;
        // document.getElementById("score").innerHTML = score;
        playScoreSoundEffect(score);
        drawScore(score);
      }
    }
    counterF++;
    if (counterF == 2) {
      counterF = 0;
    }
  }

  //J
  if ( /*hand == 'right' && */position[0] > 0 && position[2] >= -70) {
    savedPositionJ[counterJ] = position;

    isPressedJ = finiteStateMachineJ(savedPositionJ);
    if (isPressedJ == 1) {
      // console.log("J pressed");
      document.getElementById("red").play();
      drawRed();
      if (dist < 50 && dist > 20) {
        score++;
        // document.getElementById("score").innerHTML = score;
        playScoreSoundEffect(score);
        drawScore(score);
      }
    }
    counterJ++;
    if (counterJ == 2) {
      counterJ = 0;
    }
  }

  //E
  if ( /*hand == 'left' && */position[0] <= 0 && position[2] < -70) {
    savedPositionE[counterE] = position;

    isPressedE = finiteStateMachineE(savedPositionE);
    if (isPressedE == 1) {
      // console.log("E pressed");
      document.getElementById("blue").play();
      drawBlue();
      if (dist < 50 && dist > 20) {
        score++;
        // document.getElementById("score").innerHTML = score;
        playScoreSoundEffect(score);
        drawScore(score);
      }
    }
    counterF++;
    if (counterE == 2) {
      counterE = 0;
    }
  }

  //I
  if ( /*hand == 'right' && */position[0] > 0 && position[2] < -70) {
    savedPositionI[counterI] = position;

    isPressedI = finiteStateMachineI(savedPositionI);
    if (isPressedI == 1) {
      // console.log("I pressed");
      document.getElementById("blue").play();
      drawBlue();
      if (dist < 50 && dist > 20) {
        score++;
        // document.getElementById("score").innerHTML = score;
        playScoreSoundEffect(score);
        drawScore(score);
      }
    }
    counterI++;
    if (counterI == 2) {
      counterI = 0;
    }
  }
}
var upF = false; //false initially
var downF = false; //false initially
var upJ = false; //false initially
var downJ = false; //false initially
var upE = false; //false initially
var downE = false; //false initially
var upI = false; //false initially
var downI = false; //false initially

function finiteStateMachineF(position) {
  if (position[0] == 0 || position[1] == 0) {
    // console.log("second didnt passed");
    return 0;
  }
  // console.log(position);
  if (position[1][1] - position[0][1] > 20) //need more consideration on identifying patterns
    {
      // console.log("up");
      upF = true; //change the state
    } else if (position[0][1] - position[1][1] > 20) //need more consideration on identifying patterns
      {
        downF = true; //change the state
      }
  if (Boolean(upF) & Boolean(downF)) //true AND true
    {
      upF = false;
      downF = false;
      return 1; //step++
    } else {
      return 0; //if nothing
    }
}
function finiteStateMachineJ(position) {
  if (position[0] == 0 || position[1] == 0) {
    // console.log("second didnt passed");
    return 0;
  }
  if (position[1][1] - position[0][1] > 20) //need more consideration on identifying patterns
    {
      upJ = true; //change the state
    } else if (position[0][1] - position[1][1] > 20) //need more consideration on identifying patterns
      {
        downJ = true; //change the state
      }
  if (Boolean(upJ) & Boolean(downJ)) //true AND true
    {
      upJ = false;
      downJ = false;
      return 1; //step++
    } else {
      return 0; //if nothing
    }
}
function finiteStateMachineE(position) {
  if (position[0] == 0 || position[1] == 0) {
    // console.log("second didnt passed");
    return 0;
  }
  if (position[1][1] - position[0][1] > 20) //need more consideration on identifying patterns
    {
      upE = true; //change the state
    } else if (position[0][1] - position[1][1] > 20) //need more consideration on identifying patterns
      {
        downE = true; //change the state
      }
  if (Boolean(upE) & Boolean(downE)) //true AND true
    {
      upE = false;
      downE = false;
      return 1; //step++
    } else {
      return 0; //if nothing
    }
}
function finiteStateMachineI(position) {
  if (position[0] == 0 || position[1] == 0) {
    // console.log("second didnt passed");
    return 0;
  }
  if (position[1][1] - position[0][1] > 20) //need more consideration on identifying patterns
    {
      upI = true; //change the state
    } else if (position[0][1] - position[1][1] > 20) //need more consideration on identifying patterns
      {
        downI = true; //change the state
      }
  if (Boolean(upI) & Boolean(downI)) //true AND true
    {
      upI = false;
      downI = false;
      return 1; //step++
    } else {
      return 0; //if nothing
    }
}

// function (fingerType) {
//   switch() {
//     case 0:
//       return 'Thumb';
//     break;
//
//     case 1:
//       return 'Index';
//     break;
//
//     case 2:
//       return 'Middle';
//     break;
//
//     case 3:
//       return 'Ring';
//     break;
//
//     case 4:
//       return 'Pinky';
//     break;
//   }
// }

//alternative checking
// window.onkeydown = function (event){
//   if(event.keyCode == 70){
//     console.log("left red");
//     document.getElementById("red").play();
//     if(dist<120 && dist>50 && taikoType[0]==0){
//       score++;
//       document.getElementById("score").value = score;
//     }
//   }
//   if(event.keyCode == 74){
//     console.log("right red");
//     document.getElementById("red").play();
//     if(dist<120 && dist>50 && taikoType[0]==0){
//       score++;
//       document.getElementById("score").value = score;
//     }
//   }
//   if(event.keyCode == 69){
//     console.log("left blue");
//     document.getElementById("blue").play();
//     if(dist<120 && dist>50 && taikoType[0]==1){
//       score++;
//       document.getElementById("score").value = score;
//     }
//   }
//   if(event.keyCode == 73){
//     console.log("right blue");
//     document.getElementById("blue").play();
//     if(dist<120 && dist>50 && taikoType[0]==1){
//       score++;
//       document.getElementById("score").value = score;
//     }
//   }
// }
// module.exports = "hitObj";

},{"firebase":3}],3:[function(require,module,exports){
/*! @license Firebase v2.4.1
    License: https://www.firebase.com/terms/terms-of-service.html */
(function() {var h,n=this;function p(a){return void 0!==a}function aa(){}function ba(a){a.yb=function(){return a.zf?a.zf:a.zf=new a}}
function ca(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"array"==ca(a)}function ea(a){var b=ca(a);return"array"==b||"object"==b&&"number"==typeof a.length}function q(a){return"string"==typeof a}function fa(a){return"number"==typeof a}function r(a){return"function"==ca(a)}function ga(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function u(a,b,c){u=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return u.apply(null,arguments)}var ja=Date.now||function(){return+new Date};
function ka(a,b){function c(){}c.prototype=b.prototype;a.oh=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.kh=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}};function la(a){if(Error.captureStackTrace)Error.captureStackTrace(this,la);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}ka(la,Error);la.prototype.name="CustomError";function v(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function ma(a,b){var c={},d;for(d in a)c[d]=b.call(void 0,a[d],d,a);return c}function na(a,b){for(var c in a)if(!b.call(void 0,a[c],c,a))return!1;return!0}function oa(a){var b=0,c;for(c in a)b++;return b}function pa(a){for(var b in a)return b}function qa(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function ra(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function sa(a,b){for(var c in a)if(a[c]==b)return!0;return!1}
function ta(a,b,c){for(var d in a)if(b.call(c,a[d],d,a))return d}function ua(a,b){var c=ta(a,b,void 0);return c&&a[c]}function va(a){for(var b in a)return!1;return!0}function wa(a){var b={},c;for(c in a)b[c]=a[c];return b}var xa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function ya(a,b){for(var c,d,e=1;e<arguments.length;e++){d=arguments[e];for(c in d)a[c]=d[c];for(var f=0;f<xa.length;f++)c=xa[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};function za(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Aa(){this.Vd=void 0}
function Ba(a,b,c){switch(typeof b){case "string":Ca(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");break;case "object":if(null==b){c.push("null");break}if(da(b)){var d=b.length;c.push("[");for(var e="",f=0;f<d;f++)c.push(e),e=b[f],Ba(a,a.Vd?a.Vd.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{");d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),Ca(f,c),
c.push(":"),Ba(a,a.Vd?a.Vd.call(b,f,e):e,c),d=","));c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}var Da={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ea=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;
function Ca(a,b){b.push('"',a.replace(Ea,function(a){if(a in Da)return Da[a];var b=a.charCodeAt(0),e="\\u";16>b?e+="000":256>b?e+="00":4096>b&&(e+="0");return Da[a]=e+b.toString(16)}),'"')};function Fa(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^ja()).toString(36)};var w;a:{var Ga=n.navigator;if(Ga){var Ha=Ga.userAgent;if(Ha){w=Ha;break a}}w=""};function Ia(){this.Ya=-1};function Ja(){this.Ya=-1;this.Ya=64;this.P=[];this.pe=[];this.eg=[];this.Od=[];this.Od[0]=128;for(var a=1;a<this.Ya;++a)this.Od[a]=0;this.ge=this.ec=0;this.reset()}ka(Ja,Ia);Ja.prototype.reset=function(){this.P[0]=1732584193;this.P[1]=4023233417;this.P[2]=2562383102;this.P[3]=271733878;this.P[4]=3285377520;this.ge=this.ec=0};
function Ka(a,b,c){c||(c=0);var d=a.eg;if(q(b))for(var e=0;16>e;e++)d[e]=b.charCodeAt(c)<<24|b.charCodeAt(c+1)<<16|b.charCodeAt(c+2)<<8|b.charCodeAt(c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.P[0];c=a.P[1];for(var g=a.P[2],k=a.P[3],m=a.P[4],l,e=0;80>e;e++)40>e?20>e?(f=k^c&(g^k),l=1518500249):(f=c^g^k,l=1859775393):60>e?(f=c&g|k&(c|g),l=2400959708):(f=c^g^k,l=3395469782),f=(b<<
5|b>>>27)+f+m+l+d[e]&4294967295,m=k,k=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.P[0]=a.P[0]+b&4294967295;a.P[1]=a.P[1]+c&4294967295;a.P[2]=a.P[2]+g&4294967295;a.P[3]=a.P[3]+k&4294967295;a.P[4]=a.P[4]+m&4294967295}
Ja.prototype.update=function(a,b){if(null!=a){p(b)||(b=a.length);for(var c=b-this.Ya,d=0,e=this.pe,f=this.ec;d<b;){if(0==f)for(;d<=c;)Ka(this,a,d),d+=this.Ya;if(q(a))for(;d<b;){if(e[f]=a.charCodeAt(d),++f,++d,f==this.Ya){Ka(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,f==this.Ya){Ka(this,e);f=0;break}}this.ec=f;this.ge+=b}};var x=Array.prototype,La=x.indexOf?function(a,b,c){return x.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(q(a))return q(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Ma=x.forEach?function(a,b,c){x.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},Na=x.filter?function(a,b,c){return x.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=q(a)?
a.split(""):a,k=0;k<d;k++)if(k in g){var m=g[k];b.call(c,m,k,a)&&(e[f++]=m)}return e},Oa=x.map?function(a,b,c){return x.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=q(a)?a.split(""):a,g=0;g<d;g++)g in f&&(e[g]=b.call(c,f[g],g,a));return e},Pa=x.reduce?function(a,b,c,d){for(var e=[],f=1,g=arguments.length;f<g;f++)e.push(arguments[f]);d&&(e[0]=u(b,d));return x.reduce.apply(a,e)}:function(a,b,c,d){var e=c;Ma(a,function(c,g){e=b.call(d,e,c,g,a)});return e},Qa=x.every?function(a,b,
c){return x.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&!b.call(c,e[f],f,a))return!1;return!0};function Ra(a,b){var c=Sa(a,b,void 0);return 0>c?null:q(a)?a.charAt(c):a[c]}function Sa(a,b,c){for(var d=a.length,e=q(a)?a.split(""):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return f;return-1}function Ta(a,b){var c=La(a,b);0<=c&&x.splice.call(a,c,1)}function Ua(a,b,c){return 2>=arguments.length?x.slice.call(a,b):x.slice.call(a,b,c)}
function Va(a,b){a.sort(b||Wa)}function Wa(a,b){return a>b?1:a<b?-1:0};function Xa(a){n.setTimeout(function(){throw a;},0)}var Ya;
function Za(){var a=n.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&-1==w.indexOf("Presto")&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=u(function(a){if(("*"==d||a.origin==
d)&&a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a&&-1==w.indexOf("Trident")&&-1==w.indexOf("MSIE")){var b=new a,c={},d=c;b.port1.onmessage=function(){if(p(c.next)){c=c.next;var a=c.hb;c.hb=null;a()}};return function(a){d.next={hb:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("script")?function(a){var b=
document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){n.setTimeout(a,0)}};function $a(a,b){ab||bb();cb||(ab(),cb=!0);db.push(new eb(a,b))}var ab;function bb(){if(n.Promise&&n.Promise.resolve){var a=n.Promise.resolve();ab=function(){a.then(fb)}}else ab=function(){var a=fb;!r(n.setImmediate)||n.Window&&n.Window.prototype&&n.Window.prototype.setImmediate==n.setImmediate?(Ya||(Ya=Za()),Ya(a)):n.setImmediate(a)}}var cb=!1,db=[];[].push(function(){cb=!1;db=[]});
function fb(){for(;db.length;){var a=db;db=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.yg.call(c.scope)}catch(d){Xa(d)}}}cb=!1}function eb(a,b){this.yg=a;this.scope=b};var gb=-1!=w.indexOf("Opera")||-1!=w.indexOf("OPR"),hb=-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE"),ib=-1!=w.indexOf("Gecko")&&-1==w.toLowerCase().indexOf("webkit")&&!(-1!=w.indexOf("Trident")||-1!=w.indexOf("MSIE")),jb=-1!=w.toLowerCase().indexOf("webkit");
(function(){var a="",b;if(gb&&n.opera)return a=n.opera.version,r(a)?a():a;ib?b=/rv\:([^\);]+)(\)|;)/:hb?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:jb&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(w))?a[1]:"");return hb&&(b=(b=n.document)?b.documentMode:void 0,b>parseFloat(a))?String(b):a})();var kb=null,lb=null,mb=null;function nb(a,b){if(!ea(a))throw Error("encodeByteArray takes an array as a parameter");ob();for(var c=b?lb:kb,d=[],e=0;e<a.length;e+=3){var f=a[e],g=e+1<a.length,k=g?a[e+1]:0,m=e+2<a.length,l=m?a[e+2]:0,t=f>>2,f=(f&3)<<4|k>>4,k=(k&15)<<2|l>>6,l=l&63;m||(l=64,g||(k=64));d.push(c[t],c[f],c[k],c[l])}return d.join("")}
function ob(){if(!kb){kb={};lb={};mb={};for(var a=0;65>a;a++)kb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a),lb[a]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(a),mb[lb[a]]=a,62<=a&&(mb["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(a)]=a)}};function pb(a,b){this.N=qb;this.Rf=void 0;this.Ba=this.Ha=null;this.yd=this.ye=!1;if(a==rb)sb(this,tb,b);else try{var c=this;a.call(b,function(a){sb(c,tb,a)},function(a){if(!(a instanceof ub))try{if(a instanceof Error)throw a;throw Error("Promise rejected.");}catch(b){}sb(c,vb,a)})}catch(d){sb(this,vb,d)}}var qb=0,tb=2,vb=3;function rb(){}pb.prototype.then=function(a,b,c){return wb(this,r(a)?a:null,r(b)?b:null,c)};pb.prototype.then=pb.prototype.then;pb.prototype.$goog_Thenable=!0;h=pb.prototype;
h.fh=function(a,b){return wb(this,null,a,b)};h.cancel=function(a){this.N==qb&&$a(function(){var b=new ub(a);xb(this,b)},this)};function xb(a,b){if(a.N==qb)if(a.Ha){var c=a.Ha;if(c.Ba){for(var d=0,e=-1,f=0,g;g=c.Ba[f];f++)if(g=g.o)if(d++,g==a&&(e=f),0<=e&&1<d)break;0<=e&&(c.N==qb&&1==d?xb(c,b):(d=c.Ba.splice(e,1)[0],yb(c,d,vb,b)))}a.Ha=null}else sb(a,vb,b)}function zb(a,b){a.Ba&&a.Ba.length||a.N!=tb&&a.N!=vb||Ab(a);a.Ba||(a.Ba=[]);a.Ba.push(b)}
function wb(a,b,c,d){var e={o:null,Hf:null,Jf:null};e.o=new pb(function(a,g){e.Hf=b?function(c){try{var e=b.call(d,c);a(e)}catch(l){g(l)}}:a;e.Jf=c?function(b){try{var e=c.call(d,b);!p(e)&&b instanceof ub?g(b):a(e)}catch(l){g(l)}}:g});e.o.Ha=a;zb(a,e);return e.o}h.Yf=function(a){this.N=qb;sb(this,tb,a)};h.Zf=function(a){this.N=qb;sb(this,vb,a)};
function sb(a,b,c){if(a.N==qb){if(a==c)b=vb,c=new TypeError("Promise cannot resolve to itself");else{var d;if(c)try{d=!!c.$goog_Thenable}catch(e){d=!1}else d=!1;if(d){a.N=1;c.then(a.Yf,a.Zf,a);return}if(ga(c))try{var f=c.then;if(r(f)){Bb(a,c,f);return}}catch(g){b=vb,c=g}}a.Rf=c;a.N=b;a.Ha=null;Ab(a);b!=vb||c instanceof ub||Cb(a,c)}}function Bb(a,b,c){function d(b){f||(f=!0,a.Zf(b))}function e(b){f||(f=!0,a.Yf(b))}a.N=1;var f=!1;try{c.call(b,e,d)}catch(g){d(g)}}
function Ab(a){a.ye||(a.ye=!0,$a(a.wg,a))}h.wg=function(){for(;this.Ba&&this.Ba.length;){var a=this.Ba;this.Ba=null;for(var b=0;b<a.length;b++)yb(this,a[b],this.N,this.Rf)}this.ye=!1};function yb(a,b,c,d){if(c==tb)b.Hf(d);else{if(b.o)for(;a&&a.yd;a=a.Ha)a.yd=!1;b.Jf(d)}}function Cb(a,b){a.yd=!0;$a(function(){a.yd&&Db.call(null,b)})}var Db=Xa;function ub(a){la.call(this,a)}ka(ub,la);ub.prototype.name="cancel";var Eb=Eb||"2.4.1";function y(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function z(a,b){if(Object.prototype.hasOwnProperty.call(a,b))return a[b]}function Fb(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])}function Gb(a){var b={};Fb(a,function(a,d){b[a]=d});return b}function Hb(a){return"object"===typeof a&&null!==a};function Ib(a){var b=[];Fb(a,function(a,d){da(d)?Ma(d,function(d){b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))}):b.push(encodeURIComponent(a)+"="+encodeURIComponent(d))});return b.length?"&"+b.join("&"):""}function Jb(a){var b={};a=a.replace(/^\?/,"").split("&");Ma(a,function(a){a&&(a=a.split("="),b[a[0]]=a[1])});return b};function Kb(a,b){if(!a)throw Lb(b);}function Lb(a){return Error("Firebase ("+Eb+") INTERNAL ASSERT FAILED: "+a)};var Mb=n.Promise||pb;pb.prototype["catch"]=pb.prototype.fh;function B(){var a=this;this.reject=this.resolve=null;this.D=new Mb(function(b,c){a.resolve=b;a.reject=c})}function C(a,b){return function(c,d){c?a.reject(c):a.resolve(d);r(b)&&(Nb(a.D),1===b.length?b(c):b(c,d))}}function Nb(a){a.then(void 0,aa)};function Ob(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);55296<=e&&56319>=e&&(e-=55296,d++,Kb(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320));128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=e&63|128)}return b}function Pb(a){for(var b=0,c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b++:2048>d?b+=2:55296<=d&&56319>=d?(b+=4,c++):b+=3}return b};function D(a,b,c,d){var e;d<b?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c);if(e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".");}function E(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:throw Error("errorPrefix called with argumentNumber > 4.  Need to update it?");}return a=a+" failed: "+(d+" argument ")}
function F(a,b,c,d){if((!d||p(c))&&!r(c))throw Error(E(a,b,d)+"must be a valid function.");}function Qb(a,b,c){if(p(c)&&(!ga(c)||null===c))throw Error(E(a,b,!0)+"must be a valid context object.");};function Rb(a){return"undefined"!==typeof JSON&&p(JSON.parse)?JSON.parse(a):za(a)}function G(a){if("undefined"!==typeof JSON&&p(JSON.stringify))a=JSON.stringify(a);else{var b=[];Ba(new Aa,a,b);a=b.join("")}return a};function Sb(){this.Zd=H}Sb.prototype.j=function(a){return this.Zd.S(a)};Sb.prototype.toString=function(){return this.Zd.toString()};function Tb(){}Tb.prototype.uf=function(){return null};Tb.prototype.Ce=function(){return null};var Ub=new Tb;function Vb(a,b,c){this.bg=a;this.Oa=b;this.Nd=c}Vb.prototype.uf=function(a){var b=this.Oa.Q;if(Wb(b,a))return b.j().T(a);b=null!=this.Nd?new Xb(this.Nd,!0,!1):this.Oa.w();return this.bg.Bc(a,b)};Vb.prototype.Ce=function(a,b,c){var d=null!=this.Nd?this.Nd:Yb(this.Oa);a=this.bg.qe(d,b,1,c,a);return 0===a.length?null:a[0]};function Zb(){this.xb=[]}function $b(a,b){for(var c=null,d=0;d<b.length;d++){var e=b[d],f=e.cc();null===c||f.ea(c.cc())||(a.xb.push(c),c=null);null===c&&(c=new ac(f));c.add(e)}c&&a.xb.push(c)}function bc(a,b,c){$b(a,c);cc(a,function(a){return a.ea(b)})}function dc(a,b,c){$b(a,c);cc(a,function(a){return a.contains(b)||b.contains(a)})}
function cc(a,b){for(var c=!0,d=0;d<a.xb.length;d++){var e=a.xb[d];if(e)if(e=e.cc(),b(e)){for(var e=a.xb[d],f=0;f<e.xd.length;f++){var g=e.xd[f];if(null!==g){e.xd[f]=null;var k=g.Zb();ec&&fc("event: "+g.toString());gc(k)}}a.xb[d]=null}else c=!1}c&&(a.xb=[])}function ac(a){this.ta=a;this.xd=[]}ac.prototype.add=function(a){this.xd.push(a)};ac.prototype.cc=function(){return this.ta};function J(a,b,c,d){this.type=a;this.Na=b;this.Za=c;this.Oe=d;this.Td=void 0}function hc(a){return new J(ic,a)}var ic="value";function jc(a,b,c,d){this.xe=b;this.be=c;this.Td=d;this.wd=a}jc.prototype.cc=function(){var a=this.be.Mb();return"value"===this.wd?a.path:a.parent().path};jc.prototype.De=function(){return this.wd};jc.prototype.Zb=function(){return this.xe.Zb(this)};jc.prototype.toString=function(){return this.cc().toString()+":"+this.wd+":"+G(this.be.qf())};function kc(a,b,c){this.xe=a;this.error=b;this.path=c}kc.prototype.cc=function(){return this.path};kc.prototype.De=function(){return"cancel"};
kc.prototype.Zb=function(){return this.xe.Zb(this)};kc.prototype.toString=function(){return this.path.toString()+":cancel"};function Xb(a,b,c){this.A=a;this.ga=b;this.Yb=c}function lc(a){return a.ga}function mc(a){return a.Yb}function nc(a,b){return b.e()?a.ga&&!a.Yb:Wb(a,K(b))}function Wb(a,b){return a.ga&&!a.Yb||a.A.Fa(b)}Xb.prototype.j=function(){return this.A};function oc(a){this.pg=a;this.Gd=null}oc.prototype.get=function(){var a=this.pg.get(),b=wa(a);if(this.Gd)for(var c in this.Gd)b[c]-=this.Gd[c];this.Gd=a;return b};function pc(a,b){this.Vf={};this.hd=new oc(a);this.da=b;var c=1E4+2E4*Math.random();setTimeout(u(this.Of,this),Math.floor(c))}pc.prototype.Of=function(){var a=this.hd.get(),b={},c=!1,d;for(d in a)0<a[d]&&y(this.Vf,d)&&(b[d]=a[d],c=!0);c&&this.da.Ye(b);setTimeout(u(this.Of,this),Math.floor(6E5*Math.random()))};function qc(){this.Hc={}}function rc(a,b,c){p(c)||(c=1);y(a.Hc,b)||(a.Hc[b]=0);a.Hc[b]+=c}qc.prototype.get=function(){return wa(this.Hc)};var sc={},tc={};function uc(a){a=a.toString();sc[a]||(sc[a]=new qc);return sc[a]}function vc(a,b){var c=a.toString();tc[c]||(tc[c]=b());return tc[c]};function L(a,b){this.name=a;this.U=b}function wc(a,b){return new L(a,b)};function xc(a,b){return yc(a.name,b.name)}function zc(a,b){return yc(a,b)};function Ac(a,b,c){this.type=Bc;this.source=a;this.path=b;this.Ja=c}Ac.prototype.$c=function(a){return this.path.e()?new Ac(this.source,M,this.Ja.T(a)):new Ac(this.source,N(this.path),this.Ja)};Ac.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" overwrite: "+this.Ja.toString()+")"};function Cc(a,b){this.type=Dc;this.source=a;this.path=b}Cc.prototype.$c=function(){return this.path.e()?new Cc(this.source,M):new Cc(this.source,N(this.path))};Cc.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" listen_complete)"};function Ec(a,b){this.Pa=a;this.xa=b?b:Fc}h=Ec.prototype;h.Sa=function(a,b){return new Ec(this.Pa,this.xa.Sa(a,b,this.Pa).$(null,null,!1,null,null))};h.remove=function(a){return new Ec(this.Pa,this.xa.remove(a,this.Pa).$(null,null,!1,null,null))};h.get=function(a){for(var b,c=this.xa;!c.e();){b=this.Pa(a,c.key);if(0===b)return c.value;0>b?c=c.left:0<b&&(c=c.right)}return null};
function Gc(a,b){for(var c,d=a.xa,e=null;!d.e();){c=a.Pa(b,d.key);if(0===c){if(d.left.e())return e?e.key:null;for(d=d.left;!d.right.e();)d=d.right;return d.key}0>c?d=d.left:0<c&&(e=d,d=d.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?");}h.e=function(){return this.xa.e()};h.count=function(){return this.xa.count()};h.Vc=function(){return this.xa.Vc()};h.jc=function(){return this.xa.jc()};h.ka=function(a){return this.xa.ka(a)};
h.ac=function(a){return new Hc(this.xa,null,this.Pa,!1,a)};h.bc=function(a,b){return new Hc(this.xa,a,this.Pa,!1,b)};h.dc=function(a,b){return new Hc(this.xa,a,this.Pa,!0,b)};h.xf=function(a){return new Hc(this.xa,null,this.Pa,!0,a)};function Hc(a,b,c,d,e){this.Xd=e||null;this.Je=d;this.Ta=[];for(e=1;!a.e();)if(e=b?c(a.key,b):1,d&&(e*=-1),0>e)a=this.Je?a.left:a.right;else if(0===e){this.Ta.push(a);break}else this.Ta.push(a),a=this.Je?a.right:a.left}
function Ic(a){if(0===a.Ta.length)return null;var b=a.Ta.pop(),c;c=a.Xd?a.Xd(b.key,b.value):{key:b.key,value:b.value};if(a.Je)for(b=b.left;!b.e();)a.Ta.push(b),b=b.right;else for(b=b.right;!b.e();)a.Ta.push(b),b=b.left;return c}function Jc(a){if(0===a.Ta.length)return null;var b;b=a.Ta;b=b[b.length-1];return a.Xd?a.Xd(b.key,b.value):{key:b.key,value:b.value}}function Kc(a,b,c,d,e){this.key=a;this.value=b;this.color=null!=c?c:!0;this.left=null!=d?d:Fc;this.right=null!=e?e:Fc}h=Kc.prototype;
h.$=function(a,b,c,d,e){return new Kc(null!=a?a:this.key,null!=b?b:this.value,null!=c?c:this.color,null!=d?d:this.left,null!=e?e:this.right)};h.count=function(){return this.left.count()+1+this.right.count()};h.e=function(){return!1};h.ka=function(a){return this.left.ka(a)||a(this.key,this.value)||this.right.ka(a)};function Lc(a){return a.left.e()?a:Lc(a.left)}h.Vc=function(){return Lc(this).key};h.jc=function(){return this.right.e()?this.key:this.right.jc()};
h.Sa=function(a,b,c){var d,e;e=this;d=c(a,e.key);e=0>d?e.$(null,null,null,e.left.Sa(a,b,c),null):0===d?e.$(null,b,null,null,null):e.$(null,null,null,null,e.right.Sa(a,b,c));return Mc(e)};function Nc(a){if(a.left.e())return Fc;a.left.ha()||a.left.left.ha()||(a=Oc(a));a=a.$(null,null,null,Nc(a.left),null);return Mc(a)}
h.remove=function(a,b){var c,d;c=this;if(0>b(a,c.key))c.left.e()||c.left.ha()||c.left.left.ha()||(c=Oc(c)),c=c.$(null,null,null,c.left.remove(a,b),null);else{c.left.ha()&&(c=Pc(c));c.right.e()||c.right.ha()||c.right.left.ha()||(c=Qc(c),c.left.left.ha()&&(c=Pc(c),c=Qc(c)));if(0===b(a,c.key)){if(c.right.e())return Fc;d=Lc(c.right);c=c.$(d.key,d.value,null,null,Nc(c.right))}c=c.$(null,null,null,null,c.right.remove(a,b))}return Mc(c)};h.ha=function(){return this.color};
function Mc(a){a.right.ha()&&!a.left.ha()&&(a=Rc(a));a.left.ha()&&a.left.left.ha()&&(a=Pc(a));a.left.ha()&&a.right.ha()&&(a=Qc(a));return a}function Oc(a){a=Qc(a);a.right.left.ha()&&(a=a.$(null,null,null,null,Pc(a.right)),a=Rc(a),a=Qc(a));return a}function Rc(a){return a.right.$(null,null,a.color,a.$(null,null,!0,null,a.right.left),null)}function Pc(a){return a.left.$(null,null,a.color,null,a.$(null,null,!0,a.left.right,null))}
function Qc(a){return a.$(null,null,!a.color,a.left.$(null,null,!a.left.color,null,null),a.right.$(null,null,!a.right.color,null,null))}function Sc(){}h=Sc.prototype;h.$=function(){return this};h.Sa=function(a,b){return new Kc(a,b,null)};h.remove=function(){return this};h.count=function(){return 0};h.e=function(){return!0};h.ka=function(){return!1};h.Vc=function(){return null};h.jc=function(){return null};h.ha=function(){return!1};var Fc=new Sc;function Tc(a,b){return a&&"object"===typeof a?(O(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function Uc(a,b){var c=new Vc;Wc(a,new P(""),function(a,e){c.rc(a,Xc(e,b))});return c}function Xc(a,b){var c=a.C().J(),c=Tc(c,b),d;if(a.L()){var e=Tc(a.Ea(),b);return e!==a.Ea()||c!==a.C().J()?new Yc(e,Q(c)):a}d=a;c!==a.C().J()&&(d=d.ia(new Yc(c)));a.R(R,function(a,c){var e=Xc(c,b);e!==c&&(d=d.W(a,e))});return d};function Zc(){this.Ac={}}Zc.prototype.set=function(a,b){null==b?delete this.Ac[a]:this.Ac[a]=b};Zc.prototype.get=function(a){return y(this.Ac,a)?this.Ac[a]:null};Zc.prototype.remove=function(a){delete this.Ac[a]};Zc.prototype.Af=!0;function $c(a){this.Ic=a;this.Sd="firebase:"}h=$c.prototype;h.set=function(a,b){null==b?this.Ic.removeItem(this.Sd+a):this.Ic.setItem(this.Sd+a,G(b))};h.get=function(a){a=this.Ic.getItem(this.Sd+a);return null==a?null:Rb(a)};h.remove=function(a){this.Ic.removeItem(this.Sd+a)};h.Af=!1;h.toString=function(){return this.Ic.toString()};function ad(a){try{if("undefined"!==typeof window&&"undefined"!==typeof window[a]){var b=window[a];b.setItem("firebase:sentinel","cache");b.removeItem("firebase:sentinel");return new $c(b)}}catch(c){}return new Zc}var bd=ad("localStorage"),cd=ad("sessionStorage");function dd(a,b,c,d,e){this.host=a.toLowerCase();this.domain=this.host.substr(this.host.indexOf(".")+1);this.ob=b;this.lc=c;this.ih=d;this.Rd=e||"";this.ab=bd.get("host:"+a)||this.host}function ed(a,b){b!==a.ab&&(a.ab=b,"s-"===a.ab.substr(0,2)&&bd.set("host:"+a.host,a.ab))}
function fd(a,b,c){O("string"===typeof b,"typeof type must == string");O("object"===typeof c,"typeof params must == object");if(b===gd)b=(a.ob?"wss://":"ws://")+a.ab+"/.ws?";else if(b===hd)b=(a.ob?"https://":"http://")+a.ab+"/.lp?";else throw Error("Unknown connection type: "+b);a.host!==a.ab&&(c.ns=a.lc);var d=[];v(c,function(a,b){d.push(b+"="+a)});return b+d.join("&")}dd.prototype.toString=function(){var a=(this.ob?"https://":"http://")+this.host;this.Rd&&(a+="<"+this.Rd+">");return a};var id=function(){var a=1;return function(){return a++}}(),O=Kb,jd=Lb;
function kd(a){try{var b;if("undefined"!==typeof atob)b=atob(a);else{ob();for(var c=mb,d=[],e=0;e<a.length;){var f=c[a.charAt(e++)],g=e<a.length?c[a.charAt(e)]:0;++e;var k=e<a.length?c[a.charAt(e)]:64;++e;var m=e<a.length?c[a.charAt(e)]:64;++e;if(null==f||null==g||null==k||null==m)throw Error();d.push(f<<2|g>>4);64!=k&&(d.push(g<<4&240|k>>2),64!=m&&d.push(k<<6&192|m))}if(8192>d.length)b=String.fromCharCode.apply(null,d);else{a="";for(c=0;c<d.length;c+=8192)a+=String.fromCharCode.apply(null,Ua(d,c,
c+8192));b=a}}return b}catch(l){fc("base64Decode failed: ",l)}return null}function ld(a){var b=Ob(a);a=new Ja;a.update(b);var b=[],c=8*a.ge;56>a.ec?a.update(a.Od,56-a.ec):a.update(a.Od,a.Ya-(a.ec-56));for(var d=a.Ya-1;56<=d;d--)a.pe[d]=c&255,c/=256;Ka(a,a.pe);for(d=c=0;5>d;d++)for(var e=24;0<=e;e-=8)b[c]=a.P[d]>>e&255,++c;return nb(b)}
function md(a){for(var b="",c=0;c<arguments.length;c++)b=ea(arguments[c])?b+md.apply(null,arguments[c]):"object"===typeof arguments[c]?b+G(arguments[c]):b+arguments[c],b+=" ";return b}var ec=null,nd=!0;
function od(a,b){Kb(!b||!0===a||!1===a,"Can't turn on custom loggers persistently.");!0===a?("undefined"!==typeof console&&("function"===typeof console.log?ec=u(console.log,console):"object"===typeof console.log&&(ec=function(a){console.log(a)})),b&&cd.set("logging_enabled",!0)):r(a)?ec=a:(ec=null,cd.remove("logging_enabled"))}function fc(a){!0===nd&&(nd=!1,null===ec&&!0===cd.get("logging_enabled")&&od(!0));if(ec){var b=md.apply(null,arguments);ec(b)}}
function pd(a){return function(){fc(a,arguments)}}function qd(a){if("undefined"!==typeof console){var b="FIREBASE INTERNAL ERROR: "+md.apply(null,arguments);"undefined"!==typeof console.error?console.error(b):console.log(b)}}function rd(a){var b=md.apply(null,arguments);throw Error("FIREBASE FATAL ERROR: "+b);}function S(a){if("undefined"!==typeof console){var b="FIREBASE WARNING: "+md.apply(null,arguments);"undefined"!==typeof console.warn?console.warn(b):console.log(b)}}
function sd(a){var b="",c="",d="",e="",f=!0,g="https",k=443;if(q(a)){var m=a.indexOf("//");0<=m&&(g=a.substring(0,m-1),a=a.substring(m+2));m=a.indexOf("/");-1===m&&(m=a.length);b=a.substring(0,m);e="";a=a.substring(m).split("/");for(m=0;m<a.length;m++)if(0<a[m].length){var l=a[m];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch(t){}e+="/"+l}a=b.split(".");3===a.length?(c=a[1],d=a[0].toLowerCase()):2===a.length&&(c=a[0]);m=b.indexOf(":");0<=m&&(f="https"===g||"wss"===g,k=b.substring(m+1),isFinite(k)&&
(k=String(k)),k=q(k)?/^\s*-?0x/i.test(k)?parseInt(k,16):parseInt(k,10):NaN)}return{host:b,port:k,domain:c,eh:d,ob:f,scheme:g,bd:e}}function td(a){return fa(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}
function ud(a){if("complete"===document.readyState)a();else{var b=!1,c=function(){document.body?b||(b=!0,a()):setTimeout(c,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",c,!1),window.addEventListener("load",c,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&c()}),window.attachEvent("onload",c))}}
function yc(a,b){if(a===b)return 0;if("[MIN_NAME]"===a||"[MAX_NAME]"===b)return-1;if("[MIN_NAME]"===b||"[MAX_NAME]"===a)return 1;var c=vd(a),d=vd(b);return null!==c?null!==d?0==c-d?a.length-b.length:c-d:-1:null!==d?1:a<b?-1:1}function wd(a,b){if(b&&a in b)return b[a];throw Error("Missing required key ("+a+") in object: "+G(b));}
function xd(a){if("object"!==typeof a||null===a)return G(a);var b=[],c;for(c in a)b.push(c);b.sort();c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=G(b[d]),c+=":",c+=xd(a[b[d]]);return c+"}"}function yd(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)d+b>a?c.push(a.substring(d,a.length)):c.push(a.substring(d,d+b));return c}function zd(a,b){if(da(a))for(var c=0;c<a.length;++c)b(c,a[c]);else v(a,b)}
function Ad(a){O(!td(a),"Invalid JSON number");var b,c,d,e;0===a?(d=c=0,b=-Infinity===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074))));e=[];for(a=52;a;--a)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;--a)e.push(c%2?1:0),c=Math.floor(c/2);e.push(b?1:0);e.reverse();b=e.join("");c="";for(a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&
(d="0"+d),c+=d;return c.toLowerCase()}var Bd=/^-?\d{1,10}$/;function vd(a){return Bd.test(a)&&(a=Number(a),-2147483648<=a&&2147483647>=a)?a:null}function gc(a){try{a()}catch(b){setTimeout(function(){S("Exception was thrown by user callback.",b.stack||"");throw b;},Math.floor(0))}}function T(a,b){if(r(a)){var c=Array.prototype.slice.call(arguments,1).slice();gc(function(){a.apply(null,c)})}};function Cd(a){var b={},c={},d={},e="";try{var f=a.split("."),b=Rb(kd(f[0])||""),c=Rb(kd(f[1])||""),e=f[2],d=c.d||{};delete c.d}catch(g){}return{lh:b,Ec:c,data:d,ah:e}}function Dd(a){a=Cd(a).Ec;return"object"===typeof a&&a.hasOwnProperty("iat")?z(a,"iat"):null}function Ed(a){a=Cd(a);var b=a.Ec;return!!a.ah&&!!b&&"object"===typeof b&&b.hasOwnProperty("iat")};function Fd(a){this.Y=a;this.g=a.n.g}function Gd(a,b,c,d){var e=[],f=[];Ma(b,function(b){"child_changed"===b.type&&a.g.Dd(b.Oe,b.Na)&&f.push(new J("child_moved",b.Na,b.Za))});Hd(a,e,"child_removed",b,d,c);Hd(a,e,"child_added",b,d,c);Hd(a,e,"child_moved",f,d,c);Hd(a,e,"child_changed",b,d,c);Hd(a,e,ic,b,d,c);return e}function Hd(a,b,c,d,e,f){d=Na(d,function(a){return a.type===c});Va(d,u(a.qg,a));Ma(d,function(c){var d=Id(a,c,f);Ma(e,function(e){e.Qf(c.type)&&b.push(e.createEvent(d,a.Y))})})}
function Id(a,b,c){"value"!==b.type&&"child_removed"!==b.type&&(b.Td=c.wf(b.Za,b.Na,a.g));return b}Fd.prototype.qg=function(a,b){if(null==a.Za||null==b.Za)throw jd("Should only compare child_ events.");return this.g.compare(new L(a.Za,a.Na),new L(b.Za,b.Na))};function Jd(){this.ib={}}
function Kd(a,b){var c=b.type,d=b.Za;O("child_added"==c||"child_changed"==c||"child_removed"==c,"Only child changes supported for tracking");O(".priority"!==d,"Only non-priority child changes can be tracked.");var e=z(a.ib,d);if(e){var f=e.type;if("child_added"==c&&"child_removed"==f)a.ib[d]=new J("child_changed",b.Na,d,e.Na);else if("child_removed"==c&&"child_added"==f)delete a.ib[d];else if("child_removed"==c&&"child_changed"==f)a.ib[d]=new J("child_removed",e.Oe,d);else if("child_changed"==c&&
"child_added"==f)a.ib[d]=new J("child_added",b.Na,d);else if("child_changed"==c&&"child_changed"==f)a.ib[d]=new J("child_changed",b.Na,d,e.Oe);else throw jd("Illegal combination of changes: "+b+" occurred after "+e);}else a.ib[d]=b};function Ld(a){this.g=a}h=Ld.prototype;h.H=function(a,b,c,d,e,f){O(a.Mc(this.g),"A node must be indexed if only a child is updated");e=a.T(b);if(e.S(d).ea(c.S(d))&&e.e()==c.e())return a;null!=f&&(c.e()?a.Fa(b)?Kd(f,new J("child_removed",e,b)):O(a.L(),"A child remove without an old child only makes sense on a leaf node"):e.e()?Kd(f,new J("child_added",c,b)):Kd(f,new J("child_changed",c,b,e)));return a.L()&&c.e()?a:a.W(b,c).pb(this.g)};
h.ya=function(a,b,c){null!=c&&(a.L()||a.R(R,function(a,e){b.Fa(a)||Kd(c,new J("child_removed",e,a))}),b.L()||b.R(R,function(b,e){if(a.Fa(b)){var f=a.T(b);f.ea(e)||Kd(c,new J("child_changed",e,b,f))}else Kd(c,new J("child_added",e,b))}));return b.pb(this.g)};h.ia=function(a,b){return a.e()?H:a.ia(b)};h.Ra=function(){return!1};h.$b=function(){return this};function Md(a){this.Fe=new Ld(a.g);this.g=a.g;var b;a.oa?(b=Nd(a),b=a.g.Sc(Od(a),b)):b=a.g.Wc();this.gd=b;a.ra?(b=Pd(a),a=a.g.Sc(Rd(a),b)):a=a.g.Tc();this.Jc=a}h=Md.prototype;h.matches=function(a){return 0>=this.g.compare(this.gd,a)&&0>=this.g.compare(a,this.Jc)};h.H=function(a,b,c,d,e,f){this.matches(new L(b,c))||(c=H);return this.Fe.H(a,b,c,d,e,f)};
h.ya=function(a,b,c){b.L()&&(b=H);var d=b.pb(this.g),d=d.ia(H),e=this;b.R(R,function(a,b){e.matches(new L(a,b))||(d=d.W(a,H))});return this.Fe.ya(a,d,c)};h.ia=function(a){return a};h.Ra=function(){return!0};h.$b=function(){return this.Fe};function Sd(a){this.ua=new Md(a);this.g=a.g;O(a.la,"Only valid if limit has been set");this.ma=a.ma;this.Nb=!Td(a)}h=Sd.prototype;h.H=function(a,b,c,d,e,f){this.ua.matches(new L(b,c))||(c=H);return a.T(b).ea(c)?a:a.Hb()<this.ma?this.ua.$b().H(a,b,c,d,e,f):Ud(this,a,b,c,e,f)};
h.ya=function(a,b,c){var d;if(b.L()||b.e())d=H.pb(this.g);else if(2*this.ma<b.Hb()&&b.Mc(this.g)){d=H.pb(this.g);b=this.Nb?b.dc(this.ua.Jc,this.g):b.bc(this.ua.gd,this.g);for(var e=0;0<b.Ta.length&&e<this.ma;){var f=Ic(b),g;if(g=this.Nb?0>=this.g.compare(this.ua.gd,f):0>=this.g.compare(f,this.ua.Jc))d=d.W(f.name,f.U),e++;else break}}else{d=b.pb(this.g);d=d.ia(H);var k,m,l;if(this.Nb){b=d.xf(this.g);k=this.ua.Jc;m=this.ua.gd;var t=Vd(this.g);l=function(a,b){return t(b,a)}}else b=d.ac(this.g),k=this.ua.gd,
m=this.ua.Jc,l=Vd(this.g);for(var e=0,A=!1;0<b.Ta.length;)f=Ic(b),!A&&0>=l(k,f)&&(A=!0),(g=A&&e<this.ma&&0>=l(f,m))?e++:d=d.W(f.name,H)}return this.ua.$b().ya(a,d,c)};h.ia=function(a){return a};h.Ra=function(){return!0};h.$b=function(){return this.ua.$b()};
function Ud(a,b,c,d,e,f){var g;if(a.Nb){var k=Vd(a.g);g=function(a,b){return k(b,a)}}else g=Vd(a.g);O(b.Hb()==a.ma,"");var m=new L(c,d),l=a.Nb?Wd(b,a.g):Xd(b,a.g),t=a.ua.matches(m);if(b.Fa(c)){for(var A=b.T(c),l=e.Ce(a.g,l,a.Nb);null!=l&&(l.name==c||b.Fa(l.name));)l=e.Ce(a.g,l,a.Nb);e=null==l?1:g(l,m);if(t&&!d.e()&&0<=e)return null!=f&&Kd(f,new J("child_changed",d,c,A)),b.W(c,d);null!=f&&Kd(f,new J("child_removed",A,c));b=b.W(c,H);return null!=l&&a.ua.matches(l)?(null!=f&&Kd(f,new J("child_added",
l.U,l.name)),b.W(l.name,l.U)):b}return d.e()?b:t&&0<=g(l,m)?(null!=f&&(Kd(f,new J("child_removed",l.U,l.name)),Kd(f,new J("child_added",d,c))),b.W(c,d).W(l.name,H)):b};function Yd(a,b){this.me=a;this.og=b}function Zd(a){this.X=a}
Zd.prototype.gb=function(a,b,c,d){var e=new Jd,f;if(b.type===Bc)b.source.Ae?c=$d(this,a,b.path,b.Ja,c,d,e):(O(b.source.tf,"Unknown source."),f=b.source.ef||mc(a.w())&&!b.path.e(),c=ae(this,a,b.path,b.Ja,c,d,f,e));else if(b.type===be)b.source.Ae?c=ce(this,a,b.path,b.children,c,d,e):(O(b.source.tf,"Unknown source."),f=b.source.ef||mc(a.w()),c=de(this,a,b.path,b.children,c,d,f,e));else if(b.type===ee)if(b.Yd)if(b=b.path,null!=c.xc(b))c=a;else{f=new Vb(c,a,d);d=a.Q.j();if(b.e()||".priority"===K(b))lc(a.w())?
b=c.Aa(Yb(a)):(b=a.w().j(),O(b instanceof fe,"serverChildren would be complete if leaf node"),b=c.Cc(b)),b=this.X.ya(d,b,e);else{var g=K(b),k=c.Bc(g,a.w());null==k&&Wb(a.w(),g)&&(k=d.T(g));b=null!=k?this.X.H(d,g,k,N(b),f,e):a.Q.j().Fa(g)?this.X.H(d,g,H,N(b),f,e):d;b.e()&&lc(a.w())&&(d=c.Aa(Yb(a)),d.L()&&(b=this.X.ya(b,d,e)))}d=lc(a.w())||null!=c.xc(M);c=ge(a,b,d,this.X.Ra())}else c=he(this,a,b.path,b.Ub,c,d,e);else if(b.type===Dc)d=b.path,b=a.w(),f=b.j(),g=b.ga||d.e(),c=ie(this,new je(a.Q,new Xb(f,
g,b.Yb)),d,c,Ub,e);else throw jd("Unknown operation type: "+b.type);e=qa(e.ib);d=c;b=d.Q;b.ga&&(f=b.j().L()||b.j().e(),g=ke(a),(0<e.length||!a.Q.ga||f&&!b.j().ea(g)||!b.j().C().ea(g.C()))&&e.push(hc(ke(d))));return new Yd(c,e)};
function ie(a,b,c,d,e,f){var g=b.Q;if(null!=d.xc(c))return b;var k;if(c.e())O(lc(b.w()),"If change path is empty, we must have complete server data"),mc(b.w())?(e=Yb(b),d=d.Cc(e instanceof fe?e:H)):d=d.Aa(Yb(b)),f=a.X.ya(b.Q.j(),d,f);else{var m=K(c);if(".priority"==m)O(1==le(c),"Can't have a priority with additional path components"),f=g.j(),k=b.w().j(),d=d.nd(c,f,k),f=null!=d?a.X.ia(f,d):g.j();else{var l=N(c);Wb(g,m)?(k=b.w().j(),d=d.nd(c,g.j(),k),d=null!=d?g.j().T(m).H(l,d):g.j().T(m)):d=d.Bc(m,
b.w());f=null!=d?a.X.H(g.j(),m,d,l,e,f):g.j()}}return ge(b,f,g.ga||c.e(),a.X.Ra())}function ae(a,b,c,d,e,f,g,k){var m=b.w();g=g?a.X:a.X.$b();if(c.e())d=g.ya(m.j(),d,null);else if(g.Ra()&&!m.Yb)d=m.j().H(c,d),d=g.ya(m.j(),d,null);else{var l=K(c);if(!nc(m,c)&&1<le(c))return b;var t=N(c);d=m.j().T(l).H(t,d);d=".priority"==l?g.ia(m.j(),d):g.H(m.j(),l,d,t,Ub,null)}m=m.ga||c.e();b=new je(b.Q,new Xb(d,m,g.Ra()));return ie(a,b,c,e,new Vb(e,b,f),k)}
function $d(a,b,c,d,e,f,g){var k=b.Q;e=new Vb(e,b,f);if(c.e())g=a.X.ya(b.Q.j(),d,g),a=ge(b,g,!0,a.X.Ra());else if(f=K(c),".priority"===f)g=a.X.ia(b.Q.j(),d),a=ge(b,g,k.ga,k.Yb);else{c=N(c);var m=k.j().T(f);if(!c.e()){var l=e.uf(f);d=null!=l?".priority"===me(c)&&l.S(c.parent()).e()?l:l.H(c,d):H}m.ea(d)?a=b:(g=a.X.H(k.j(),f,d,c,e,g),a=ge(b,g,k.ga,a.X.Ra()))}return a}
function ce(a,b,c,d,e,f,g){var k=b;ne(d,function(d,l){var t=c.o(d);Wb(b.Q,K(t))&&(k=$d(a,k,t,l,e,f,g))});ne(d,function(d,l){var t=c.o(d);Wb(b.Q,K(t))||(k=$d(a,k,t,l,e,f,g))});return k}function oe(a,b){ne(b,function(b,d){a=a.H(b,d)});return a}
function de(a,b,c,d,e,f,g,k){if(b.w().j().e()&&!lc(b.w()))return b;var m=b;c=c.e()?d:pe(qe,c,d);var l=b.w().j();c.children.ka(function(c,d){if(l.Fa(c)){var I=b.w().j().T(c),I=oe(I,d);m=ae(a,m,new P(c),I,e,f,g,k)}});c.children.ka(function(c,d){var I=!Wb(b.w(),c)&&null==d.value;l.Fa(c)||I||(I=b.w().j().T(c),I=oe(I,d),m=ae(a,m,new P(c),I,e,f,g,k))});return m}
function he(a,b,c,d,e,f,g){if(null!=e.xc(c))return b;var k=mc(b.w()),m=b.w();if(null!=d.value){if(c.e()&&m.ga||nc(m,c))return ae(a,b,c,m.j().S(c),e,f,k,g);if(c.e()){var l=qe;m.j().R(re,function(a,b){l=l.set(new P(a),b)});return de(a,b,c,l,e,f,k,g)}return b}l=qe;ne(d,function(a){var b=c.o(a);nc(m,b)&&(l=l.set(a,m.j().S(b)))});return de(a,b,c,l,e,f,k,g)};function se(){}var te={};function Vd(a){return u(a.compare,a)}se.prototype.Dd=function(a,b){return 0!==this.compare(new L("[MIN_NAME]",a),new L("[MIN_NAME]",b))};se.prototype.Wc=function(){return ue};function ve(a){O(!a.e()&&".priority"!==K(a),"Can't create PathIndex with empty path or .priority key");this.gc=a}ka(ve,se);h=ve.prototype;h.Lc=function(a){return!a.S(this.gc).e()};h.compare=function(a,b){var c=a.U.S(this.gc),d=b.U.S(this.gc),c=c.Gc(d);return 0===c?yc(a.name,b.name):c};
h.Sc=function(a,b){var c=Q(a),c=H.H(this.gc,c);return new L(b,c)};h.Tc=function(){var a=H.H(this.gc,we);return new L("[MAX_NAME]",a)};h.toString=function(){return this.gc.slice().join("/")};function xe(){}ka(xe,se);h=xe.prototype;h.compare=function(a,b){var c=a.U.C(),d=b.U.C(),c=c.Gc(d);return 0===c?yc(a.name,b.name):c};h.Lc=function(a){return!a.C().e()};h.Dd=function(a,b){return!a.C().ea(b.C())};h.Wc=function(){return ue};h.Tc=function(){return new L("[MAX_NAME]",new Yc("[PRIORITY-POST]",we))};
h.Sc=function(a,b){var c=Q(a);return new L(b,new Yc("[PRIORITY-POST]",c))};h.toString=function(){return".priority"};var R=new xe;function ye(){}ka(ye,se);h=ye.prototype;h.compare=function(a,b){return yc(a.name,b.name)};h.Lc=function(){throw jd("KeyIndex.isDefinedOn not expected to be called.");};h.Dd=function(){return!1};h.Wc=function(){return ue};h.Tc=function(){return new L("[MAX_NAME]",H)};h.Sc=function(a){O(q(a),"KeyIndex indexValue must always be a string.");return new L(a,H)};h.toString=function(){return".key"};
var re=new ye;function ze(){}ka(ze,se);h=ze.prototype;h.compare=function(a,b){var c=a.U.Gc(b.U);return 0===c?yc(a.name,b.name):c};h.Lc=function(){return!0};h.Dd=function(a,b){return!a.ea(b)};h.Wc=function(){return ue};h.Tc=function(){return Ae};h.Sc=function(a,b){var c=Q(a);return new L(b,c)};h.toString=function(){return".value"};var Be=new ze;function Ce(){this.Xb=this.ra=this.Pb=this.oa=this.la=!1;this.ma=0;this.Rb="";this.ic=null;this.Bb="";this.fc=null;this.zb="";this.g=R}var De=new Ce;function Td(a){return""===a.Rb?a.oa:"l"===a.Rb}function Od(a){O(a.oa,"Only valid if start has been set");return a.ic}function Nd(a){O(a.oa,"Only valid if start has been set");return a.Pb?a.Bb:"[MIN_NAME]"}function Rd(a){O(a.ra,"Only valid if end has been set");return a.fc}
function Pd(a){O(a.ra,"Only valid if end has been set");return a.Xb?a.zb:"[MAX_NAME]"}function Ee(a){var b=new Ce;b.la=a.la;b.ma=a.ma;b.oa=a.oa;b.ic=a.ic;b.Pb=a.Pb;b.Bb=a.Bb;b.ra=a.ra;b.fc=a.fc;b.Xb=a.Xb;b.zb=a.zb;b.g=a.g;return b}h=Ce.prototype;h.Le=function(a){var b=Ee(this);b.la=!0;b.ma=a;b.Rb="";return b};h.Me=function(a){var b=Ee(this);b.la=!0;b.ma=a;b.Rb="l";return b};h.Ne=function(a){var b=Ee(this);b.la=!0;b.ma=a;b.Rb="r";return b};
h.ce=function(a,b){var c=Ee(this);c.oa=!0;p(a)||(a=null);c.ic=a;null!=b?(c.Pb=!0,c.Bb=b):(c.Pb=!1,c.Bb="");return c};h.vd=function(a,b){var c=Ee(this);c.ra=!0;p(a)||(a=null);c.fc=a;p(b)?(c.Xb=!0,c.zb=b):(c.nh=!1,c.zb="");return c};function Fe(a,b){var c=Ee(a);c.g=b;return c}function Ge(a){var b={};a.oa&&(b.sp=a.ic,a.Pb&&(b.sn=a.Bb));a.ra&&(b.ep=a.fc,a.Xb&&(b.en=a.zb));if(a.la){b.l=a.ma;var c=a.Rb;""===c&&(c=Td(a)?"l":"r");b.vf=c}a.g!==R&&(b.i=a.g.toString());return b}
function He(a){return!(a.oa||a.ra||a.la)}function Ie(a){return He(a)&&a.g==R}function Je(a){var b={};if(Ie(a))return b;var c;a.g===R?c="$priority":a.g===Be?c="$value":a.g===re?c="$key":(O(a.g instanceof ve,"Unrecognized index type!"),c=a.g.toString());b.orderBy=G(c);a.oa&&(b.startAt=G(a.ic),a.Pb&&(b.startAt+=","+G(a.Bb)));a.ra&&(b.endAt=G(a.fc),a.Xb&&(b.endAt+=","+G(a.zb)));a.la&&(Td(a)?b.limitToFirst=a.ma:b.limitToLast=a.ma);return b}h.toString=function(){return G(Ge(this))};function Ke(a,b){this.Ed=a;this.hc=b}Ke.prototype.get=function(a){var b=z(this.Ed,a);if(!b)throw Error("No index defined for "+a);return b===te?null:b};function Le(a,b,c){var d=ma(a.Ed,function(d,f){var g=z(a.hc,f);O(g,"Missing index implementation for "+f);if(d===te){if(g.Lc(b.U)){for(var k=[],m=c.ac(wc),l=Ic(m);l;)l.name!=b.name&&k.push(l),l=Ic(m);k.push(b);return Me(k,Vd(g))}return te}g=c.get(b.name);k=d;g&&(k=k.remove(new L(b.name,g)));return k.Sa(b,b.U)});return new Ke(d,a.hc)}
function Ne(a,b,c){var d=ma(a.Ed,function(a){if(a===te)return a;var d=c.get(b.name);return d?a.remove(new L(b.name,d)):a});return new Ke(d,a.hc)}var Oe=new Ke({".priority":te},{".priority":R});function Yc(a,b){this.B=a;O(p(this.B)&&null!==this.B,"LeafNode shouldn't be created with null/undefined value.");this.ca=b||H;Pe(this.ca);this.Gb=null}var Qe=["object","boolean","number","string"];h=Yc.prototype;h.L=function(){return!0};h.C=function(){return this.ca};h.ia=function(a){return new Yc(this.B,a)};h.T=function(a){return".priority"===a?this.ca:H};h.S=function(a){return a.e()?this:".priority"===K(a)?this.ca:H};h.Fa=function(){return!1};h.wf=function(){return null};
h.W=function(a,b){return".priority"===a?this.ia(b):b.e()&&".priority"!==a?this:H.W(a,b).ia(this.ca)};h.H=function(a,b){var c=K(a);if(null===c)return b;if(b.e()&&".priority"!==c)return this;O(".priority"!==c||1===le(a),".priority must be the last token in a path");return this.W(c,H.H(N(a),b))};h.e=function(){return!1};h.Hb=function(){return 0};h.R=function(){return!1};h.J=function(a){return a&&!this.C().e()?{".value":this.Ea(),".priority":this.C().J()}:this.Ea()};
h.hash=function(){if(null===this.Gb){var a="";this.ca.e()||(a+="priority:"+Re(this.ca.J())+":");var b=typeof this.B,a=a+(b+":"),a="number"===b?a+Ad(this.B):a+this.B;this.Gb=ld(a)}return this.Gb};h.Ea=function(){return this.B};h.Gc=function(a){if(a===H)return 1;if(a instanceof fe)return-1;O(a.L(),"Unknown node type");var b=typeof a.B,c=typeof this.B,d=La(Qe,b),e=La(Qe,c);O(0<=d,"Unknown leaf type: "+b);O(0<=e,"Unknown leaf type: "+c);return d===e?"object"===c?0:this.B<a.B?-1:this.B===a.B?0:1:e-d};
h.pb=function(){return this};h.Mc=function(){return!0};h.ea=function(a){return a===this?!0:a.L()?this.B===a.B&&this.ca.ea(a.ca):!1};h.toString=function(){return G(this.J(!0))};function fe(a,b,c){this.m=a;(this.ca=b)&&Pe(this.ca);a.e()&&O(!this.ca||this.ca.e(),"An empty node cannot have a priority");this.Ab=c;this.Gb=null}h=fe.prototype;h.L=function(){return!1};h.C=function(){return this.ca||H};h.ia=function(a){return this.m.e()?this:new fe(this.m,a,this.Ab)};h.T=function(a){if(".priority"===a)return this.C();a=this.m.get(a);return null===a?H:a};h.S=function(a){var b=K(a);return null===b?this:this.T(b).S(N(a))};h.Fa=function(a){return null!==this.m.get(a)};
h.W=function(a,b){O(b,"We should always be passing snapshot nodes");if(".priority"===a)return this.ia(b);var c=new L(a,b),d,e;b.e()?(d=this.m.remove(a),c=Ne(this.Ab,c,this.m)):(d=this.m.Sa(a,b),c=Le(this.Ab,c,this.m));e=d.e()?H:this.ca;return new fe(d,e,c)};h.H=function(a,b){var c=K(a);if(null===c)return b;O(".priority"!==K(a)||1===le(a),".priority must be the last token in a path");var d=this.T(c).H(N(a),b);return this.W(c,d)};h.e=function(){return this.m.e()};h.Hb=function(){return this.m.count()};
var Se=/^(0|[1-9]\d*)$/;h=fe.prototype;h.J=function(a){if(this.e())return null;var b={},c=0,d=0,e=!0;this.R(R,function(f,g){b[f]=g.J(a);c++;e&&Se.test(f)?d=Math.max(d,Number(f)):e=!1});if(!a&&e&&d<2*c){var f=[],g;for(g in b)f[g]=b[g];return f}a&&!this.C().e()&&(b[".priority"]=this.C().J());return b};h.hash=function(){if(null===this.Gb){var a="";this.C().e()||(a+="priority:"+Re(this.C().J())+":");this.R(R,function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)});this.Gb=""===a?"":ld(a)}return this.Gb};
h.wf=function(a,b,c){return(c=Te(this,c))?(a=Gc(c,new L(a,b)))?a.name:null:Gc(this.m,a)};function Wd(a,b){var c;c=(c=Te(a,b))?(c=c.Vc())&&c.name:a.m.Vc();return c?new L(c,a.m.get(c)):null}function Xd(a,b){var c;c=(c=Te(a,b))?(c=c.jc())&&c.name:a.m.jc();return c?new L(c,a.m.get(c)):null}h.R=function(a,b){var c=Te(this,a);return c?c.ka(function(a){return b(a.name,a.U)}):this.m.ka(b)};h.ac=function(a){return this.bc(a.Wc(),a)};
h.bc=function(a,b){var c=Te(this,b);if(c)return c.bc(a,function(a){return a});for(var c=this.m.bc(a.name,wc),d=Jc(c);null!=d&&0>b.compare(d,a);)Ic(c),d=Jc(c);return c};h.xf=function(a){return this.dc(a.Tc(),a)};h.dc=function(a,b){var c=Te(this,b);if(c)return c.dc(a,function(a){return a});for(var c=this.m.dc(a.name,wc),d=Jc(c);null!=d&&0<b.compare(d,a);)Ic(c),d=Jc(c);return c};h.Gc=function(a){return this.e()?a.e()?0:-1:a.L()||a.e()?1:a===we?-1:0};
h.pb=function(a){if(a===re||sa(this.Ab.hc,a.toString()))return this;var b=this.Ab,c=this.m;O(a!==re,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var d=[],e=!1,c=c.ac(wc),f=Ic(c);f;)e=e||a.Lc(f.U),d.push(f),f=Ic(c);d=e?Me(d,Vd(a)):te;e=a.toString();c=wa(b.hc);c[e]=a;a=wa(b.Ed);a[e]=d;return new fe(this.m,this.ca,new Ke(a,c))};h.Mc=function(a){return a===re||sa(this.Ab.hc,a.toString())};
h.ea=function(a){if(a===this)return!0;if(a.L())return!1;if(this.C().ea(a.C())&&this.m.count()===a.m.count()){var b=this.ac(R);a=a.ac(R);for(var c=Ic(b),d=Ic(a);c&&d;){if(c.name!==d.name||!c.U.ea(d.U))return!1;c=Ic(b);d=Ic(a)}return null===c&&null===d}return!1};function Te(a,b){return b===re?null:a.Ab.get(b.toString())}h.toString=function(){return G(this.J(!0))};function Q(a,b){if(null===a)return H;var c=null;"object"===typeof a&&".priority"in a?c=a[".priority"]:"undefined"!==typeof b&&(c=b);O(null===c||"string"===typeof c||"number"===typeof c||"object"===typeof c&&".sv"in c,"Invalid priority type found: "+typeof c);"object"===typeof a&&".value"in a&&null!==a[".value"]&&(a=a[".value"]);if("object"!==typeof a||".sv"in a)return new Yc(a,Q(c));if(a instanceof Array){var d=H,e=a;v(e,function(a,b){if(y(e,b)&&"."!==b.substring(0,1)){var c=Q(a);if(c.L()||!c.e())d=
d.W(b,c)}});return d.ia(Q(c))}var f=[],g=!1,k=a;Fb(k,function(a){if("string"!==typeof a||"."!==a.substring(0,1)){var b=Q(k[a]);b.e()||(g=g||!b.C().e(),f.push(new L(a,b)))}});if(0==f.length)return H;var m=Me(f,xc,function(a){return a.name},zc);if(g){var l=Me(f,Vd(R));return new fe(m,Q(c),new Ke({".priority":l},{".priority":R}))}return new fe(m,Q(c),Oe)}var Ue=Math.log(2);
function Ve(a){this.count=parseInt(Math.log(a+1)/Ue,10);this.nf=this.count-1;this.ng=a+1&parseInt(Array(this.count+1).join("1"),2)}function We(a){var b=!(a.ng&1<<a.nf);a.nf--;return b}
function Me(a,b,c,d){function e(b,d){var f=d-b;if(0==f)return null;if(1==f){var l=a[b],t=c?c(l):l;return new Kc(t,l.U,!1,null,null)}var l=parseInt(f/2,10)+b,f=e(b,l),A=e(l+1,d),l=a[l],t=c?c(l):l;return new Kc(t,l.U,!1,f,A)}a.sort(b);var f=function(b){function d(b,g){var k=t-b,A=t;t-=b;var A=e(k+1,A),k=a[k],I=c?c(k):k,A=new Kc(I,k.U,g,null,A);f?f.left=A:l=A;f=A}for(var f=null,l=null,t=a.length,A=0;A<b.count;++A){var I=We(b),Qd=Math.pow(2,b.count-(A+1));I?d(Qd,!1):(d(Qd,!1),d(Qd,!0))}return l}(new Ve(a.length));
return null!==f?new Ec(d||b,f):new Ec(d||b)}function Re(a){return"number"===typeof a?"number:"+Ad(a):"string:"+a}function Pe(a){if(a.L()){var b=a.J();O("string"===typeof b||"number"===typeof b||"object"===typeof b&&y(b,".sv"),"Priority must be a string or number.")}else O(a===we||a.e(),"priority of unexpected type.");O(a===we||a.C().e(),"Priority nodes can't have a priority of their own.")}var H=new fe(new Ec(zc),null,Oe);function Xe(){fe.call(this,new Ec(zc),H,Oe)}ka(Xe,fe);h=Xe.prototype;
h.Gc=function(a){return a===this?0:1};h.ea=function(a){return a===this};h.C=function(){return this};h.T=function(){return H};h.e=function(){return!1};var we=new Xe,ue=new L("[MIN_NAME]",H),Ae=new L("[MAX_NAME]",we);function je(a,b){this.Q=a;this.ae=b}function ge(a,b,c,d){return new je(new Xb(b,c,d),a.ae)}function ke(a){return a.Q.ga?a.Q.j():null}je.prototype.w=function(){return this.ae};function Yb(a){return a.ae.ga?a.ae.j():null};function Ye(a,b){this.Y=a;var c=a.n,d=new Ld(c.g),c=He(c)?new Ld(c.g):c.la?new Sd(c):new Md(c);this.Nf=new Zd(c);var e=b.w(),f=b.Q,g=d.ya(H,e.j(),null),k=c.ya(H,f.j(),null);this.Oa=new je(new Xb(k,f.ga,c.Ra()),new Xb(g,e.ga,d.Ra()));this.$a=[];this.ug=new Fd(a)}function Ze(a){return a.Y}h=Ye.prototype;h.w=function(){return this.Oa.w().j()};h.kb=function(a){var b=Yb(this.Oa);return b&&(He(this.Y.n)||!a.e()&&!b.T(K(a)).e())?b.S(a):null};h.e=function(){return 0===this.$a.length};h.Tb=function(a){this.$a.push(a)};
h.nb=function(a,b){var c=[];if(b){O(null==a,"A cancel should cancel all event registrations.");var d=this.Y.path;Ma(this.$a,function(a){(a=a.lf(b,d))&&c.push(a)})}if(a){for(var e=[],f=0;f<this.$a.length;++f){var g=this.$a[f];if(!g.matches(a))e.push(g);else if(a.yf()){e=e.concat(this.$a.slice(f+1));break}}this.$a=e}else this.$a=[];return c};
h.gb=function(a,b,c){a.type===be&&null!==a.source.Lb&&(O(Yb(this.Oa),"We should always have a full cache before handling merges"),O(ke(this.Oa),"Missing event cache, even though we have a server cache"));var d=this.Oa;a=this.Nf.gb(d,a,b,c);b=this.Nf;c=a.me;O(c.Q.j().Mc(b.X.g),"Event snap not indexed");O(c.w().j().Mc(b.X.g),"Server snap not indexed");O(lc(a.me.w())||!lc(d.w()),"Once a server snap is complete, it should never go back");this.Oa=a.me;return $e(this,a.og,a.me.Q.j(),null)};
function af(a,b){var c=a.Oa.Q,d=[];c.j().L()||c.j().R(R,function(a,b){d.push(new J("child_added",b,a))});c.ga&&d.push(hc(c.j()));return $e(a,d,c.j(),b)}function $e(a,b,c,d){return Gd(a.ug,b,c,d?[d]:a.$a)};function bf(a,b,c){this.type=be;this.source=a;this.path=b;this.children=c}bf.prototype.$c=function(a){if(this.path.e())return a=this.children.subtree(new P(a)),a.e()?null:a.value?new Ac(this.source,M,a.value):new bf(this.source,M,a);O(K(this.path)===a,"Can't get a merge for a child not on the path of the operation");return new bf(this.source,N(this.path),this.children)};bf.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"};function cf(a,b){this.f=pd("p:rest:");this.G=a;this.Kb=b;this.Ca=null;this.ba={}}function df(a,b){if(p(b))return"tag$"+b;O(Ie(a.n),"should have a tag if it's not a default query.");return a.path.toString()}h=cf.prototype;
h.Cf=function(a,b,c,d){var e=a.path.toString();this.f("Listen called for "+e+" "+a.wa());var f=df(a,c),g={};this.ba[f]=g;a=Je(a.n);var k=this;ef(this,e+".json",a,function(a,b){var t=b;404===a&&(a=t=null);null===a&&k.Kb(e,t,!1,c);z(k.ba,f)===g&&d(a?401==a?"permission_denied":"rest_error:"+a:"ok",null)})};h.$f=function(a,b){var c=df(a,b);delete this.ba[c]};h.O=function(a,b){this.Ca=a;var c=Cd(a),d=c.data,c=c.Ec&&c.Ec.exp;b&&b("ok",{auth:d,expires:c})};h.je=function(a){this.Ca=null;a("ok",null)};
h.Qe=function(){};h.Gf=function(){};h.Md=function(){};h.put=function(){};h.Df=function(){};h.Ye=function(){};
function ef(a,b,c,d){c=c||{};c.format="export";a.Ca&&(c.auth=a.Ca);var e=(a.G.ob?"https://":"http://")+a.G.host+b+"?"+Ib(c);a.f("Sending REST request for "+e);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(d&&4===f.readyState){a.f("REST Response for "+e+" received. status:",f.status,"response:",f.responseText);var b=null;if(200<=f.status&&300>f.status){try{b=Rb(f.responseText)}catch(c){S("Failed to parse JSON response for "+e+": "+f.responseText)}d(null,b)}else 401!==f.status&&404!==
f.status&&S("Got unsuccessful REST response for "+e+" Status: "+f.status),d(f.status);d=null}};f.open("GET",e,!0);f.send()};function ff(a){O(da(a)&&0<a.length,"Requires a non-empty array");this.fg=a;this.Rc={}}ff.prototype.ie=function(a,b){var c;c=this.Rc[a]||[];var d=c.length;if(0<d){for(var e=Array(d),f=0;f<d;f++)e[f]=c[f];c=e}else c=[];for(d=0;d<c.length;d++)c[d].Dc.apply(c[d].Qa,Array.prototype.slice.call(arguments,1))};ff.prototype.Ib=function(a,b,c){gf(this,a);this.Rc[a]=this.Rc[a]||[];this.Rc[a].push({Dc:b,Qa:c});(a=this.Ee(a))&&b.apply(c,a)};
ff.prototype.mc=function(a,b,c){gf(this,a);a=this.Rc[a]||[];for(var d=0;d<a.length;d++)if(a[d].Dc===b&&(!c||c===a[d].Qa)){a.splice(d,1);break}};function gf(a,b){O(Ra(a.fg,function(a){return a===b}),"Unknown event: "+b)};var hf=function(){var a=0,b=[];return function(c){var d=c===a;a=c;for(var e=Array(8),f=7;0<=f;f--)e[f]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(c%64),c=Math.floor(c/64);O(0===c,"Cannot push at time == 0");c=e.join("");if(d){for(f=11;0<=f&&63===b[f];f--)b[f]=0;b[f]++}else for(f=0;12>f;f++)b[f]=Math.floor(64*Math.random());for(f=0;12>f;f++)c+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(b[f]);O(20===c.length,"nextPushId: Length should be 20.");
return c}}();function jf(){ff.call(this,["online"]);this.oc=!0;if("undefined"!==typeof window&&"undefined"!==typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.oc||(a.oc=!0,a.ie("online",!0))},!1);window.addEventListener("offline",function(){a.oc&&(a.oc=!1,a.ie("online",!1))},!1)}}ka(jf,ff);jf.prototype.Ee=function(a){O("online"===a,"Unknown event type: "+a);return[this.oc]};ba(jf);function kf(){ff.call(this,["visible"]);var a,b;"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!==typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!==typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!==typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden"));this.Sb=!0;if(b){var c=this;document.addEventListener(b,
function(){var b=!document[a];b!==c.Sb&&(c.Sb=b,c.ie("visible",b))},!1)}}ka(kf,ff);kf.prototype.Ee=function(a){O("visible"===a,"Unknown event type: "+a);return[this.Sb]};ba(kf);function P(a,b){if(1==arguments.length){this.u=a.split("/");for(var c=0,d=0;d<this.u.length;d++)0<this.u[d].length&&(this.u[c]=this.u[d],c++);this.u.length=c;this.aa=0}else this.u=a,this.aa=b}function lf(a,b){var c=K(a);if(null===c)return b;if(c===K(b))return lf(N(a),N(b));throw Error("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")");}
function mf(a,b){for(var c=a.slice(),d=b.slice(),e=0;e<c.length&&e<d.length;e++){var f=yc(c[e],d[e]);if(0!==f)return f}return c.length===d.length?0:c.length<d.length?-1:1}function K(a){return a.aa>=a.u.length?null:a.u[a.aa]}function le(a){return a.u.length-a.aa}function N(a){var b=a.aa;b<a.u.length&&b++;return new P(a.u,b)}function me(a){return a.aa<a.u.length?a.u[a.u.length-1]:null}h=P.prototype;
h.toString=function(){for(var a="",b=this.aa;b<this.u.length;b++)""!==this.u[b]&&(a+="/"+this.u[b]);return a||"/"};h.slice=function(a){return this.u.slice(this.aa+(a||0))};h.parent=function(){if(this.aa>=this.u.length)return null;for(var a=[],b=this.aa;b<this.u.length-1;b++)a.push(this.u[b]);return new P(a,0)};
h.o=function(a){for(var b=[],c=this.aa;c<this.u.length;c++)b.push(this.u[c]);if(a instanceof P)for(c=a.aa;c<a.u.length;c++)b.push(a.u[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new P(b,0)};h.e=function(){return this.aa>=this.u.length};h.ea=function(a){if(le(this)!==le(a))return!1;for(var b=this.aa,c=a.aa;b<=this.u.length;b++,c++)if(this.u[b]!==a.u[c])return!1;return!0};
h.contains=function(a){var b=this.aa,c=a.aa;if(le(this)>le(a))return!1;for(;b<this.u.length;){if(this.u[b]!==a.u[c])return!1;++b;++c}return!0};var M=new P("");function nf(a,b){this.Ua=a.slice();this.Ka=Math.max(1,this.Ua.length);this.pf=b;for(var c=0;c<this.Ua.length;c++)this.Ka+=Pb(this.Ua[c]);of(this)}nf.prototype.push=function(a){0<this.Ua.length&&(this.Ka+=1);this.Ua.push(a);this.Ka+=Pb(a);of(this)};nf.prototype.pop=function(){var a=this.Ua.pop();this.Ka-=Pb(a);0<this.Ua.length&&--this.Ka};
function of(a){if(768<a.Ka)throw Error(a.pf+"has a key path longer than 768 bytes ("+a.Ka+").");if(32<a.Ua.length)throw Error(a.pf+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+pf(a));}function pf(a){return 0==a.Ua.length?"":"in property '"+a.Ua.join(".")+"'"};function qf(a,b){this.value=a;this.children=b||rf}var rf=new Ec(function(a,b){return a===b?0:a<b?-1:1});function sf(a){var b=qe;v(a,function(a,d){b=b.set(new P(d),a)});return b}h=qf.prototype;h.e=function(){return null===this.value&&this.children.e()};function tf(a,b,c){if(null!=a.value&&c(a.value))return{path:M,value:a.value};if(b.e())return null;var d=K(b);a=a.children.get(d);return null!==a?(b=tf(a,N(b),c),null!=b?{path:(new P(d)).o(b.path),value:b.value}:null):null}
function uf(a,b){return tf(a,b,function(){return!0})}h.subtree=function(a){if(a.e())return this;var b=this.children.get(K(a));return null!==b?b.subtree(N(a)):qe};h.set=function(a,b){if(a.e())return new qf(b,this.children);var c=K(a),d=(this.children.get(c)||qe).set(N(a),b),c=this.children.Sa(c,d);return new qf(this.value,c)};
h.remove=function(a){if(a.e())return this.children.e()?qe:new qf(null,this.children);var b=K(a),c=this.children.get(b);return c?(a=c.remove(N(a)),b=a.e()?this.children.remove(b):this.children.Sa(b,a),null===this.value&&b.e()?qe:new qf(this.value,b)):this};h.get=function(a){if(a.e())return this.value;var b=this.children.get(K(a));return b?b.get(N(a)):null};
function pe(a,b,c){if(b.e())return c;var d=K(b);b=pe(a.children.get(d)||qe,N(b),c);d=b.e()?a.children.remove(d):a.children.Sa(d,b);return new qf(a.value,d)}function vf(a,b){return wf(a,M,b)}function wf(a,b,c){var d={};a.children.ka(function(a,f){d[a]=wf(f,b.o(a),c)});return c(b,a.value,d)}function xf(a,b,c){return yf(a,b,M,c)}function yf(a,b,c,d){var e=a.value?d(c,a.value):!1;if(e)return e;if(b.e())return null;e=K(b);return(a=a.children.get(e))?yf(a,N(b),c.o(e),d):null}
function zf(a,b,c){Af(a,b,M,c)}function Af(a,b,c,d){if(b.e())return a;a.value&&d(c,a.value);var e=K(b);return(a=a.children.get(e))?Af(a,N(b),c.o(e),d):qe}function ne(a,b){Bf(a,M,b)}function Bf(a,b,c){a.children.ka(function(a,e){Bf(e,b.o(a),c)});a.value&&c(b,a.value)}function Cf(a,b){a.children.ka(function(a,d){d.value&&b(a,d.value)})}var qe=new qf(null);qf.prototype.toString=function(){var a={};ne(this,function(b,c){a[b.toString()]=c.toString()});return G(a)};function Df(a,b,c){this.type=ee;this.source=Ef;this.path=a;this.Ub=b;this.Yd=c}Df.prototype.$c=function(a){if(this.path.e()){if(null!=this.Ub.value)return O(this.Ub.children.e(),"affectedTree should not have overlapping affected paths."),this;a=this.Ub.subtree(new P(a));return new Df(M,a,this.Yd)}O(K(this.path)===a,"operationForChild called for unrelated child.");return new Df(N(this.path),this.Ub,this.Yd)};
Df.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" ack write revert="+this.Yd+" affectedTree="+this.Ub+")"};var Bc=0,be=1,ee=2,Dc=3;function Ff(a,b,c,d){this.Ae=a;this.tf=b;this.Lb=c;this.ef=d;O(!d||b,"Tagged queries must be from server.")}var Ef=new Ff(!0,!1,null,!1),Gf=new Ff(!1,!0,null,!1);Ff.prototype.toString=function(){return this.Ae?"user":this.ef?"server(queryID="+this.Lb+")":"server"};function Hf(a){this.Z=a}var If=new Hf(new qf(null));function Jf(a,b,c){if(b.e())return new Hf(new qf(c));var d=uf(a.Z,b);if(null!=d){var e=d.path,d=d.value;b=lf(e,b);d=d.H(b,c);return new Hf(a.Z.set(e,d))}a=pe(a.Z,b,new qf(c));return new Hf(a)}function Kf(a,b,c){var d=a;Fb(c,function(a,c){d=Jf(d,b.o(a),c)});return d}Hf.prototype.Ud=function(a){if(a.e())return If;a=pe(this.Z,a,qe);return new Hf(a)};function Lf(a,b){var c=uf(a.Z,b);return null!=c?a.Z.get(c.path).S(lf(c.path,b)):null}
function Mf(a){var b=[],c=a.Z.value;null!=c?c.L()||c.R(R,function(a,c){b.push(new L(a,c))}):a.Z.children.ka(function(a,c){null!=c.value&&b.push(new L(a,c.value))});return b}function Nf(a,b){if(b.e())return a;var c=Lf(a,b);return null!=c?new Hf(new qf(c)):new Hf(a.Z.subtree(b))}Hf.prototype.e=function(){return this.Z.e()};Hf.prototype.apply=function(a){return Of(M,this.Z,a)};
function Of(a,b,c){if(null!=b.value)return c.H(a,b.value);var d=null;b.children.ka(function(b,f){".priority"===b?(O(null!==f.value,"Priority writes must always be leaf nodes"),d=f.value):c=Of(a.o(b),f,c)});c.S(a).e()||null===d||(c=c.H(a.o(".priority"),d));return c};function Pf(){this.V=If;this.pa=[];this.Pc=-1}function Qf(a,b){for(var c=0;c<a.pa.length;c++){var d=a.pa[c];if(d.md===b)return d}return null}h=Pf.prototype;
h.Ud=function(a){var b=Sa(this.pa,function(b){return b.md===a});O(0<=b,"removeWrite called with nonexistent writeId.");var c=this.pa[b];this.pa.splice(b,1);for(var d=c.visible,e=!1,f=this.pa.length-1;d&&0<=f;){var g=this.pa[f];g.visible&&(f>=b&&Rf(g,c.path)?d=!1:c.path.contains(g.path)&&(e=!0));f--}if(d){if(e)this.V=Sf(this.pa,Tf,M),this.Pc=0<this.pa.length?this.pa[this.pa.length-1].md:-1;else if(c.Ja)this.V=this.V.Ud(c.path);else{var k=this;v(c.children,function(a,b){k.V=k.V.Ud(c.path.o(b))})}return!0}return!1};
h.Aa=function(a,b,c,d){if(c||d){var e=Nf(this.V,a);return!d&&e.e()?b:d||null!=b||null!=Lf(e,M)?(e=Sf(this.pa,function(b){return(b.visible||d)&&(!c||!(0<=La(c,b.md)))&&(b.path.contains(a)||a.contains(b.path))},a),b=b||H,e.apply(b)):null}e=Lf(this.V,a);if(null!=e)return e;e=Nf(this.V,a);return e.e()?b:null!=b||null!=Lf(e,M)?(b=b||H,e.apply(b)):null};
h.Cc=function(a,b){var c=H,d=Lf(this.V,a);if(d)d.L()||d.R(R,function(a,b){c=c.W(a,b)});else if(b){var e=Nf(this.V,a);b.R(R,function(a,b){var d=Nf(e,new P(a)).apply(b);c=c.W(a,d)});Ma(Mf(e),function(a){c=c.W(a.name,a.U)})}else e=Nf(this.V,a),Ma(Mf(e),function(a){c=c.W(a.name,a.U)});return c};h.nd=function(a,b,c,d){O(c||d,"Either existingEventSnap or existingServerSnap must exist");a=a.o(b);if(null!=Lf(this.V,a))return null;a=Nf(this.V,a);return a.e()?d.S(b):a.apply(d.S(b))};
h.Bc=function(a,b,c){a=a.o(b);var d=Lf(this.V,a);return null!=d?d:Wb(c,b)?Nf(this.V,a).apply(c.j().T(b)):null};h.xc=function(a){return Lf(this.V,a)};h.qe=function(a,b,c,d,e,f){var g;a=Nf(this.V,a);g=Lf(a,M);if(null==g)if(null!=b)g=a.apply(b);else return[];g=g.pb(f);if(g.e()||g.L())return[];b=[];a=Vd(f);e=e?g.dc(c,f):g.bc(c,f);for(f=Ic(e);f&&b.length<d;)0!==a(f,c)&&b.push(f),f=Ic(e);return b};
function Rf(a,b){return a.Ja?a.path.contains(b):!!ta(a.children,function(c,d){return a.path.o(d).contains(b)})}function Tf(a){return a.visible}
function Sf(a,b,c){for(var d=If,e=0;e<a.length;++e){var f=a[e];if(b(f)){var g=f.path;if(f.Ja)c.contains(g)?(g=lf(c,g),d=Jf(d,g,f.Ja)):g.contains(c)&&(g=lf(g,c),d=Jf(d,M,f.Ja.S(g)));else if(f.children)if(c.contains(g))g=lf(c,g),d=Kf(d,g,f.children);else{if(g.contains(c))if(g=lf(g,c),g.e())d=Kf(d,M,f.children);else if(f=z(f.children,K(g)))f=f.S(N(g)),d=Jf(d,M,f)}else throw jd("WriteRecord should have .snap or .children");}}return d}function Uf(a,b){this.Qb=a;this.Z=b}h=Uf.prototype;
h.Aa=function(a,b,c){return this.Z.Aa(this.Qb,a,b,c)};h.Cc=function(a){return this.Z.Cc(this.Qb,a)};h.nd=function(a,b,c){return this.Z.nd(this.Qb,a,b,c)};h.xc=function(a){return this.Z.xc(this.Qb.o(a))};h.qe=function(a,b,c,d,e){return this.Z.qe(this.Qb,a,b,c,d,e)};h.Bc=function(a,b){return this.Z.Bc(this.Qb,a,b)};h.o=function(a){return new Uf(this.Qb.o(a),this.Z)};function Vf(){this.children={};this.pd=0;this.value=null}function Wf(a,b,c){this.Jd=a?a:"";this.Ha=b?b:null;this.A=c?c:new Vf}function Xf(a,b){for(var c=b instanceof P?b:new P(b),d=a,e;null!==(e=K(c));)d=new Wf(e,d,z(d.A.children,e)||new Vf),c=N(c);return d}h=Wf.prototype;h.Ea=function(){return this.A.value};function Yf(a,b){O("undefined"!==typeof b,"Cannot set value to undefined");a.A.value=b;Zf(a)}h.clear=function(){this.A.value=null;this.A.children={};this.A.pd=0;Zf(this)};
h.zd=function(){return 0<this.A.pd};h.e=function(){return null===this.Ea()&&!this.zd()};h.R=function(a){var b=this;v(this.A.children,function(c,d){a(new Wf(d,b,c))})};function $f(a,b,c,d){c&&!d&&b(a);a.R(function(a){$f(a,b,!0,d)});c&&d&&b(a)}function ag(a,b){for(var c=a.parent();null!==c&&!b(c);)c=c.parent()}h.path=function(){return new P(null===this.Ha?this.Jd:this.Ha.path()+"/"+this.Jd)};h.name=function(){return this.Jd};h.parent=function(){return this.Ha};
function Zf(a){if(null!==a.Ha){var b=a.Ha,c=a.Jd,d=a.e(),e=y(b.A.children,c);d&&e?(delete b.A.children[c],b.A.pd--,Zf(b)):d||e||(b.A.children[c]=a.A,b.A.pd++,Zf(b))}};var bg=/[\[\].#$\/\u0000-\u001F\u007F]/,cg=/[\[\].#$\u0000-\u001F\u007F]/,dg=/^[a-zA-Z][a-zA-Z._\-+]+$/;function eg(a){return q(a)&&0!==a.length&&!bg.test(a)}function fg(a){return null===a||q(a)||fa(a)&&!td(a)||ga(a)&&y(a,".sv")}function gg(a,b,c,d){d&&!p(b)||hg(E(a,1,d),b,c)}
function hg(a,b,c){c instanceof P&&(c=new nf(c,a));if(!p(b))throw Error(a+"contains undefined "+pf(c));if(r(b))throw Error(a+"contains a function "+pf(c)+" with contents: "+b.toString());if(td(b))throw Error(a+"contains "+b.toString()+" "+pf(c));if(q(b)&&b.length>10485760/3&&10485760<Pb(b))throw Error(a+"contains a string greater than 10485760 utf8 bytes "+pf(c)+" ('"+b.substring(0,50)+"...')");if(ga(b)){var d=!1,e=!1;Fb(b,function(b,g){if(".value"===b)d=!0;else if(".priority"!==b&&".sv"!==b&&(e=
!0,!eg(b)))throw Error(a+" contains an invalid key ("+b+") "+pf(c)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');c.push(b);hg(a,g,c);c.pop()});if(d&&e)throw Error(a+' contains ".value" child '+pf(c)+" in addition to actual children.");}}
function ig(a,b){var c,d;for(c=0;c<b.length;c++){d=b[c];for(var e=d.slice(),f=0;f<e.length;f++)if((".priority"!==e[f]||f!==e.length-1)&&!eg(e[f]))throw Error(a+"contains an invalid key ("+e[f]+") in path "+d.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');}b.sort(mf);e=null;for(c=0;c<b.length;c++){d=b[c];if(null!==e&&e.contains(d))throw Error(a+"contains a path "+e.toString()+" that is ancestor of another path "+d.toString());e=d}}
function jg(a,b,c){var d=E(a,1,!1);if(!ga(b)||da(b))throw Error(d+" must be an object containing the children to replace.");var e=[];Fb(b,function(a,b){var k=new P(a);hg(d,b,c.o(k));if(".priority"===me(k)&&!fg(b))throw Error(d+"contains an invalid value for '"+k.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");e.push(k)});ig(d,e)}
function kg(a,b,c){if(td(c))throw Error(E(a,b,!1)+"is "+c.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!fg(c))throw Error(E(a,b,!1)+"must be a valid Firebase priority (a string, finite number, server value, or null).");}
function lg(a,b,c){if(!c||p(b))switch(b){case "value":case "child_added":case "child_removed":case "child_changed":case "child_moved":break;default:throw Error(E(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".');}}function mg(a,b){if(p(b)&&!eg(b))throw Error(E(a,2,!0)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").');}
function ng(a,b){if(!q(b)||0===b.length||cg.test(b))throw Error(E(a,1,!1)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"');}function og(a,b){if(".info"===K(b))throw Error(a+" failed: Can't modify data under /.info/");}function pg(a,b){if(!q(b))throw Error(E(a,1,!1)+"must be a valid credential (a string).");}function qg(a,b,c){if(!q(c))throw Error(E(a,b,!1)+"must be a valid string.");}
function rg(a,b){qg(a,1,b);if(!dg.test(b))throw Error(E(a,1,!1)+"'"+b+"' is not a valid authentication provider.");}function sg(a,b,c,d){if(!d||p(c))if(!ga(c)||null===c)throw Error(E(a,b,d)+"must be a valid object.");}function tg(a,b,c){if(!ga(b)||!y(b,c))throw Error(E(a,1,!1)+'must contain the key "'+c+'"');if(!q(z(b,c)))throw Error(E(a,1,!1)+'must contain the key "'+c+'" with type "string"');};function ug(){this.set={}}h=ug.prototype;h.add=function(a,b){this.set[a]=null!==b?b:!0};h.contains=function(a){return y(this.set,a)};h.get=function(a){return this.contains(a)?this.set[a]:void 0};h.remove=function(a){delete this.set[a]};h.clear=function(){this.set={}};h.e=function(){return va(this.set)};h.count=function(){return oa(this.set)};function vg(a,b){v(a.set,function(a,d){b(d,a)})}h.keys=function(){var a=[];v(this.set,function(b,c){a.push(c)});return a};function Vc(){this.m=this.B=null}Vc.prototype.find=function(a){if(null!=this.B)return this.B.S(a);if(a.e()||null==this.m)return null;var b=K(a);a=N(a);return this.m.contains(b)?this.m.get(b).find(a):null};Vc.prototype.rc=function(a,b){if(a.e())this.B=b,this.m=null;else if(null!==this.B)this.B=this.B.H(a,b);else{null==this.m&&(this.m=new ug);var c=K(a);this.m.contains(c)||this.m.add(c,new Vc);c=this.m.get(c);a=N(a);c.rc(a,b)}};
function wg(a,b){if(b.e())return a.B=null,a.m=null,!0;if(null!==a.B){if(a.B.L())return!1;var c=a.B;a.B=null;c.R(R,function(b,c){a.rc(new P(b),c)});return wg(a,b)}return null!==a.m?(c=K(b),b=N(b),a.m.contains(c)&&wg(a.m.get(c),b)&&a.m.remove(c),a.m.e()?(a.m=null,!0):!1):!0}function Wc(a,b,c){null!==a.B?c(b,a.B):a.R(function(a,e){var f=new P(b.toString()+"/"+a);Wc(e,f,c)})}Vc.prototype.R=function(a){null!==this.m&&vg(this.m,function(b,c){a(b,c)})};var xg="auth.firebase.com";function yg(a,b,c){this.qd=a||{};this.he=b||{};this.fb=c||{};this.qd.remember||(this.qd.remember="default")}var zg=["remember","redirectTo"];function Ag(a){var b={},c={};Fb(a||{},function(a,e){0<=La(zg,a)?b[a]=e:c[a]=e});return new yg(b,{},c)};function Bg(a,b){this.Ue=["session",a.Rd,a.lc].join(":");this.ee=b}Bg.prototype.set=function(a,b){if(!b)if(this.ee.length)b=this.ee[0];else throw Error("fb.login.SessionManager : No storage options available!");b.set(this.Ue,a)};Bg.prototype.get=function(){var a=Oa(this.ee,u(this.Bg,this)),a=Na(a,function(a){return null!==a});Va(a,function(a,c){return Dd(c.token)-Dd(a.token)});return 0<a.length?a.shift():null};Bg.prototype.Bg=function(a){try{var b=a.get(this.Ue);if(b&&b.token)return b}catch(c){}return null};
Bg.prototype.clear=function(){var a=this;Ma(this.ee,function(b){b.remove(a.Ue)})};function Cg(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Dg(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cg())}function Eg(){return"undefined"!==typeof location&&/^file:\//.test(location.href)}
function Fg(a){var b=Cg();if(""===b)return!1;if("Microsoft Internet Explorer"===navigator.appName){if((b=b.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/))&&1<b.length)return parseFloat(b[1])>=a}else if(-1<b.indexOf("Trident")&&(b=b.match(/rv:([0-9]{2,2}[\.0-9]{0,})/))&&1<b.length)return parseFloat(b[1])>=a;return!1};function Gg(){var a=window.opener.frames,b;for(b=a.length-1;0<=b;b--)try{if(a[b].location.protocol===window.location.protocol&&a[b].location.host===window.location.host&&"__winchan_relay_frame"===a[b].name)return a[b]}catch(c){}return null}function Hg(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function Ig(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}
function Jg(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}function Kg(a){var b="";try{a=a.replace(/.*\?/,"");var c=Jb(a);c&&y(c,"__firebase_request_key")&&(b=z(c,"__firebase_request_key"))}catch(d){}return b}function Lg(){try{var a=document.location.hash.replace(/&__firebase_request_key=([a-zA-z0-9]*)/,""),a=a.replace(/\?$/,""),a=a.replace(/^#+$/,"");document.location.hash=a}catch(b){}}
function Mg(){var a=sd(xg);return a.scheme+"://"+a.host+"/v2"}function Ng(a){return Mg()+"/"+a+"/auth/channel"};function Og(a){var b=this;this.hb=a;this.fe="*";Fg(8)?this.Uc=this.Cd=Gg():(this.Uc=window.opener,this.Cd=window);if(!b.Uc)throw"Unable to find relay frame";Hg(this.Cd,"message",u(this.nc,this));Hg(this.Cd,"message",u(this.Ff,this));try{Pg(this,{a:"ready"})}catch(c){Hg(this.Uc,"load",function(){Pg(b,{a:"ready"})})}Hg(window,"unload",u(this.Mg,this))}function Pg(a,b){b=G(b);Fg(8)?a.Uc.doPost(b,a.fe):a.Uc.postMessage(b,a.fe)}
Og.prototype.nc=function(a){var b=this,c;try{c=Rb(a.data)}catch(d){}c&&"request"===c.a&&(Ig(window,"message",this.nc),this.fe=a.origin,this.hb&&setTimeout(function(){b.hb(b.fe,c.d,function(a,c){b.mg=!c;b.hb=void 0;Pg(b,{a:"response",d:a,forceKeepWindowOpen:c})})},0))};Og.prototype.Mg=function(){try{Ig(this.Cd,"message",this.Ff)}catch(a){}this.hb&&(Pg(this,{a:"error",d:"unknown closed window"}),this.hb=void 0);try{window.close()}catch(b){}};Og.prototype.Ff=function(a){if(this.mg&&"die"===a.data)try{window.close()}catch(b){}};function Qg(a){this.tc=Fa()+Fa()+Fa();this.Kf=a}Qg.prototype.open=function(a,b){cd.set("redirect_request_id",this.tc);cd.set("redirect_request_id",this.tc);b.requestId=this.tc;b.redirectTo=b.redirectTo||window.location.href;a+=(/\?/.test(a)?"":"?")+Ib(b);window.location=a};Qg.isAvailable=function(){return!Eg()&&!Dg()};Qg.prototype.Fc=function(){return"redirect"};var Rg={NETWORK_ERROR:"Unable to contact the Firebase server.",SERVER_ERROR:"An unknown server error occurred.",TRANSPORT_UNAVAILABLE:"There are no login transports available for the requested method.",REQUEST_INTERRUPTED:"The browser redirected the page before the login request could complete.",USER_CANCELLED:"The user cancelled authentication."};function Sg(a){var b=Error(z(Rg,a),a);b.code=a;return b};function Tg(a){var b;(b=!a.window_features)||(b=Cg(),b=-1!==b.indexOf("Fennec/")||-1!==b.indexOf("Firefox/")&&-1!==b.indexOf("Android"));b&&(a.window_features=void 0);a.window_name||(a.window_name="_blank");this.options=a}
Tg.prototype.open=function(a,b,c){function d(a){g&&(document.body.removeChild(g),g=void 0);t&&(t=clearInterval(t));Ig(window,"message",e);Ig(window,"unload",d);if(l&&!a)try{l.close()}catch(b){k.postMessage("die",m)}l=k=void 0}function e(a){if(a.origin===m)try{var b=Rb(a.data);"ready"===b.a?k.postMessage(A,m):"error"===b.a?(d(!1),c&&(c(b.d),c=null)):"response"===b.a&&(d(b.forceKeepWindowOpen),c&&(c(null,b.d),c=null))}catch(e){}}var f=Fg(8),g,k;if(!this.options.relay_url)return c(Error("invalid arguments: origin of url and relay_url must match"));
var m=Jg(a);if(m!==Jg(this.options.relay_url))c&&setTimeout(function(){c(Error("invalid arguments: origin of url and relay_url must match"))},0);else{f&&(g=document.createElement("iframe"),g.setAttribute("src",this.options.relay_url),g.style.display="none",g.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(g),k=g.contentWindow);a+=(/\?/.test(a)?"":"?")+Ib(b);var l=window.open(a,this.options.window_name,this.options.window_features);k||(k=l);var t=setInterval(function(){l&&l.closed&&
(d(!1),c&&(c(Sg("USER_CANCELLED")),c=null))},500),A=G({a:"request",d:b});Hg(window,"unload",d);Hg(window,"message",e)}};
Tg.isAvailable=function(){var a;if(a="postMessage"in window&&!Eg())(a=Dg()||"undefined"!==typeof navigator&&(!!Cg().match(/Windows Phone/)||!!window.Windows&&/^ms-appx:/.test(location.href)))||(a=Cg(),a="undefined"!==typeof navigator&&"undefined"!==typeof window&&!!(a.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i)||a.match(/CriOS/)||a.match(/Twitter for iPhone/)||a.match(/FBAN\/FBIOS/)||window.navigator.standalone)),a=!a;return a&&!Cg().match(/PhantomJS/)};Tg.prototype.Fc=function(){return"popup"};function Ug(a){a.method||(a.method="GET");a.headers||(a.headers={});a.headers.content_type||(a.headers.content_type="application/json");a.headers.content_type=a.headers.content_type.toLowerCase();this.options=a}
Ug.prototype.open=function(a,b,c){function d(){c&&(c(Sg("REQUEST_INTERRUPTED")),c=null)}var e=new XMLHttpRequest,f=this.options.method.toUpperCase(),g;Hg(window,"beforeunload",d);e.onreadystatechange=function(){if(c&&4===e.readyState){var a;if(200<=e.status&&300>e.status){try{a=Rb(e.responseText)}catch(b){}c(null,a)}else 500<=e.status&&600>e.status?c(Sg("SERVER_ERROR")):c(Sg("NETWORK_ERROR"));c=null;Ig(window,"beforeunload",d)}};if("GET"===f)a+=(/\?/.test(a)?"":"?")+Ib(b),g=null;else{var k=this.options.headers.content_type;
"application/json"===k&&(g=G(b));"application/x-www-form-urlencoded"===k&&(g=Ib(b))}e.open(f,a,!0);a={"X-Requested-With":"XMLHttpRequest",Accept:"application/json;text/plain"};ya(a,this.options.headers);for(var m in a)e.setRequestHeader(m,a[m]);e.send(g)};Ug.isAvailable=function(){var a;if(a=!!window.XMLHttpRequest)a=Cg(),a=!(a.match(/MSIE/)||a.match(/Trident/))||Fg(10);return a};Ug.prototype.Fc=function(){return"json"};function Vg(a){this.tc=Fa()+Fa()+Fa();this.Kf=a}
Vg.prototype.open=function(a,b,c){function d(){c&&(c(Sg("USER_CANCELLED")),c=null)}var e=this,f=sd(xg),g;b.requestId=this.tc;b.redirectTo=f.scheme+"://"+f.host+"/blank/page.html";a+=/\?/.test(a)?"":"?";a+=Ib(b);(g=window.open(a,"_blank","location=no"))&&r(g.addEventListener)?(g.addEventListener("loadstart",function(a){var b;if(b=a&&a.url)a:{try{var l=document.createElement("a");l.href=a.url;b=l.host===f.host&&"/blank/page.html"===l.pathname;break a}catch(t){}b=!1}b&&(a=Kg(a.url),g.removeEventListener("exit",
d),g.close(),a=new yg(null,null,{requestId:e.tc,requestKey:a}),e.Kf.requestWithCredential("/auth/session",a,c),c=null)}),g.addEventListener("exit",d)):c(Sg("TRANSPORT_UNAVAILABLE"))};Vg.isAvailable=function(){return Dg()};Vg.prototype.Fc=function(){return"redirect"};function Wg(a){a.callback_parameter||(a.callback_parameter="callback");this.options=a;window.__firebase_auth_jsonp=window.__firebase_auth_jsonp||{}}
Wg.prototype.open=function(a,b,c){function d(){c&&(c(Sg("REQUEST_INTERRUPTED")),c=null)}function e(){setTimeout(function(){window.__firebase_auth_jsonp[f]=void 0;va(window.__firebase_auth_jsonp)&&(window.__firebase_auth_jsonp=void 0);try{var a=document.getElementById(f);a&&a.parentNode.removeChild(a)}catch(b){}},1);Ig(window,"beforeunload",d)}var f="fn"+(new Date).getTime()+Math.floor(99999*Math.random());b[this.options.callback_parameter]="__firebase_auth_jsonp."+f;a+=(/\?/.test(a)?"":"?")+Ib(b);
Hg(window,"beforeunload",d);window.__firebase_auth_jsonp[f]=function(a){c&&(c(null,a),c=null);e()};Xg(f,a,c)};
function Xg(a,b,c){setTimeout(function(){try{var d=document.createElement("script");d.type="text/javascript";d.id=a;d.async=!0;d.src=b;d.onerror=function(){var b=document.getElementById(a);null!==b&&b.parentNode.removeChild(b);c&&c(Sg("NETWORK_ERROR"))};var e=document.getElementsByTagName("head");(e&&0!=e.length?e[0]:document.documentElement).appendChild(d)}catch(f){c&&c(Sg("NETWORK_ERROR"))}},0)}Wg.isAvailable=function(){return"undefined"!==typeof document&&null!=document.createElement};
Wg.prototype.Fc=function(){return"json"};function Yg(a,b,c,d){ff.call(this,["auth_status"]);this.G=a;this.hf=b;this.hh=c;this.Pe=d;this.wc=new Bg(a,[bd,cd]);this.qb=null;this.We=!1;Zg(this)}ka(Yg,ff);h=Yg.prototype;h.Be=function(){return this.qb||null};function Zg(a){cd.get("redirect_request_id")&&$g(a);var b=a.wc.get();b&&b.token?(ah(a,b),a.hf(b.token,function(c,d){bh(a,c,d,!1,b.token,b)},function(b,d){ch(a,"resumeSession()",b,d)})):ah(a,null)}
function dh(a,b,c,d,e,f){"firebaseio-demo.com"===a.G.domain&&S("Firebase authentication is not supported on demo Firebases (*.firebaseio-demo.com). To secure your Firebase, create a production Firebase at https://www.firebase.com.");a.hf(b,function(f,k){bh(a,f,k,!0,b,c,d||{},e)},function(b,c){ch(a,"auth()",b,c,f)})}function eh(a,b){a.wc.clear();ah(a,null);a.hh(function(a,d){if("ok"===a)T(b,null);else{var e=(a||"error").toUpperCase(),f=e;d&&(f+=": "+d);f=Error(f);f.code=e;T(b,f)}})}
function bh(a,b,c,d,e,f,g,k){"ok"===b?(d&&(b=c.auth,f.auth=b,f.expires=c.expires,f.token=Ed(e)?e:"",c=null,b&&y(b,"uid")?c=z(b,"uid"):y(f,"uid")&&(c=z(f,"uid")),f.uid=c,c="custom",b&&y(b,"provider")?c=z(b,"provider"):y(f,"provider")&&(c=z(f,"provider")),f.provider=c,a.wc.clear(),Ed(e)&&(g=g||{},c=bd,"sessionOnly"===g.remember&&(c=cd),"none"!==g.remember&&a.wc.set(f,c)),ah(a,f)),T(k,null,f)):(a.wc.clear(),ah(a,null),f=a=(b||"error").toUpperCase(),c&&(f+=": "+c),f=Error(f),f.code=a,T(k,f))}
function ch(a,b,c,d,e){S(b+" was canceled: "+d);a.wc.clear();ah(a,null);a=Error(d);a.code=c.toUpperCase();T(e,a)}function fh(a,b,c,d,e){gh(a);c=new yg(d||{},{},c||{});hh(a,[Ug,Wg],"/auth/"+b,c,e)}
function ih(a,b,c,d){gh(a);var e=[Tg,Vg];c=Ag(c);"anonymous"===b||"password"===b?setTimeout(function(){T(d,Sg("TRANSPORT_UNAVAILABLE"))},0):(c.he.window_features="menubar=yes,modal=yes,alwaysRaised=yeslocation=yes,resizable=yes,scrollbars=yes,status=yes,height=625,width=625,top="+("object"===typeof screen?.5*(screen.height-625):0)+",left="+("object"===typeof screen?.5*(screen.width-625):0),c.he.relay_url=Ng(a.G.lc),c.he.requestWithCredential=u(a.uc,a),hh(a,e,"/auth/"+b,c,d))}
function $g(a){var b=cd.get("redirect_request_id");if(b){var c=cd.get("redirect_client_options");cd.remove("redirect_request_id");cd.remove("redirect_client_options");var d=[Ug,Wg],b={requestId:b,requestKey:Kg(document.location.hash)},c=new yg(c,{},b);a.We=!0;Lg();hh(a,d,"/auth/session",c,function(){this.We=!1}.bind(a))}}h.ve=function(a,b){gh(this);var c=Ag(a);c.fb._method="POST";this.uc("/users",c,function(a,c){a?T(b,a):T(b,a,c)})};
h.Xe=function(a,b){var c=this;gh(this);var d="/users/"+encodeURIComponent(a.email),e=Ag(a);e.fb._method="DELETE";this.uc(d,e,function(a,d){!a&&d&&d.uid&&c.qb&&c.qb.uid&&c.qb.uid===d.uid&&eh(c);T(b,a)})};h.se=function(a,b){gh(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=Ag(a);d.fb._method="PUT";d.fb.password=a.newPassword;this.uc(c,d,function(a){T(b,a)})};
h.re=function(a,b){gh(this);var c="/users/"+encodeURIComponent(a.oldEmail)+"/email",d=Ag(a);d.fb._method="PUT";d.fb.email=a.newEmail;d.fb.password=a.password;this.uc(c,d,function(a){T(b,a)})};h.Ze=function(a,b){gh(this);var c="/users/"+encodeURIComponent(a.email)+"/password",d=Ag(a);d.fb._method="POST";this.uc(c,d,function(a){T(b,a)})};h.uc=function(a,b,c){jh(this,[Ug,Wg],a,b,c)};
function hh(a,b,c,d,e){jh(a,b,c,d,function(b,c){!b&&c&&c.token&&c.uid?dh(a,c.token,c,d.qd,function(a,b){a?T(e,a):T(e,null,b)}):T(e,b||Sg("UNKNOWN_ERROR"))})}
function jh(a,b,c,d,e){b=Na(b,function(a){return"function"===typeof a.isAvailable&&a.isAvailable()});0===b.length?setTimeout(function(){T(e,Sg("TRANSPORT_UNAVAILABLE"))},0):(b=new (b.shift())(d.he),d=Gb(d.fb),d.v="js-"+Eb,d.transport=b.Fc(),d.suppress_status_codes=!0,a=Mg()+"/"+a.G.lc+c,b.open(a,d,function(a,b){if(a)T(e,a);else if(b&&b.error){var c=Error(b.error.message);c.code=b.error.code;c.details=b.error.details;T(e,c)}else T(e,null,b)}))}
function ah(a,b){var c=null!==a.qb||null!==b;a.qb=b;c&&a.ie("auth_status",b);a.Pe(null!==b)}h.Ee=function(a){O("auth_status"===a,'initial event must be of type "auth_status"');return this.We?null:[this.qb]};function gh(a){var b=a.G;if("firebaseio.com"!==b.domain&&"firebaseio-demo.com"!==b.domain&&"auth.firebase.com"===xg)throw Error("This custom Firebase server ('"+a.G.domain+"') does not support delegated login.");};var gd="websocket",hd="long_polling";function kh(a){this.nc=a;this.Qd=[];this.Wb=0;this.te=-1;this.Jb=null}function lh(a,b,c){a.te=b;a.Jb=c;a.te<a.Wb&&(a.Jb(),a.Jb=null)}function mh(a,b,c){for(a.Qd[b]=c;a.Qd[a.Wb];){var d=a.Qd[a.Wb];delete a.Qd[a.Wb];for(var e=0;e<d.length;++e)if(d[e]){var f=a;gc(function(){f.nc(d[e])})}if(a.Wb===a.te){a.Jb&&(clearTimeout(a.Jb),a.Jb(),a.Jb=null);break}a.Wb++}};function nh(a,b,c,d){this.ue=a;this.f=pd(a);this.rb=this.sb=0;this.Xa=uc(b);this.Xf=c;this.Kc=!1;this.Fb=d;this.ld=function(a){return fd(b,hd,a)}}var oh,ph;
nh.prototype.open=function(a,b){this.mf=0;this.na=b;this.Ef=new kh(a);this.Db=!1;var c=this;this.ub=setTimeout(function(){c.f("Timed out trying to connect.");c.bb();c.ub=null},Math.floor(3E4));ud(function(){if(!c.Db){c.Wa=new qh(function(a,b,d,k,m){rh(c,arguments);if(c.Wa)if(c.ub&&(clearTimeout(c.ub),c.ub=null),c.Kc=!0,"start"==a)c.id=b,c.Mf=d;else if("close"===a)b?(c.Wa.$d=!1,lh(c.Ef,b,function(){c.bb()})):c.bb();else throw Error("Unrecognized command received: "+a);},function(a,b){rh(c,arguments);
mh(c.Ef,a,b)},function(){c.bb()},c.ld);var a={start:"t"};a.ser=Math.floor(1E8*Math.random());c.Wa.ke&&(a.cb=c.Wa.ke);a.v="5";c.Xf&&(a.s=c.Xf);c.Fb&&(a.ls=c.Fb);"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");a=c.ld(a);c.f("Connecting via long-poll to "+a);sh(c.Wa,a,function(){})}})};
nh.prototype.start=function(){var a=this.Wa,b=this.Mf;a.Fg=this.id;a.Gg=b;for(a.oe=!0;th(a););a=this.id;b=this.Mf;this.kc=document.createElement("iframe");var c={dframe:"t"};c.id=a;c.pw=b;this.kc.src=this.ld(c);this.kc.style.display="none";document.body.appendChild(this.kc)};
nh.isAvailable=function(){return oh||!ph&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.jh)&&!0};h=nh.prototype;h.Hd=function(){};h.fd=function(){this.Db=!0;this.Wa&&(this.Wa.close(),this.Wa=null);this.kc&&(document.body.removeChild(this.kc),this.kc=null);this.ub&&(clearTimeout(this.ub),this.ub=null)};
h.bb=function(){this.Db||(this.f("Longpoll is closing itself"),this.fd(),this.na&&(this.na(this.Kc),this.na=null))};h.close=function(){this.Db||(this.f("Longpoll is being closed."),this.fd())};h.send=function(a){a=G(a);this.sb+=a.length;rc(this.Xa,"bytes_sent",a.length);a=Ob(a);a=nb(a,!0);a=yd(a,1840);for(var b=0;b<a.length;b++){var c=this.Wa;c.cd.push({Xg:this.mf,gh:a.length,of:a[b]});c.oe&&th(c);this.mf++}};function rh(a,b){var c=G(b).length;a.rb+=c;rc(a.Xa,"bytes_received",c)}
function qh(a,b,c,d){this.ld=d;this.lb=c;this.Te=new ug;this.cd=[];this.we=Math.floor(1E8*Math.random());this.$d=!0;this.ke=id();window["pLPCommand"+this.ke]=a;window["pRTLPCB"+this.ke]=b;a=document.createElement("iframe");a.style.display="none";if(document.body){document.body.appendChild(a);try{a.contentWindow.document||fc("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";
a.contentDocument?a.jb=a.contentDocument:a.contentWindow?a.jb=a.contentWindow.document:a.document&&(a.jb=a.document);this.Ga=a;a="";this.Ga.src&&"javascript:"===this.Ga.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";\x3c/script>');a="<html><body>"+a+"</body></html>";try{this.Ga.jb.open(),this.Ga.jb.write(a),this.Ga.jb.close()}catch(f){fc("frame writing exception"),f.stack&&fc(f.stack),fc(f)}}
qh.prototype.close=function(){this.oe=!1;if(this.Ga){this.Ga.jb.body.innerHTML="";var a=this;setTimeout(function(){null!==a.Ga&&(document.body.removeChild(a.Ga),a.Ga=null)},Math.floor(0))}var b=this.lb;b&&(this.lb=null,b())};
function th(a){if(a.oe&&a.$d&&a.Te.count()<(0<a.cd.length?2:1)){a.we++;var b={};b.id=a.Fg;b.pw=a.Gg;b.ser=a.we;for(var b=a.ld(b),c="",d=0;0<a.cd.length;)if(1870>=a.cd[0].of.length+30+c.length){var e=a.cd.shift(),c=c+"&seg"+d+"="+e.Xg+"&ts"+d+"="+e.gh+"&d"+d+"="+e.of;d++}else break;uh(a,b+c,a.we);return!0}return!1}function uh(a,b,c){function d(){a.Te.remove(c);th(a)}a.Te.add(c,1);var e=setTimeout(d,Math.floor(25E3));sh(a,b,function(){clearTimeout(e);d()})}
function sh(a,b,c){setTimeout(function(){try{if(a.$d){var d=a.Ga.jb.createElement("script");d.type="text/javascript";d.async=!0;d.src=b;d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=null,d.parentNode&&d.parentNode.removeChild(d),c())};d.onerror=function(){fc("Long-poll script failed to load: "+b);a.$d=!1;a.close()};a.Ga.jb.body.appendChild(d)}}catch(e){}},Math.floor(1))};var vh=null;"undefined"!==typeof MozWebSocket?vh=MozWebSocket:"undefined"!==typeof WebSocket&&(vh=WebSocket);function wh(a,b,c,d){this.ue=a;this.f=pd(this.ue);this.frames=this.Nc=null;this.rb=this.sb=this.ff=0;this.Xa=uc(b);a={v:"5"};"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(a.r="f");c&&(a.s=c);d&&(a.ls=d);this.jf=fd(b,gd,a)}var xh;
wh.prototype.open=function(a,b){this.lb=b;this.Kg=a;this.f("Websocket connecting to "+this.jf);this.Kc=!1;bd.set("previous_websocket_failure",!0);try{this.La=new vh(this.jf)}catch(c){this.f("Error instantiating WebSocket.");var d=c.message||c.data;d&&this.f(d);this.bb();return}var e=this;this.La.onopen=function(){e.f("Websocket connected.");e.Kc=!0};this.La.onclose=function(){e.f("Websocket connection was disconnected.");e.La=null;e.bb()};this.La.onmessage=function(a){if(null!==e.La)if(a=a.data,e.rb+=
a.length,rc(e.Xa,"bytes_received",a.length),yh(e),null!==e.frames)zh(e,a);else{a:{O(null===e.frames,"We already have a frame buffer");if(6>=a.length){var b=Number(a);if(!isNaN(b)){e.ff=b;e.frames=[];a=null;break a}}e.ff=1;e.frames=[]}null!==a&&zh(e,a)}};this.La.onerror=function(a){e.f("WebSocket error.  Closing connection.");(a=a.message||a.data)&&e.f(a);e.bb()}};wh.prototype.start=function(){};
wh.isAvailable=function(){var a=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=!0)}return!a&&null!==vh&&!xh};wh.responsesRequiredToBeHealthy=2;wh.healthyTimeout=3E4;h=wh.prototype;h.Hd=function(){bd.remove("previous_websocket_failure")};function zh(a,b){a.frames.push(b);if(a.frames.length==a.ff){var c=a.frames.join("");a.frames=null;c=Rb(c);a.Kg(c)}}
h.send=function(a){yh(this);a=G(a);this.sb+=a.length;rc(this.Xa,"bytes_sent",a.length);a=yd(a,16384);1<a.length&&Ah(this,String(a.length));for(var b=0;b<a.length;b++)Ah(this,a[b])};h.fd=function(){this.Db=!0;this.Nc&&(clearInterval(this.Nc),this.Nc=null);this.La&&(this.La.close(),this.La=null)};h.bb=function(){this.Db||(this.f("WebSocket is closing itself"),this.fd(),this.lb&&(this.lb(this.Kc),this.lb=null))};h.close=function(){this.Db||(this.f("WebSocket is being closed"),this.fd())};
function yh(a){clearInterval(a.Nc);a.Nc=setInterval(function(){a.La&&Ah(a,"0");yh(a)},Math.floor(45E3))}function Ah(a,b){try{a.La.send(b)}catch(c){a.f("Exception thrown from WebSocket.send():",c.message||c.data,"Closing connection."),setTimeout(u(a.bb,a),0)}};function Bh(a){Ch(this,a)}var Dh=[nh,wh];function Ch(a,b){var c=wh&&wh.isAvailable(),d=c&&!(bd.Af||!0===bd.get("previous_websocket_failure"));b.ih&&(c||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),d=!0);if(d)a.jd=[wh];else{var e=a.jd=[];zd(Dh,function(a,b){b&&b.isAvailable()&&e.push(b)})}}function Eh(a){if(0<a.jd.length)return a.jd[0];throw Error("No transports available");};function Fh(a,b,c,d,e,f,g){this.id=a;this.f=pd("c:"+this.id+":");this.nc=c;this.Zc=d;this.na=e;this.Re=f;this.G=b;this.Pd=[];this.kf=0;this.Wf=new Bh(b);this.N=0;this.Fb=g;this.f("Connection created");Gh(this)}
function Gh(a){var b=Eh(a.Wf);a.K=new b("c:"+a.id+":"+a.kf++,a.G,void 0,a.Fb);a.Ve=b.responsesRequiredToBeHealthy||0;var c=Hh(a,a.K),d=Ih(a,a.K);a.kd=a.K;a.ed=a.K;a.F=null;a.Eb=!1;setTimeout(function(){a.K&&a.K.open(c,d)},Math.floor(0));b=b.healthyTimeout||0;0<b&&(a.Bd=setTimeout(function(){a.Bd=null;a.Eb||(a.K&&102400<a.K.rb?(a.f("Connection exceeded healthy timeout but has received "+a.K.rb+" bytes.  Marking connection healthy."),a.Eb=!0,a.K.Hd()):a.K&&10240<a.K.sb?a.f("Connection exceeded healthy timeout but has sent "+
a.K.sb+" bytes.  Leaving connection alive."):(a.f("Closing unhealthy connection after timeout."),a.close()))},Math.floor(b)))}function Ih(a,b){return function(c){b===a.K?(a.K=null,c||0!==a.N?1===a.N&&a.f("Realtime connection lost."):(a.f("Realtime connection failed."),"s-"===a.G.ab.substr(0,2)&&(bd.remove("host:"+a.G.host),a.G.ab=a.G.host)),a.close()):b===a.F?(a.f("Secondary connection lost."),c=a.F,a.F=null,a.kd!==c&&a.ed!==c||a.close()):a.f("closing an old connection")}}
function Hh(a,b){return function(c){if(2!=a.N)if(b===a.ed){var d=wd("t",c);c=wd("d",c);if("c"==d){if(d=wd("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.Uf=c.s;ed(a.G,f);0==a.N&&(a.K.start(),Jh(a,a.K,d),"5"!==e&&S("Protocol version mismatch detected"),c=a.Wf,(c=1<c.jd.length?c.jd[1]:null)&&Kh(a,c))}else if("n"===d){a.f("recvd end transmission on primary");a.ed=a.F;for(c=0;c<a.Pd.length;++c)a.Ld(a.Pd[c]);a.Pd=[];Lh(a)}else"s"===d?(a.f("Connection shutdown command received. Shutting down..."),
a.Re&&(a.Re(c),a.Re=null),a.na=null,a.close()):"r"===d?(a.f("Reset packet received.  New host: "+c),ed(a.G,c),1===a.N?a.close():(Mh(a),Gh(a))):"e"===d?qd("Server Error: "+c):"o"===d?(a.f("got pong on primary."),Nh(a),Oh(a)):qd("Unknown control packet command: "+d)}else"d"==d&&a.Ld(c)}else if(b===a.F)if(d=wd("t",c),c=wd("d",c),"c"==d)"t"in c&&(c=c.t,"a"===c?Ph(a):"r"===c?(a.f("Got a reset on secondary, closing it"),a.F.close(),a.kd!==a.F&&a.ed!==a.F||a.close()):"o"===c&&(a.f("got pong on secondary."),
a.Tf--,Ph(a)));else if("d"==d)a.Pd.push(c);else throw Error("Unknown protocol layer: "+d);else a.f("message on old connection")}}Fh.prototype.Ia=function(a){Qh(this,{t:"d",d:a})};function Lh(a){a.kd===a.F&&a.ed===a.F&&(a.f("cleaning up and promoting a connection: "+a.F.ue),a.K=a.F,a.F=null)}
function Ph(a){0>=a.Tf?(a.f("Secondary connection is healthy."),a.Eb=!0,a.F.Hd(),a.F.start(),a.f("sending client ack on secondary"),a.F.send({t:"c",d:{t:"a",d:{}}}),a.f("Ending transmission on primary"),a.K.send({t:"c",d:{t:"n",d:{}}}),a.kd=a.F,Lh(a)):(a.f("sending ping on secondary."),a.F.send({t:"c",d:{t:"p",d:{}}}))}Fh.prototype.Ld=function(a){Nh(this);this.nc(a)};function Nh(a){a.Eb||(a.Ve--,0>=a.Ve&&(a.f("Primary connection is healthy."),a.Eb=!0,a.K.Hd()))}
function Kh(a,b){a.F=new b("c:"+a.id+":"+a.kf++,a.G,a.Uf);a.Tf=b.responsesRequiredToBeHealthy||0;a.F.open(Hh(a,a.F),Ih(a,a.F));setTimeout(function(){a.F&&(a.f("Timed out trying to upgrade."),a.F.close())},Math.floor(6E4))}function Jh(a,b,c){a.f("Realtime connection established.");a.K=b;a.N=1;a.Zc&&(a.Zc(c,a.Uf),a.Zc=null);0===a.Ve?(a.f("Primary connection is healthy."),a.Eb=!0):setTimeout(function(){Oh(a)},Math.floor(5E3))}
function Oh(a){a.Eb||1!==a.N||(a.f("sending ping on primary."),Qh(a,{t:"c",d:{t:"p",d:{}}}))}function Qh(a,b){if(1!==a.N)throw"Connection is not connected";a.kd.send(b)}Fh.prototype.close=function(){2!==this.N&&(this.f("Closing realtime connection."),this.N=2,Mh(this),this.na&&(this.na(),this.na=null))};function Mh(a){a.f("Shutting down all connections");a.K&&(a.K.close(),a.K=null);a.F&&(a.F.close(),a.F=null);a.Bd&&(clearTimeout(a.Bd),a.Bd=null)};function Rh(a,b,c,d){this.id=Sh++;this.f=pd("p:"+this.id+":");this.Bf=this.Ie=!1;this.ba={};this.sa=[];this.ad=0;this.Yc=[];this.qa=!1;this.eb=1E3;this.Id=3E5;this.Kb=b;this.Xc=c;this.Se=d;this.G=a;this.wb=this.Ca=this.Ma=this.Fb=this.$e=null;this.Sb=!1;this.Wd={};this.Wg=0;this.rf=!0;this.Oc=this.Ke=null;Th(this,0);kf.yb().Ib("visible",this.Ng,this);-1===a.host.indexOf("fblocal")&&jf.yb().Ib("online",this.Lg,this)}var Sh=0,Uh=0;h=Rh.prototype;
h.Ia=function(a,b,c){var d=++this.Wg;a={r:d,a:a,b:b};this.f(G(a));O(this.qa,"sendRequest call when we're not connected not allowed.");this.Ma.Ia(a);c&&(this.Wd[d]=c)};h.Cf=function(a,b,c,d){var e=a.wa(),f=a.path.toString();this.f("Listen called for "+f+" "+e);this.ba[f]=this.ba[f]||{};O(Ie(a.n)||!He(a.n),"listen() called for non-default but complete query");O(!this.ba[f][e],"listen() called twice for same path/queryId.");a={I:d,Ad:b,Tg:a,tag:c};this.ba[f][e]=a;this.qa&&Vh(this,a)};
function Vh(a,b){var c=b.Tg,d=c.path.toString(),e=c.wa();a.f("Listen on "+d+" for "+e);var f={p:d};b.tag&&(f.q=Ge(c.n),f.t=b.tag);f.h=b.Ad();a.Ia("q",f,function(f){var k=f.d,m=f.s;if(k&&"object"===typeof k&&y(k,"w")){var l=z(k,"w");da(l)&&0<=La(l,"no_index")&&S("Using an unspecified index. Consider adding "+('".indexOn": "'+c.n.g.toString()+'"')+" at "+c.path.toString()+" to your security rules for better performance")}(a.ba[d]&&a.ba[d][e])===b&&(a.f("listen response",f),"ok"!==m&&Wh(a,d,e),b.I&&
b.I(m,k))})}h.O=function(a,b,c){this.Ca={rg:a,sf:!1,Dc:b,od:c};this.f("Authenticating using credential: "+a);Xh(this);(b=40==a.length)||(a=Cd(a).Ec,b="object"===typeof a&&!0===z(a,"admin"));b&&(this.f("Admin auth credential detected.  Reducing max reconnect time."),this.Id=3E4)};h.je=function(a){this.Ca=null;this.qa&&this.Ia("unauth",{},function(b){a(b.s,b.d)})};
function Xh(a){var b=a.Ca;a.qa&&b&&a.Ia("auth",{cred:b.rg},function(c){var d=c.s;c=c.d||"error";"ok"!==d&&a.Ca===b&&(a.Ca=null);b.sf?"ok"!==d&&b.od&&b.od(d,c):(b.sf=!0,b.Dc&&b.Dc(d,c))})}h.$f=function(a,b){var c=a.path.toString(),d=a.wa();this.f("Unlisten called for "+c+" "+d);O(Ie(a.n)||!He(a.n),"unlisten() called for non-default but complete query");if(Wh(this,c,d)&&this.qa){var e=Ge(a.n);this.f("Unlisten on "+c+" for "+d);c={p:c};b&&(c.q=e,c.t=b);this.Ia("n",c)}};
h.Qe=function(a,b,c){this.qa?Yh(this,"o",a,b,c):this.Yc.push({bd:a,action:"o",data:b,I:c})};h.Gf=function(a,b,c){this.qa?Yh(this,"om",a,b,c):this.Yc.push({bd:a,action:"om",data:b,I:c})};h.Md=function(a,b){this.qa?Yh(this,"oc",a,null,b):this.Yc.push({bd:a,action:"oc",data:null,I:b})};function Yh(a,b,c,d,e){c={p:c,d:d};a.f("onDisconnect "+b,c);a.Ia(b,c,function(a){e&&setTimeout(function(){e(a.s,a.d)},Math.floor(0))})}h.put=function(a,b,c,d){Zh(this,"p",a,b,c,d)};
h.Df=function(a,b,c,d){Zh(this,"m",a,b,c,d)};function Zh(a,b,c,d,e,f){d={p:c,d:d};p(f)&&(d.h=f);a.sa.push({action:b,Pf:d,I:e});a.ad++;b=a.sa.length-1;a.qa?$h(a,b):a.f("Buffering put: "+c)}function $h(a,b){var c=a.sa[b].action,d=a.sa[b].Pf,e=a.sa[b].I;a.sa[b].Ug=a.qa;a.Ia(c,d,function(d){a.f(c+" response",d);delete a.sa[b];a.ad--;0===a.ad&&(a.sa=[]);e&&e(d.s,d.d)})}
h.Ye=function(a){this.qa&&(a={c:a},this.f("reportStats",a),this.Ia("s",a,function(a){"ok"!==a.s&&this.f("reportStats","Error sending stats: "+a.d)}))};
h.Ld=function(a){if("r"in a){this.f("from server: "+G(a));var b=a.r,c=this.Wd[b];c&&(delete this.Wd[b],c(a.b))}else{if("error"in a)throw"A server-side error has occurred: "+a.error;"a"in a&&(b=a.a,c=a.b,this.f("handleServerMessage",b,c),"d"===b?this.Kb(c.p,c.d,!1,c.t):"m"===b?this.Kb(c.p,c.d,!0,c.t):"c"===b?ai(this,c.p,c.q):"ac"===b?(a=c.s,b=c.d,c=this.Ca,this.Ca=null,c&&c.od&&c.od(a,b)):"sd"===b?this.$e?this.$e(c):"msg"in c&&"undefined"!==typeof console&&console.log("FIREBASE: "+c.msg.replace("\n",
"\nFIREBASE: ")):qd("Unrecognized action received from server: "+G(b)+"\nAre you using the latest client?"))}};h.Zc=function(a,b){this.f("connection ready");this.qa=!0;this.Oc=(new Date).getTime();this.Se({serverTimeOffset:a-(new Date).getTime()});this.Fb=b;if(this.rf){var c={};c["sdk.js."+Eb.replace(/\./g,"-")]=1;Dg()?c["framework.cordova"]=1:"object"===typeof navigator&&"ReactNative"===navigator.product&&(c["framework.reactnative"]=1);this.Ye(c)}bi(this);this.rf=!1;this.Xc(!0)};
function Th(a,b){O(!a.Ma,"Scheduling a connect when we're already connected/ing?");a.wb&&clearTimeout(a.wb);a.wb=setTimeout(function(){a.wb=null;ci(a)},Math.floor(b))}h.Ng=function(a){a&&!this.Sb&&this.eb===this.Id&&(this.f("Window became visible.  Reducing delay."),this.eb=1E3,this.Ma||Th(this,0));this.Sb=a};h.Lg=function(a){a?(this.f("Browser went online."),this.eb=1E3,this.Ma||Th(this,0)):(this.f("Browser went offline.  Killing connection."),this.Ma&&this.Ma.close())};
h.If=function(){this.f("data client disconnected");this.qa=!1;this.Ma=null;for(var a=0;a<this.sa.length;a++){var b=this.sa[a];b&&"h"in b.Pf&&b.Ug&&(b.I&&b.I("disconnect"),delete this.sa[a],this.ad--)}0===this.ad&&(this.sa=[]);this.Wd={};di(this)&&(this.Sb?this.Oc&&(3E4<(new Date).getTime()-this.Oc&&(this.eb=1E3),this.Oc=null):(this.f("Window isn't visible.  Delaying reconnect."),this.eb=this.Id,this.Ke=(new Date).getTime()),a=Math.max(0,this.eb-((new Date).getTime()-this.Ke)),a*=Math.random(),this.f("Trying to reconnect in "+
a+"ms"),Th(this,a),this.eb=Math.min(this.Id,1.3*this.eb));this.Xc(!1)};function ci(a){if(di(a)){a.f("Making a connection attempt");a.Ke=(new Date).getTime();a.Oc=null;var b=u(a.Ld,a),c=u(a.Zc,a),d=u(a.If,a),e=a.id+":"+Uh++;a.Ma=new Fh(e,a.G,b,c,d,function(b){S(b+" ("+a.G.toString()+")");a.Bf=!0},a.Fb)}}h.Cb=function(){this.Ie=!0;this.Ma?this.Ma.close():(this.wb&&(clearTimeout(this.wb),this.wb=null),this.qa&&this.If())};h.vc=function(){this.Ie=!1;this.eb=1E3;this.Ma||Th(this,0)};
function ai(a,b,c){c=c?Oa(c,function(a){return xd(a)}).join("$"):"default";(a=Wh(a,b,c))&&a.I&&a.I("permission_denied")}function Wh(a,b,c){b=(new P(b)).toString();var d;p(a.ba[b])?(d=a.ba[b][c],delete a.ba[b][c],0===oa(a.ba[b])&&delete a.ba[b]):d=void 0;return d}function bi(a){Xh(a);v(a.ba,function(b){v(b,function(b){Vh(a,b)})});for(var b=0;b<a.sa.length;b++)a.sa[b]&&$h(a,b);for(;a.Yc.length;)b=a.Yc.shift(),Yh(a,b.action,b.bd,b.data,b.I)}function di(a){var b;b=jf.yb().oc;return!a.Bf&&!a.Ie&&b};var U={zg:function(){oh=xh=!0}};U.forceLongPolling=U.zg;U.Ag=function(){ph=!0};U.forceWebSockets=U.Ag;U.$g=function(a,b){a.k.Va.$e=b};U.setSecurityDebugCallback=U.$g;U.bf=function(a,b){a.k.bf(b)};U.stats=U.bf;U.cf=function(a,b){a.k.cf(b)};U.statsIncrementCounter=U.cf;U.ud=function(a){return a.k.ud};U.dataUpdateCount=U.ud;U.Dg=function(a,b){a.k.He=b};U.interceptServerData=U.Dg;U.Jg=function(a){new Og(a)};U.onPopupOpen=U.Jg;U.Yg=function(a){xg=a};U.setAuthenticationServer=U.Yg;function ei(a,b){this.committed=a;this.snapshot=b};function V(a,b){this.dd=a;this.ta=b}V.prototype.cancel=function(a){D("Firebase.onDisconnect().cancel",0,1,arguments.length);F("Firebase.onDisconnect().cancel",1,a,!0);var b=new B;this.dd.Md(this.ta,C(b,a));return b.D};V.prototype.cancel=V.prototype.cancel;V.prototype.remove=function(a){D("Firebase.onDisconnect().remove",0,1,arguments.length);og("Firebase.onDisconnect().remove",this.ta);F("Firebase.onDisconnect().remove",1,a,!0);var b=new B;fi(this.dd,this.ta,null,C(b,a));return b.D};
V.prototype.remove=V.prototype.remove;V.prototype.set=function(a,b){D("Firebase.onDisconnect().set",1,2,arguments.length);og("Firebase.onDisconnect().set",this.ta);gg("Firebase.onDisconnect().set",a,this.ta,!1);F("Firebase.onDisconnect().set",2,b,!0);var c=new B;fi(this.dd,this.ta,a,C(c,b));return c.D};V.prototype.set=V.prototype.set;
V.prototype.Ob=function(a,b,c){D("Firebase.onDisconnect().setWithPriority",2,3,arguments.length);og("Firebase.onDisconnect().setWithPriority",this.ta);gg("Firebase.onDisconnect().setWithPriority",a,this.ta,!1);kg("Firebase.onDisconnect().setWithPriority",2,b);F("Firebase.onDisconnect().setWithPriority",3,c,!0);var d=new B;gi(this.dd,this.ta,a,b,C(d,c));return d.D};V.prototype.setWithPriority=V.prototype.Ob;
V.prototype.update=function(a,b){D("Firebase.onDisconnect().update",1,2,arguments.length);og("Firebase.onDisconnect().update",this.ta);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;S("Passing an Array to Firebase.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jg("Firebase.onDisconnect().update",a,this.ta);F("Firebase.onDisconnect().update",2,b,!0);
c=new B;hi(this.dd,this.ta,a,C(c,b));return c.D};V.prototype.update=V.prototype.update;function W(a,b,c){this.A=a;this.Y=b;this.g=c}W.prototype.J=function(){D("Firebase.DataSnapshot.val",0,0,arguments.length);return this.A.J()};W.prototype.val=W.prototype.J;W.prototype.qf=function(){D("Firebase.DataSnapshot.exportVal",0,0,arguments.length);return this.A.J(!0)};W.prototype.exportVal=W.prototype.qf;W.prototype.xg=function(){D("Firebase.DataSnapshot.exists",0,0,arguments.length);return!this.A.e()};W.prototype.exists=W.prototype.xg;
W.prototype.o=function(a){D("Firebase.DataSnapshot.child",0,1,arguments.length);fa(a)&&(a=String(a));ng("Firebase.DataSnapshot.child",a);var b=new P(a),c=this.Y.o(b);return new W(this.A.S(b),c,R)};W.prototype.child=W.prototype.o;W.prototype.Fa=function(a){D("Firebase.DataSnapshot.hasChild",1,1,arguments.length);ng("Firebase.DataSnapshot.hasChild",a);var b=new P(a);return!this.A.S(b).e()};W.prototype.hasChild=W.prototype.Fa;
W.prototype.C=function(){D("Firebase.DataSnapshot.getPriority",0,0,arguments.length);return this.A.C().J()};W.prototype.getPriority=W.prototype.C;W.prototype.forEach=function(a){D("Firebase.DataSnapshot.forEach",1,1,arguments.length);F("Firebase.DataSnapshot.forEach",1,a,!1);if(this.A.L())return!1;var b=this;return!!this.A.R(this.g,function(c,d){return a(new W(d,b.Y.o(c),R))})};W.prototype.forEach=W.prototype.forEach;
W.prototype.zd=function(){D("Firebase.DataSnapshot.hasChildren",0,0,arguments.length);return this.A.L()?!1:!this.A.e()};W.prototype.hasChildren=W.prototype.zd;W.prototype.name=function(){S("Firebase.DataSnapshot.name() being deprecated. Please use Firebase.DataSnapshot.key() instead.");D("Firebase.DataSnapshot.name",0,0,arguments.length);return this.key()};W.prototype.name=W.prototype.name;W.prototype.key=function(){D("Firebase.DataSnapshot.key",0,0,arguments.length);return this.Y.key()};
W.prototype.key=W.prototype.key;W.prototype.Hb=function(){D("Firebase.DataSnapshot.numChildren",0,0,arguments.length);return this.A.Hb()};W.prototype.numChildren=W.prototype.Hb;W.prototype.Mb=function(){D("Firebase.DataSnapshot.ref",0,0,arguments.length);return this.Y};W.prototype.ref=W.prototype.Mb;function ii(a,b,c){this.Vb=a;this.tb=b;this.vb=c||null}h=ii.prototype;h.Qf=function(a){return"value"===a};h.createEvent=function(a,b){var c=b.n.g;return new jc("value",this,new W(a.Na,b.Mb(),c))};h.Zb=function(a){var b=this.vb;if("cancel"===a.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var c=this.tb;return function(){c.call(b,a.error)}}var d=this.Vb;return function(){d.call(b,a.be)}};h.lf=function(a,b){return this.tb?new kc(this,a,b):null};
h.matches=function(a){return a instanceof ii?a.Vb&&this.Vb?a.Vb===this.Vb&&a.vb===this.vb:!0:!1};h.yf=function(){return null!==this.Vb};function ji(a,b,c){this.ja=a;this.tb=b;this.vb=c}h=ji.prototype;h.Qf=function(a){a="children_added"===a?"child_added":a;return("children_removed"===a?"child_removed":a)in this.ja};h.lf=function(a,b){return this.tb?new kc(this,a,b):null};
h.createEvent=function(a,b){O(null!=a.Za,"Child events should have a childName.");var c=b.Mb().o(a.Za);return new jc(a.type,this,new W(a.Na,c,b.n.g),a.Td)};h.Zb=function(a){var b=this.vb;if("cancel"===a.De()){O(this.tb,"Raising a cancel event on a listener with no cancel callback");var c=this.tb;return function(){c.call(b,a.error)}}var d=this.ja[a.wd];return function(){d.call(b,a.be,a.Td)}};
h.matches=function(a){if(a instanceof ji){if(!this.ja||!a.ja)return!0;if(this.vb===a.vb){var b=oa(a.ja);if(b===oa(this.ja)){if(1===b){var b=pa(a.ja),c=pa(this.ja);return c===b&&(!a.ja[b]||!this.ja[c]||a.ja[b]===this.ja[c])}return na(this.ja,function(b,c){return a.ja[c]===b})}}}return!1};h.yf=function(){return null!==this.ja};function ki(){this.za={}}h=ki.prototype;h.e=function(){return va(this.za)};h.gb=function(a,b,c){var d=a.source.Lb;if(null!==d)return d=z(this.za,d),O(null!=d,"SyncTree gave us an op for an invalid query."),d.gb(a,b,c);var e=[];v(this.za,function(d){e=e.concat(d.gb(a,b,c))});return e};h.Tb=function(a,b,c,d,e){var f=a.wa(),g=z(this.za,f);if(!g){var g=c.Aa(e?d:null),k=!1;g?k=!0:(g=d instanceof fe?c.Cc(d):H,k=!1);g=new Ye(a,new je(new Xb(g,k,!1),new Xb(d,e,!1)));this.za[f]=g}g.Tb(b);return af(g,b)};
h.nb=function(a,b,c){var d=a.wa(),e=[],f=[],g=null!=li(this);if("default"===d){var k=this;v(this.za,function(a,d){f=f.concat(a.nb(b,c));a.e()&&(delete k.za[d],He(a.Y.n)||e.push(a.Y))})}else{var m=z(this.za,d);m&&(f=f.concat(m.nb(b,c)),m.e()&&(delete this.za[d],He(m.Y.n)||e.push(m.Y)))}g&&null==li(this)&&e.push(new X(a.k,a.path));return{Vg:e,vg:f}};function mi(a){return Na(qa(a.za),function(a){return!He(a.Y.n)})}h.kb=function(a){var b=null;v(this.za,function(c){b=b||c.kb(a)});return b};
function ni(a,b){if(He(b.n))return li(a);var c=b.wa();return z(a.za,c)}function li(a){return ua(a.za,function(a){return He(a.Y.n)})||null};function oi(a){this.va=qe;this.mb=new Pf;this.df={};this.qc={};this.Qc=a}function pi(a,b,c,d,e){var f=a.mb,g=e;O(d>f.Pc,"Stacking an older write on top of newer ones");p(g)||(g=!0);f.pa.push({path:b,Ja:c,md:d,visible:g});g&&(f.V=Jf(f.V,b,c));f.Pc=d;return e?qi(a,new Ac(Ef,b,c)):[]}function ri(a,b,c,d){var e=a.mb;O(d>e.Pc,"Stacking an older merge on top of newer ones");e.pa.push({path:b,children:c,md:d,visible:!0});e.V=Kf(e.V,b,c);e.Pc=d;c=sf(c);return qi(a,new bf(Ef,b,c))}
function si(a,b,c){c=c||!1;var d=Qf(a.mb,b);if(a.mb.Ud(b)){var e=qe;null!=d.Ja?e=e.set(M,!0):Fb(d.children,function(a,b){e=e.set(new P(a),b)});return qi(a,new Df(d.path,e,c))}return[]}function ti(a,b,c){c=sf(c);return qi(a,new bf(Gf,b,c))}function ui(a,b,c,d){d=vi(a,d);if(null!=d){var e=wi(d);d=e.path;e=e.Lb;b=lf(d,b);c=new Ac(new Ff(!1,!0,e,!0),b,c);return xi(a,d,c)}return[]}
function yi(a,b,c,d){if(d=vi(a,d)){var e=wi(d);d=e.path;e=e.Lb;b=lf(d,b);c=sf(c);c=new bf(new Ff(!1,!0,e,!0),b,c);return xi(a,d,c)}return[]}
oi.prototype.Tb=function(a,b){var c=a.path,d=null,e=!1;zf(this.va,c,function(a,b){var f=lf(a,c);d=d||b.kb(f);e=e||null!=li(b)});var f=this.va.get(c);f?(e=e||null!=li(f),d=d||f.kb(M)):(f=new ki,this.va=this.va.set(c,f));var g;null!=d?g=!0:(g=!1,d=H,Cf(this.va.subtree(c),function(a,b){var c=b.kb(M);c&&(d=d.W(a,c))}));var k=null!=ni(f,a);if(!k&&!He(a.n)){var m=zi(a);O(!(m in this.qc),"View does not exist, but we have a tag");var l=Ai++;this.qc[m]=l;this.df["_"+l]=m}g=f.Tb(a,b,new Uf(c,this.mb),d,g);
k||e||(f=ni(f,a),g=g.concat(Bi(this,a,f)));return g};
oi.prototype.nb=function(a,b,c){var d=a.path,e=this.va.get(d),f=[];if(e&&("default"===a.wa()||null!=ni(e,a))){f=e.nb(a,b,c);e.e()&&(this.va=this.va.remove(d));e=f.Vg;f=f.vg;b=-1!==Sa(e,function(a){return He(a.n)});var g=xf(this.va,d,function(a,b){return null!=li(b)});if(b&&!g&&(d=this.va.subtree(d),!d.e()))for(var d=Ci(d),k=0;k<d.length;++k){var m=d[k],l=m.Y,m=Di(this,m);this.Qc.af(Ei(l),Fi(this,l),m.Ad,m.I)}if(!g&&0<e.length&&!c)if(b)this.Qc.de(Ei(a),null);else{var t=this;Ma(e,function(a){a.wa();
var b=t.qc[zi(a)];t.Qc.de(Ei(a),b)})}Gi(this,e)}return f};oi.prototype.Aa=function(a,b){var c=this.mb,d=xf(this.va,a,function(b,c){var d=lf(b,a);if(d=c.kb(d))return d});return c.Aa(a,d,b,!0)};function Ci(a){return vf(a,function(a,c,d){if(c&&null!=li(c))return[li(c)];var e=[];c&&(e=mi(c));v(d,function(a){e=e.concat(a)});return e})}function Gi(a,b){for(var c=0;c<b.length;++c){var d=b[c];if(!He(d.n)){var d=zi(d),e=a.qc[d];delete a.qc[d];delete a.df["_"+e]}}}
function Ei(a){return He(a.n)&&!Ie(a.n)?a.Mb():a}function Bi(a,b,c){var d=b.path,e=Fi(a,b);c=Di(a,c);b=a.Qc.af(Ei(b),e,c.Ad,c.I);d=a.va.subtree(d);if(e)O(null==li(d.value),"If we're adding a query, it shouldn't be shadowed");else for(e=vf(d,function(a,b,c){if(!a.e()&&b&&null!=li(b))return[Ze(li(b))];var d=[];b&&(d=d.concat(Oa(mi(b),function(a){return a.Y})));v(c,function(a){d=d.concat(a)});return d}),d=0;d<e.length;++d)c=e[d],a.Qc.de(Ei(c),Fi(a,c));return b}
function Di(a,b){var c=b.Y,d=Fi(a,c);return{Ad:function(){return(b.w()||H).hash()},I:function(b){if("ok"===b){if(d){var f=c.path;if(b=vi(a,d)){var g=wi(b);b=g.path;g=g.Lb;f=lf(b,f);f=new Cc(new Ff(!1,!0,g,!0),f);b=xi(a,b,f)}else b=[]}else b=qi(a,new Cc(Gf,c.path));return b}f="Unknown Error";"too_big"===b?f="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==b?f="Client doesn't have permission to access the desired data.":"unavailable"==b&&
(f="The service is unavailable");f=Error(b+" at "+c.path.toString()+": "+f);f.code=b.toUpperCase();return a.nb(c,null,f)}}}function zi(a){return a.path.toString()+"$"+a.wa()}function wi(a){var b=a.indexOf("$");O(-1!==b&&b<a.length-1,"Bad queryKey.");return{Lb:a.substr(b+1),path:new P(a.substr(0,b))}}function vi(a,b){var c=a.df,d="_"+b;return d in c?c[d]:void 0}function Fi(a,b){var c=zi(b);return z(a.qc,c)}var Ai=1;
function xi(a,b,c){var d=a.va.get(b);O(d,"Missing sync point for query tag that we're tracking");return d.gb(c,new Uf(b,a.mb),null)}function qi(a,b){return Hi(a,b,a.va,null,new Uf(M,a.mb))}function Hi(a,b,c,d,e){if(b.path.e())return Ii(a,b,c,d,e);var f=c.get(M);null==d&&null!=f&&(d=f.kb(M));var g=[],k=K(b.path),m=b.$c(k);if((c=c.children.get(k))&&m)var l=d?d.T(k):null,k=e.o(k),g=g.concat(Hi(a,m,c,l,k));f&&(g=g.concat(f.gb(b,e,d)));return g}
function Ii(a,b,c,d,e){var f=c.get(M);null==d&&null!=f&&(d=f.kb(M));var g=[];c.children.ka(function(c,f){var l=d?d.T(c):null,t=e.o(c),A=b.$c(c);A&&(g=g.concat(Ii(a,A,f,l,t)))});f&&(g=g.concat(f.gb(b,e,d)));return g};function Ji(a,b){this.G=a;this.Xa=uc(a);this.hd=null;this.fa=new Zb;this.Kd=1;this.Va=null;b||0<=("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)?(this.da=new cf(this.G,u(this.Kb,this)),setTimeout(u(this.Xc,this,!0),0)):this.da=this.Va=new Rh(this.G,u(this.Kb,this),u(this.Xc,this),u(this.Se,this));this.dh=vc(a,u(function(){return new pc(this.Xa,this.da)},this));this.yc=new Wf;
this.Ge=new Sb;var c=this;this.Fd=new oi({af:function(a,b,f,g){b=[];f=c.Ge.j(a.path);f.e()||(b=qi(c.Fd,new Ac(Gf,a.path,f)),setTimeout(function(){g("ok")},0));return b},de:aa});Ki(this,"connected",!1);this.na=new Vc;this.O=new Yg(a,u(this.da.O,this.da),u(this.da.je,this.da),u(this.Pe,this));this.ud=0;this.He=null;this.M=new oi({af:function(a,b,f,g){c.da.Cf(a,f,b,function(b,e){var f=g(b,e);dc(c.fa,a.path,f)});return[]},de:function(a,b){c.da.$f(a,b)}})}h=Ji.prototype;
h.toString=function(){return(this.G.ob?"https://":"http://")+this.G.host};h.name=function(){return this.G.lc};function Li(a){a=a.Ge.j(new P(".info/serverTimeOffset")).J()||0;return(new Date).getTime()+a}function Mi(a){a=a={timestamp:Li(a)};a.timestamp=a.timestamp||(new Date).getTime();return a}
h.Kb=function(a,b,c,d){this.ud++;var e=new P(a);b=this.He?this.He(a,b):b;a=[];d?c?(b=ma(b,function(a){return Q(a)}),a=yi(this.M,e,b,d)):(b=Q(b),a=ui(this.M,e,b,d)):c?(d=ma(b,function(a){return Q(a)}),a=ti(this.M,e,d)):(d=Q(b),a=qi(this.M,new Ac(Gf,e,d)));d=e;0<a.length&&(d=Ni(this,e));dc(this.fa,d,a)};h.Xc=function(a){Ki(this,"connected",a);!1===a&&Oi(this)};h.Se=function(a){var b=this;zd(a,function(a,d){Ki(b,d,a)})};h.Pe=function(a){Ki(this,"authenticated",a)};
function Ki(a,b,c){b=new P("/.info/"+b);c=Q(c);var d=a.Ge;d.Zd=d.Zd.H(b,c);c=qi(a.Fd,new Ac(Gf,b,c));dc(a.fa,b,c)}h.Ob=function(a,b,c,d){this.f("set",{path:a.toString(),value:b,mh:c});var e=Mi(this);b=Q(b,c);var e=Xc(b,e),f=this.Kd++,e=pi(this.M,a,e,f,!0);$b(this.fa,e);var g=this;this.da.put(a.toString(),b.J(!0),function(b,c){var e="ok"===b;e||S("set at "+a+" failed: "+b);e=si(g.M,f,!e);dc(g.fa,a,e);Pi(d,b,c)});e=Qi(this,a);Ni(this,e);dc(this.fa,e,[])};
h.update=function(a,b,c){this.f("update",{path:a.toString(),value:b});var d=!0,e=Mi(this),f={};v(b,function(a,b){d=!1;var c=Q(a);f[b]=Xc(c,e)});if(d)fc("update() called with empty data.  Don't do anything."),Pi(c,"ok");else{var g=this.Kd++,k=ri(this.M,a,f,g);$b(this.fa,k);var m=this;this.da.Df(a.toString(),b,function(b,d){var e="ok"===b;e||S("update at "+a+" failed: "+b);var e=si(m.M,g,!e),f=a;0<e.length&&(f=Ni(m,a));dc(m.fa,f,e);Pi(c,b,d)});b=Qi(this,a);Ni(this,b);dc(this.fa,a,[])}};
function Oi(a){a.f("onDisconnectEvents");var b=Mi(a),c=[];Wc(Uc(a.na,b),M,function(b,e){c=c.concat(qi(a.M,new Ac(Gf,b,e)));var f=Qi(a,b);Ni(a,f)});a.na=new Vc;dc(a.fa,M,c)}h.Md=function(a,b){var c=this;this.da.Md(a.toString(),function(d,e){"ok"===d&&wg(c.na,a);Pi(b,d,e)})};function fi(a,b,c,d){var e=Q(c);a.da.Qe(b.toString(),e.J(!0),function(c,g){"ok"===c&&a.na.rc(b,e);Pi(d,c,g)})}function gi(a,b,c,d,e){var f=Q(c,d);a.da.Qe(b.toString(),f.J(!0),function(c,d){"ok"===c&&a.na.rc(b,f);Pi(e,c,d)})}
function hi(a,b,c,d){var e=!0,f;for(f in c)e=!1;e?(fc("onDisconnect().update() called with empty data.  Don't do anything."),Pi(d,"ok")):a.da.Gf(b.toString(),c,function(e,f){if("ok"===e)for(var m in c){var l=Q(c[m]);a.na.rc(b.o(m),l)}Pi(d,e,f)})}function Ri(a,b,c){c=".info"===K(b.path)?a.Fd.Tb(b,c):a.M.Tb(b,c);bc(a.fa,b.path,c)}h.Cb=function(){this.Va&&this.Va.Cb()};h.vc=function(){this.Va&&this.Va.vc()};
h.bf=function(a){if("undefined"!==typeof console){a?(this.hd||(this.hd=new oc(this.Xa)),a=this.hd.get()):a=this.Xa.get();var b=Pa(ra(a),function(a,b){return Math.max(b.length,a)},0),c;for(c in a){for(var d=a[c],e=c.length;e<b+2;e++)c+=" ";console.log(c+d)}}};h.cf=function(a){rc(this.Xa,a);this.dh.Vf[a]=!0};h.f=function(a){var b="";this.Va&&(b=this.Va.id+":");fc(b,arguments)};
function Pi(a,b,c){a&&gc(function(){if("ok"==b)a(null);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c);e=Error(e);e.code=d;a(e)}})};function Si(a,b,c,d,e){function f(){}a.f("transaction on "+b);var g=new X(a,b);g.Ib("value",f);c={path:b,update:c,I:d,status:null,Lf:id(),gf:e,Sf:0,le:function(){g.mc("value",f)},ne:null,Da:null,rd:null,sd:null,td:null};d=a.M.Aa(b,void 0)||H;c.rd=d;d=c.update(d.J());if(p(d)){hg("transaction failed: Data returned ",d,c.path);c.status=1;e=Xf(a.yc,b);var k=e.Ea()||[];k.push(c);Yf(e,k);"object"===typeof d&&null!==d&&y(d,".priority")?(k=z(d,".priority"),O(fg(k),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):
k=(a.M.Aa(b)||H).C().J();e=Mi(a);d=Q(d,k);e=Xc(d,e);c.sd=d;c.td=e;c.Da=a.Kd++;c=pi(a.M,b,e,c.Da,c.gf);dc(a.fa,b,c);Ti(a)}else c.le(),c.sd=null,c.td=null,c.I&&(a=new W(c.rd,new X(a,c.path),R),c.I(null,!1,a))}function Ti(a,b){var c=b||a.yc;b||Ui(a,c);if(null!==c.Ea()){var d=Vi(a,c);O(0<d.length,"Sending zero length transaction queue");Qa(d,function(a){return 1===a.status})&&Wi(a,c.path(),d)}else c.zd()&&c.R(function(b){Ti(a,b)})}
function Wi(a,b,c){for(var d=Oa(c,function(a){return a.Da}),e=a.M.Aa(b,d)||H,d=e,e=e.hash(),f=0;f<c.length;f++){var g=c[f];O(1===g.status,"tryToSendTransactionQueue_: items in queue should all be run.");g.status=2;g.Sf++;var k=lf(b,g.path),d=d.H(k,g.sd)}d=d.J(!0);a.da.put(b.toString(),d,function(d){a.f("transaction put response",{path:b.toString(),status:d});var e=[];if("ok"===d){d=[];for(f=0;f<c.length;f++){c[f].status=3;e=e.concat(si(a.M,c[f].Da));if(c[f].I){var g=c[f].td,k=new X(a,c[f].path);d.push(u(c[f].I,
null,null,!0,new W(g,k,R)))}c[f].le()}Ui(a,Xf(a.yc,b));Ti(a);dc(a.fa,b,e);for(f=0;f<d.length;f++)gc(d[f])}else{if("datastale"===d)for(f=0;f<c.length;f++)c[f].status=4===c[f].status?5:1;else for(S("transaction at "+b.toString()+" failed: "+d),f=0;f<c.length;f++)c[f].status=5,c[f].ne=d;Ni(a,b)}},e)}function Ni(a,b){var c=Xi(a,b),d=c.path(),c=Vi(a,c);Yi(a,c,d);return d}
function Yi(a,b,c){if(0!==b.length){for(var d=[],e=[],f=Oa(b,function(a){return a.Da}),g=0;g<b.length;g++){var k=b[g],m=lf(c,k.path),l=!1,t;O(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null.");if(5===k.status)l=!0,t=k.ne,e=e.concat(si(a.M,k.Da,!0));else if(1===k.status)if(25<=k.Sf)l=!0,t="maxretry",e=e.concat(si(a.M,k.Da,!0));else{var A=a.M.Aa(k.path,f)||H;k.rd=A;var I=b[g].update(A.J());p(I)?(hg("transaction failed: Data returned ",I,k.path),m=Q(I),"object"===typeof I&&null!=
I&&y(I,".priority")||(m=m.ia(A.C())),A=k.Da,I=Mi(a),I=Xc(m,I),k.sd=m,k.td=I,k.Da=a.Kd++,Ta(f,A),e=e.concat(pi(a.M,k.path,I,k.Da,k.gf)),e=e.concat(si(a.M,A,!0))):(l=!0,t="nodata",e=e.concat(si(a.M,k.Da,!0)))}dc(a.fa,c,e);e=[];l&&(b[g].status=3,setTimeout(b[g].le,Math.floor(0)),b[g].I&&("nodata"===t?(k=new X(a,b[g].path),d.push(u(b[g].I,null,null,!1,new W(b[g].rd,k,R)))):d.push(u(b[g].I,null,Error(t),!1,null))))}Ui(a,a.yc);for(g=0;g<d.length;g++)gc(d[g]);Ti(a)}}
function Xi(a,b){for(var c,d=a.yc;null!==(c=K(b))&&null===d.Ea();)d=Xf(d,c),b=N(b);return d}function Vi(a,b){var c=[];Zi(a,b,c);c.sort(function(a,b){return a.Lf-b.Lf});return c}function Zi(a,b,c){var d=b.Ea();if(null!==d)for(var e=0;e<d.length;e++)c.push(d[e]);b.R(function(b){Zi(a,b,c)})}function Ui(a,b){var c=b.Ea();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d;Yf(b,0<c.length?c:null)}b.R(function(b){Ui(a,b)})}
function Qi(a,b){var c=Xi(a,b).path(),d=Xf(a.yc,b);ag(d,function(b){$i(a,b)});$i(a,d);$f(d,function(b){$i(a,b)});return c}
function $i(a,b){var c=b.Ea();if(null!==c){for(var d=[],e=[],f=-1,g=0;g<c.length;g++)4!==c[g].status&&(2===c[g].status?(O(f===g-1,"All SENT items should be at beginning of queue."),f=g,c[g].status=4,c[g].ne="set"):(O(1===c[g].status,"Unexpected transaction status in abort"),c[g].le(),e=e.concat(si(a.M,c[g].Da,!0)),c[g].I&&d.push(u(c[g].I,null,Error("set"),!1,null))));-1===f?Yf(b,null):c.length=f+1;dc(a.fa,b.path(),e);for(g=0;g<d.length;g++)gc(d[g])}};function aj(){this.sc={};this.ag=!1}aj.prototype.Cb=function(){for(var a in this.sc)this.sc[a].Cb()};aj.prototype.vc=function(){for(var a in this.sc)this.sc[a].vc()};aj.prototype.ze=function(){this.ag=!0};ba(aj);aj.prototype.interrupt=aj.prototype.Cb;aj.prototype.resume=aj.prototype.vc;function Y(a,b,c,d){this.k=a;this.path=b;this.n=c;this.pc=d}
function bj(a){var b=null,c=null;a.oa&&(b=Od(a));a.ra&&(c=Rd(a));if(a.g===re){if(a.oa){if("[MIN_NAME]"!=Nd(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==typeof b)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}if(a.ra){if("[MAX_NAME]"!=Pd(a))throw Error("Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().");if("string"!==
typeof c)throw Error("Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.");}}else if(a.g===R){if(null!=b&&!fg(b)||null!=c&&!fg(c))throw Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).");}else if(O(a.g instanceof ve||a.g===Be,"unknown index type."),null!=b&&"object"===typeof b||null!=c&&"object"===typeof c)throw Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.");
}function cj(a){if(a.oa&&a.ra&&a.la&&(!a.la||""===a.Rb))throw Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.");}function dj(a,b){if(!0===a.pc)throw Error(b+": You can't combine multiple orderBy calls.");}h=Y.prototype;h.Mb=function(){D("Query.ref",0,0,arguments.length);return new X(this.k,this.path)};
h.Ib=function(a,b,c,d){D("Query.on",2,4,arguments.length);lg("Query.on",a,!1);F("Query.on",2,b,!1);var e=ej("Query.on",c,d);if("value"===a)Ri(this.k,this,new ii(b,e.cancel||null,e.Qa||null));else{var f={};f[a]=b;Ri(this.k,this,new ji(f,e.cancel,e.Qa))}return b};
h.mc=function(a,b,c){D("Query.off",0,3,arguments.length);lg("Query.off",a,!0);F("Query.off",2,b,!0);Qb("Query.off",3,c);var d=null,e=null;"value"===a?d=new ii(b||null,null,c||null):a&&(b&&(e={},e[a]=b),d=new ji(e,null,c||null));e=this.k;d=".info"===K(this.path)?e.Fd.nb(this,d):e.M.nb(this,d);bc(e.fa,this.path,d)};
h.Og=function(a,b){function c(k){f&&(f=!1,e.mc(a,c),b&&b.call(d.Qa,k),g.resolve(k))}D("Query.once",1,4,arguments.length);lg("Query.once",a,!1);F("Query.once",2,b,!0);var d=ej("Query.once",arguments[2],arguments[3]),e=this,f=!0,g=new B;Nb(g.D);this.Ib(a,c,function(b){e.mc(a,c);d.cancel&&d.cancel.call(d.Qa,b);g.reject(b)});return g.D};
h.Le=function(a){S("Query.limit() being deprecated. Please use Query.limitToFirst() or Query.limitToLast() instead.");D("Query.limit",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limit: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limit: Limit was already set (by another call to limit, limitToFirst, orlimitToLast.");var b=this.n.Le(a);cj(b);return new Y(this.k,this.path,b,this.pc)};
h.Me=function(a){D("Query.limitToFirst",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToFirst: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Me(a),this.pc)};
h.Ne=function(a){D("Query.limitToLast",1,1,arguments.length);if(!fa(a)||Math.floor(a)!==a||0>=a)throw Error("Query.limitToLast: First argument must be a positive integer.");if(this.n.la)throw Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new Y(this.k,this.path,this.n.Ne(a),this.pc)};
h.Pg=function(a){D("Query.orderByChild",1,1,arguments.length);if("$key"===a)throw Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===a)throw Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===a)throw Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');ng("Query.orderByChild",a);dj(this,"Query.orderByChild");var b=new P(a);if(b.e())throw Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");
b=new ve(b);b=Fe(this.n,b);bj(b);return new Y(this.k,this.path,b,!0)};h.Qg=function(){D("Query.orderByKey",0,0,arguments.length);dj(this,"Query.orderByKey");var a=Fe(this.n,re);bj(a);return new Y(this.k,this.path,a,!0)};h.Rg=function(){D("Query.orderByPriority",0,0,arguments.length);dj(this,"Query.orderByPriority");var a=Fe(this.n,R);bj(a);return new Y(this.k,this.path,a,!0)};
h.Sg=function(){D("Query.orderByValue",0,0,arguments.length);dj(this,"Query.orderByValue");var a=Fe(this.n,Be);bj(a);return new Y(this.k,this.path,a,!0)};h.ce=function(a,b){D("Query.startAt",0,2,arguments.length);gg("Query.startAt",a,this.path,!0);mg("Query.startAt",b);var c=this.n.ce(a,b);cj(c);bj(c);if(this.n.oa)throw Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");p(a)||(b=a=null);return new Y(this.k,this.path,c,this.pc)};
h.vd=function(a,b){D("Query.endAt",0,2,arguments.length);gg("Query.endAt",a,this.path,!0);mg("Query.endAt",b);var c=this.n.vd(a,b);cj(c);bj(c);if(this.n.ra)throw Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new Y(this.k,this.path,c,this.pc)};
h.tg=function(a,b){D("Query.equalTo",1,2,arguments.length);gg("Query.equalTo",a,this.path,!1);mg("Query.equalTo",b);if(this.n.oa)throw Error("Query.equalTo: Starting point was already set (by another call to endAt or equalTo).");if(this.n.ra)throw Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.ce(a,b).vd(a,b)};
h.toString=function(){D("Query.toString",0,0,arguments.length);for(var a=this.path,b="",c=a.aa;c<a.u.length;c++)""!==a.u[c]&&(b+="/"+encodeURIComponent(String(a.u[c])));return this.k.toString()+(b||"/")};h.wa=function(){var a=xd(Ge(this.n));return"{}"===a?"default":a};
function ej(a,b,c){var d={cancel:null,Qa:null};if(b&&c)d.cancel=b,F(a,3,d.cancel,!0),d.Qa=c,Qb(a,4,d.Qa);else if(b)if("object"===typeof b&&null!==b)d.Qa=b;else if("function"===typeof b)d.cancel=b;else throw Error(E(a,3,!0)+" must either be a cancel callback or a context object.");return d}Y.prototype.ref=Y.prototype.Mb;Y.prototype.on=Y.prototype.Ib;Y.prototype.off=Y.prototype.mc;Y.prototype.once=Y.prototype.Og;Y.prototype.limit=Y.prototype.Le;Y.prototype.limitToFirst=Y.prototype.Me;
Y.prototype.limitToLast=Y.prototype.Ne;Y.prototype.orderByChild=Y.prototype.Pg;Y.prototype.orderByKey=Y.prototype.Qg;Y.prototype.orderByPriority=Y.prototype.Rg;Y.prototype.orderByValue=Y.prototype.Sg;Y.prototype.startAt=Y.prototype.ce;Y.prototype.endAt=Y.prototype.vd;Y.prototype.equalTo=Y.prototype.tg;Y.prototype.toString=Y.prototype.toString;var Z={};Z.zc=Rh;Z.DataConnection=Z.zc;Rh.prototype.bh=function(a,b){this.Ia("q",{p:a},b)};Z.zc.prototype.simpleListen=Z.zc.prototype.bh;Rh.prototype.sg=function(a,b){this.Ia("echo",{d:a},b)};Z.zc.prototype.echo=Z.zc.prototype.sg;Rh.prototype.interrupt=Rh.prototype.Cb;Z.dg=Fh;Z.RealTimeConnection=Z.dg;Fh.prototype.sendRequest=Fh.prototype.Ia;Fh.prototype.close=Fh.prototype.close;
Z.Cg=function(a){var b=Rh.prototype.put;Rh.prototype.put=function(c,d,e,f){p(f)&&(f=a());b.call(this,c,d,e,f)};return function(){Rh.prototype.put=b}};Z.hijackHash=Z.Cg;Z.cg=dd;Z.ConnectionTarget=Z.cg;Z.wa=function(a){return a.wa()};Z.queryIdentifier=Z.wa;Z.Eg=function(a){return a.k.Va.ba};Z.listens=Z.Eg;Z.ze=function(a){a.ze()};Z.forceRestClient=Z.ze;function X(a,b){var c,d,e;if(a instanceof Ji)c=a,d=b;else{D("new Firebase",1,2,arguments.length);d=sd(arguments[0]);c=d.eh;"firebase"===d.domain&&rd(d.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");c&&"undefined"!=c||rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com");d.ob||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");
c=new dd(d.host,d.ob,c,"ws"===d.scheme||"wss"===d.scheme);d=new P(d.bd);e=d.toString();var f;!(f=!q(c.host)||0===c.host.length||!eg(c.lc))&&(f=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),f=!(q(e)&&0!==e.length&&!cg.test(e)));if(f)throw Error(E("new Firebase",1,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".');if(b)if(b instanceof aj)e=b;else if(q(b))e=aj.yb(),c.Rd=b;else throw Error("Expected a valid Firebase.Context for second argument to new Firebase()");
else e=aj.yb();f=c.toString();var g=z(e.sc,f);g||(g=new Ji(c,e.ag),e.sc[f]=g);c=g}Y.call(this,c,d,De,!1);this.then=void 0;this["catch"]=void 0}ka(X,Y);var fj=X,gj=["Firebase"],hj=n;gj[0]in hj||!hj.execScript||hj.execScript("var "+gj[0]);for(var ij;gj.length&&(ij=gj.shift());)!gj.length&&p(fj)?hj[ij]=fj:hj=hj[ij]?hj[ij]:hj[ij]={};X.goOffline=function(){D("Firebase.goOffline",0,0,arguments.length);aj.yb().Cb()};X.goOnline=function(){D("Firebase.goOnline",0,0,arguments.length);aj.yb().vc()};
X.enableLogging=od;X.ServerValue={TIMESTAMP:{".sv":"timestamp"}};X.SDK_VERSION=Eb;X.INTERNAL=U;X.Context=aj;X.TEST_ACCESS=Z;X.prototype.name=function(){S("Firebase.name() being deprecated. Please use Firebase.key() instead.");D("Firebase.name",0,0,arguments.length);return this.key()};X.prototype.name=X.prototype.name;X.prototype.key=function(){D("Firebase.key",0,0,arguments.length);return this.path.e()?null:me(this.path)};X.prototype.key=X.prototype.key;
X.prototype.o=function(a){D("Firebase.child",1,1,arguments.length);if(fa(a))a=String(a);else if(!(a instanceof P))if(null===K(this.path)){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/"));ng("Firebase.child",b)}else ng("Firebase.child",a);return new X(this.k,this.path.o(a))};X.prototype.child=X.prototype.o;X.prototype.parent=function(){D("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return null===a?null:new X(this.k,a)};X.prototype.parent=X.prototype.parent;
X.prototype.root=function(){D("Firebase.ref",0,0,arguments.length);for(var a=this;null!==a.parent();)a=a.parent();return a};X.prototype.root=X.prototype.root;X.prototype.set=function(a,b){D("Firebase.set",1,2,arguments.length);og("Firebase.set",this.path);gg("Firebase.set",a,this.path,!1);F("Firebase.set",2,b,!0);var c=new B;this.k.Ob(this.path,a,null,C(c,b));return c.D};X.prototype.set=X.prototype.set;
X.prototype.update=function(a,b){D("Firebase.update",1,2,arguments.length);og("Firebase.update",this.path);if(da(a)){for(var c={},d=0;d<a.length;++d)c[""+d]=a[d];a=c;S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}jg("Firebase.update",a,this.path);F("Firebase.update",2,b,!0);c=new B;this.k.update(this.path,a,C(c,b));return c.D};
X.prototype.update=X.prototype.update;X.prototype.Ob=function(a,b,c){D("Firebase.setWithPriority",2,3,arguments.length);og("Firebase.setWithPriority",this.path);gg("Firebase.setWithPriority",a,this.path,!1);kg("Firebase.setWithPriority",2,b);F("Firebase.setWithPriority",3,c,!0);if(".length"===this.key()||".keys"===this.key())throw"Firebase.setWithPriority failed: "+this.key()+" is a read-only object.";var d=new B;this.k.Ob(this.path,a,b,C(d,c));return d.D};X.prototype.setWithPriority=X.prototype.Ob;
X.prototype.remove=function(a){D("Firebase.remove",0,1,arguments.length);og("Firebase.remove",this.path);F("Firebase.remove",1,a,!0);return this.set(null,a)};X.prototype.remove=X.prototype.remove;
X.prototype.transaction=function(a,b,c){D("Firebase.transaction",1,3,arguments.length);og("Firebase.transaction",this.path);F("Firebase.transaction",1,a,!1);F("Firebase.transaction",2,b,!0);if(p(c)&&"boolean"!=typeof c)throw Error(E("Firebase.transaction",3,!0)+"must be a boolean.");if(".length"===this.key()||".keys"===this.key())throw"Firebase.transaction failed: "+this.key()+" is a read-only object.";"undefined"===typeof c&&(c=!0);var d=new B;r(b)&&Nb(d.D);Si(this.k,this.path,a,function(a,c,g){a?
d.reject(a):d.resolve(new ei(c,g));r(b)&&b(a,c,g)},c);return d.D};X.prototype.transaction=X.prototype.transaction;X.prototype.Zg=function(a,b){D("Firebase.setPriority",1,2,arguments.length);og("Firebase.setPriority",this.path);kg("Firebase.setPriority",1,a);F("Firebase.setPriority",2,b,!0);var c=new B;this.k.Ob(this.path.o(".priority"),a,null,C(c,b));return c.D};X.prototype.setPriority=X.prototype.Zg;
X.prototype.push=function(a,b){D("Firebase.push",0,2,arguments.length);og("Firebase.push",this.path);gg("Firebase.push",a,this.path,!0);F("Firebase.push",2,b,!0);var c=Li(this.k),d=hf(c),c=this.o(d);if(null!=a){var e=this,f=c.set(a,b).then(function(){return e.o(d)});c.then=u(f.then,f);c["catch"]=u(f.then,f,void 0);r(b)&&Nb(f)}return c};X.prototype.push=X.prototype.push;X.prototype.lb=function(){og("Firebase.onDisconnect",this.path);return new V(this.k,this.path)};X.prototype.onDisconnect=X.prototype.lb;
X.prototype.O=function(a,b,c){S("FirebaseRef.auth() being deprecated. Please use FirebaseRef.authWithCustomToken() instead.");D("Firebase.auth",1,3,arguments.length);pg("Firebase.auth",a);F("Firebase.auth",2,b,!0);F("Firebase.auth",3,b,!0);var d=new B;dh(this.k.O,a,{},{remember:"none"},C(d,b),c);return d.D};X.prototype.auth=X.prototype.O;X.prototype.je=function(a){D("Firebase.unauth",0,1,arguments.length);F("Firebase.unauth",1,a,!0);var b=new B;eh(this.k.O,C(b,a));return b.D};X.prototype.unauth=X.prototype.je;
X.prototype.Be=function(){D("Firebase.getAuth",0,0,arguments.length);return this.k.O.Be()};X.prototype.getAuth=X.prototype.Be;X.prototype.Ig=function(a,b){D("Firebase.onAuth",1,2,arguments.length);F("Firebase.onAuth",1,a,!1);Qb("Firebase.onAuth",2,b);this.k.O.Ib("auth_status",a,b)};X.prototype.onAuth=X.prototype.Ig;X.prototype.Hg=function(a,b){D("Firebase.offAuth",1,2,arguments.length);F("Firebase.offAuth",1,a,!1);Qb("Firebase.offAuth",2,b);this.k.O.mc("auth_status",a,b)};X.prototype.offAuth=X.prototype.Hg;
X.prototype.hg=function(a,b,c){D("Firebase.authWithCustomToken",1,3,arguments.length);2===arguments.length&&Hb(b)&&(c=b,b=void 0);pg("Firebase.authWithCustomToken",a);F("Firebase.authWithCustomToken",2,b,!0);sg("Firebase.authWithCustomToken",3,c,!0);var d=new B;dh(this.k.O,a,{},c||{},C(d,b));return d.D};X.prototype.authWithCustomToken=X.prototype.hg;
X.prototype.ig=function(a,b,c){D("Firebase.authWithOAuthPopup",1,3,arguments.length);2===arguments.length&&Hb(b)&&(c=b,b=void 0);rg("Firebase.authWithOAuthPopup",a);F("Firebase.authWithOAuthPopup",2,b,!0);sg("Firebase.authWithOAuthPopup",3,c,!0);var d=new B;ih(this.k.O,a,c,C(d,b));return d.D};X.prototype.authWithOAuthPopup=X.prototype.ig;
X.prototype.jg=function(a,b,c){D("Firebase.authWithOAuthRedirect",1,3,arguments.length);2===arguments.length&&Hb(b)&&(c=b,b=void 0);rg("Firebase.authWithOAuthRedirect",a);F("Firebase.authWithOAuthRedirect",2,b,!1);sg("Firebase.authWithOAuthRedirect",3,c,!0);var d=new B,e=this.k.O,f=c,g=C(d,b);gh(e);var k=[Qg],f=Ag(f);"anonymous"===a||"firebase"===a?T(g,Sg("TRANSPORT_UNAVAILABLE")):(cd.set("redirect_client_options",f.qd),hh(e,k,"/auth/"+a,f,g));return d.D};X.prototype.authWithOAuthRedirect=X.prototype.jg;
X.prototype.kg=function(a,b,c,d){D("Firebase.authWithOAuthToken",2,4,arguments.length);3===arguments.length&&Hb(c)&&(d=c,c=void 0);rg("Firebase.authWithOAuthToken",a);F("Firebase.authWithOAuthToken",3,c,!0);sg("Firebase.authWithOAuthToken",4,d,!0);var e=new B;q(b)?(qg("Firebase.authWithOAuthToken",2,b),fh(this.k.O,a+"/token",{access_token:b},d,C(e,c))):(sg("Firebase.authWithOAuthToken",2,b,!1),fh(this.k.O,a+"/token",b,d,C(e,c)));return e.D};X.prototype.authWithOAuthToken=X.prototype.kg;
X.prototype.gg=function(a,b){D("Firebase.authAnonymously",0,2,arguments.length);1===arguments.length&&Hb(a)&&(b=a,a=void 0);F("Firebase.authAnonymously",1,a,!0);sg("Firebase.authAnonymously",2,b,!0);var c=new B;fh(this.k.O,"anonymous",{},b,C(c,a));return c.D};X.prototype.authAnonymously=X.prototype.gg;
X.prototype.lg=function(a,b,c){D("Firebase.authWithPassword",1,3,arguments.length);2===arguments.length&&Hb(b)&&(c=b,b=void 0);sg("Firebase.authWithPassword",1,a,!1);tg("Firebase.authWithPassword",a,"email");tg("Firebase.authWithPassword",a,"password");F("Firebase.authWithPassword",2,b,!0);sg("Firebase.authWithPassword",3,c,!0);var d=new B;fh(this.k.O,"password",a,c,C(d,b));return d.D};X.prototype.authWithPassword=X.prototype.lg;
X.prototype.ve=function(a,b){D("Firebase.createUser",1,2,arguments.length);sg("Firebase.createUser",1,a,!1);tg("Firebase.createUser",a,"email");tg("Firebase.createUser",a,"password");F("Firebase.createUser",2,b,!0);var c=new B;this.k.O.ve(a,C(c,b));return c.D};X.prototype.createUser=X.prototype.ve;
X.prototype.Xe=function(a,b){D("Firebase.removeUser",1,2,arguments.length);sg("Firebase.removeUser",1,a,!1);tg("Firebase.removeUser",a,"email");tg("Firebase.removeUser",a,"password");F("Firebase.removeUser",2,b,!0);var c=new B;this.k.O.Xe(a,C(c,b));return c.D};X.prototype.removeUser=X.prototype.Xe;
X.prototype.se=function(a,b){D("Firebase.changePassword",1,2,arguments.length);sg("Firebase.changePassword",1,a,!1);tg("Firebase.changePassword",a,"email");tg("Firebase.changePassword",a,"oldPassword");tg("Firebase.changePassword",a,"newPassword");F("Firebase.changePassword",2,b,!0);var c=new B;this.k.O.se(a,C(c,b));return c.D};X.prototype.changePassword=X.prototype.se;
X.prototype.re=function(a,b){D("Firebase.changeEmail",1,2,arguments.length);sg("Firebase.changeEmail",1,a,!1);tg("Firebase.changeEmail",a,"oldEmail");tg("Firebase.changeEmail",a,"newEmail");tg("Firebase.changeEmail",a,"password");F("Firebase.changeEmail",2,b,!0);var c=new B;this.k.O.re(a,C(c,b));return c.D};X.prototype.changeEmail=X.prototype.re;
X.prototype.Ze=function(a,b){D("Firebase.resetPassword",1,2,arguments.length);sg("Firebase.resetPassword",1,a,!1);tg("Firebase.resetPassword",a,"email");F("Firebase.resetPassword",2,b,!0);var c=new B;this.k.O.Ze(a,C(c,b));return c.D};X.prototype.resetPassword=X.prototype.Ze;})();

module.exports = Firebase;

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset:utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvQWxhbi9Eb2N1bWVudHMvVVdhdGVybG9vL0dpdGh1Yi9UYWlrby1vbi1MZWFwL2FwcC5qcyIsIi9Vc2Vycy9BbGFuL0RvY3VtZW50cy9VV2F0ZXJsb28vR2l0aHViL1RhaWtvLW9uLUxlYXAvanMvZ2FtZS5qcyIsIm5vZGVfbW9kdWxlcy9maXJlYmFzZS9saWIvZmlyZWJhc2Utd2ViLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7c0JDQ3NCLFdBQVc7O0lBQXJCLElBQUk7Ozs7QUFJaEIsU0FBUyxJQUFJLEdBQUU7OztDQUdkOzs7Ozs7QUNQRCxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDbkMsSUFBSSxVQUFVLEdBQUcsSUFBSSxRQUFRLENBQUMsdUNBQXVDLENBQUMsQ0FBQzs7QUFFdkUsSUFBSSxRQUFRLEdBQUcsVUFBVSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQzs7Ozs7O0FBTXpDLElBQUksZ0JBQWdCLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztBQUM3RCxJQUFJLGFBQWEsR0FBRyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDdEQsYUFBYSxDQUFDLElBQUksR0FBRyxZQUFZLENBQUM7QUFDbEMsYUFBYSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7QUFDcEMsSUFBSSxlQUFlLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQzs7QUFFbEMsU0FBUyxjQUFjLEdBQUU7O0FBRXZCLE1BQUksS0FBSyxHQUFHLGVBQWUsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNsQyxlQUFhLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsZ0JBQWdCLENBQUMsS0FBSyxFQUFDLGdCQUFnQixDQUFDLE1BQU0sQ0FBQyxDQUFDOztBQUU1RSxlQUFhLENBQUMs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QztDQUNyQyxDQUFDO0FBQ0YsT0FBTyxDQUFDLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQzs7O0FBTWhDLElBQUksVUFBVSxHQUFHLElBQUksS0FBSyxDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEVBQUUsRUFBQyxHQUFHLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxFQUFFLEVBQUMsRUFBRSxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxFQUFDLEdBQUcsQ0FBQyxDQUFDOzs7QUFHcDBDLElBQUksV0FBVyxHQUFHLElBQUksS0FBSyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQzs7QUFFakMsSUFBSSxZQUFZLENBQUM7QUFDakIsSUFBSSxPQUFPLEdBQUcsRUFBRSxDQUFDO0FBQ2pCLElBQUksSUFBSSxHQUFF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QUssQ0FBQyxDQUFDO0FBQ25CLFlBQU8sS0FBSztBQUNWLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxBQUNOLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxBQUNOLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxBQUNOLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxBQUNOLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxBQUNOLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxBQUNOLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxBQUNOLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxBQUNOLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxBQUNOLFdBQUssRUFBRTtBQUNMLGdCQUFRLENBQUMsY0FBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0FBQy9DLGNBQU07QUFBQSxB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Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsIi8vIGltcG9ydCAqIGFzIGhpdE9iaiBmcm9tIFwiLi9qcy9oaXRPYmpcIjtcbmltcG9ydCAqIGFzIGdhbWUgZnJvbSBcIi4vanMvZ2FtZVwiO1xuXG4vLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN0YXJ0XCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBwbGF5KTtcblxuZnVuY3Rpb24gcGxheSgpe1xuICAvLyBhbGVydCgncGxheSEnKTtcblxufVxuIiwiLy9zY29yZWRib2FyZFxudmFyIEZpcmViYXNlID0gcmVxdWlyZSgnZmlyZWJhc2UnKTtcbnZhciBzY29yZWJvYXJkID0gbmV3IEZpcmViYXNlKCdodHRwczovL3RhaWtvLW9uLWxlYXAuZmlyZWJhc2Vpby5jb20vJyk7XG5cbnZhciBzY29yZVJlZiA9IHNjb3JlYm9hcmQuY2hpbGQoJ3Njb3JlJyk7XG4vLyBzY29yZVJlZi5zZXQoe1xuLy8gICBjYW9uaW1hOiBcIjIyXCIsXG4vLyAgIGdnd3A6IFwiMzNcIixcbi8vICAgc2I6IFwiMTFcIlxuLy8gfSk7XG52YXIgc2NvcmVCb2FyZENhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzY29yZWJvYXJkJyk7XG52YXIgc2NvcmVCb2FyZEN0eCA9IHNjb3JlQm9hcmRDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbnNjb3JlQm9hcmRDdHguZm9udCA9IFwiMjBweCBBcmlhbFwiO1xuc2NvcmVCb2FyZEN0eC5maWxsU3R5bGUgPSBcIiNFNjM3N0JcIjtcbnZhciBzY29yZUJvYXJkU3RhY2sgPSBuZXcgQXJyYXkoKTtcblxuZnVuY3Rpb24gZHJhd1Njb3JlQm9hcmQoKXtcbiAgLy8gYWxlcnQoc2NvcmUpXG4gIHZhciBzY29yZSA9IHNjb3JlQm9hcmRTdGFjay5wb3AoKTtcbiAgc2NvcmVCb2FyZEN0eC5jbGVhclJlY3QoMCwwLHNjb3JlQm9hcmRDYW52YXMud2lkdGgsc2NvcmVCb2FyZENhbnZhcy5oZWlnaHQpO1xuICAvL2lmIG5vdCB1bmRlZmluZSBvciBudWxsP1xuICBzY29yZUJvYXJkQ3R4LmZpbGxUZXh0KHNjb3JlLCAwLCAzNSk7XG5cblxuICAvL3BvcCBpdCBhbmQgZHJhdyBpdCBvbnRvIHNjb3JlYm9hcmRcbn1cblxuZnVuY3Rpb24gc2NvcmVTdGFjayhuYW1lLCBzY29yZSl7XG4gIC8vaW1wbGVtZW50IGEgc3RhY2sgdG8gcmV2ZXNlIGRhdGE7XG4gIC8vcHVzaCB0byBzdGFjaztcbiAgc2NvcmVCb2FyZFN0YWNrLnB1c2goe1xuICAgIG5hbWU6IHNjb3JlXG4gIH0pO1xufVxuc2NvcmVSZWYub3JkZXJCeVZhbHVlKCkub24oJ3ZhbHVlJyxmdW5jdGlvbihzbmFwc2hvdCl7XG4gICAgc25hcHNob3QuZm9yRWFjaChmdW5jdGlvbihkYXRhKXtcbiAgICAgIHZhciBrZXkgPSBkYXRhLmtleSgpO1xuICAgICAgdmFyIHZhbHVlID0gZGF0YS52YWwoKTtcbiAgICAgIHNjb3JlU3RhY2soa2V5LHZhbHVlKTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKFwiTmFtZTogXCIgKyBkYXRhLmtleSgpICsgXCJzY29yZWQgXCIgKyBkYXRhLnZhbCgpKTtcbiAgICB9KTtcbiAgICBkcmF3U2NvcmVCb2FyZCgpO1xufSk7XG5cblxudmFyIGNvbnRyb2xsZXIgPSBuZXcgTGVhcC5Db250cm9sbGVyKCk7XG5cbmNvbnRyb2xsZXIub24oJ2RldmljZUNvbm5lY3RlZCcsIGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZyhcIkEgTGVhcCBkZXZpY2UgaGFzIGJlZW4gY29ubmVjdGVkLlwiKTtcbiAgZG9NeU93blN0dWZmKCk7XG59KTtcblxuY29udHJvbGxlci5vbignZGV2aWNlRGlzY29ubmVjdGVkJywgZnVuY3Rpb24oKSB7XG4gIGNvbnNvbGUubG9nKFwiQSBMZWFwIGRldmljZSBoYXMgYmVlbiBkaXNjb25uZWN0ZWQuXCIpO1xufSk7XG5cbnZhciBzY29yZSA9IDA7XG4vL2RyYXcgdGFpa29zXG52YXIgbnVtT2ZUYWlrb1R5cGUgPSAyO1xudmFyIHJlZFRhaWtvID0gbmV3IEltYWdlKCk7XG52YXIgY291bnRlclRhaWtvID0gMDtcbnJlZFRhaWtvLnNyYz1cIi4vaW1hZ2VzL3JlZFRhaWtvLnBuZ1wiO1xucmVkVGFpa28ub25sb2FkID0gZnVuY3Rpb24gKCl7XG4gIGNvdW50ZXJUYWlrbysrO1xuICBpZihjb3VudGVyVGFpa28gPiBudW1PZlRhaWtvVHlwZSAtIDEpe1xuICAgIGRyYXdUYWlrbygpO1xuICB9XG59XG52YXIgYmx1ZVRhaWtvID0gbmV3IEltYWdlKCk7XG5ibHVlVGFpa28uc3JjPVwiLi9pbWFnZXMvYmx1ZVRhaWtvLnBuZ1wiO1xuYmx1ZVRhaWtvLm9ubG9hZCA9IGZ1bmN0aW9uICgpe1xuICBjb3VudGVyVGFpa28rKztcbiAgaWYoY291bnRlclRhaWtvID4gbnVtT2ZUYWlrb1R5cGUgLSAxKXtcbiAgICBkcmF3VGFpa28oKTtcbiAgfVxufVxuXG4vL2RyYXcgYmFja2dyb3VuZFxudmFyIGJlYXRzQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJiZWF0c1wiKTtcbnZhciBiZWF0c0N0eCA9IGJlYXRzQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbmJlYXRzQ3R4LmJlZ2luUGF0aCgpO1xuYmVhdHNDdHgubW92ZVRvKDE1MCwzMDApO1xuYmVhdHNDdHgubGluZVRvKDE1MCwxMDApO1xuYmVhdHNDdHguc3Ryb2tlU3R5bGUgPSBcIiMwMDBcIjtcbmJlYXRzQ3R4LnN0cm9rZSgpO1xudmFyIHBsYXlncm91bmRDYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBsYXlncm91bmRcIik7XG52YXIgcGxheWdyb3VuZEN0eCA9IHBsYXlncm91bmRDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xudmFyIGJnSW1hZ2UgPSBuZXcgSW1hZ2UoKTtcbmJnSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gIHBsYXlncm91bmRDdHguZHJhd0ltYWdlKHRoaXMsIDAsIDApO1xufTtcbmJnSW1hZ2Uuc3JjID0gXCIuL2ltYWdlcy9iZy5wbmdcIjtcblxuXG5cblxuLy9kZWZpbmUgQmVhdG1hcCBub3Rlc1xudmFyIGhpdE9iamVjdHMgPSBuZXcgQXJyYXkoMTIwLDEyMCw2MCwxMjAsMTIwLDEyMCw2MCwxMjAsNjAsMTIwLDEyMCwxMjAsNjAsMTIwLDYwLDEyMCw2MCw2MCwxMjAsMTIwLDEyMCwxMjAsNjAsMTIwLDEyMCwxMjAsNjAsMTIwLDYwLDEyMCwxMjAsMTIwLDYwLDEyMCw2MCwxMjAsNjAsNjAsMTIwLDEyMCwxMjAsMTIwLDYwLDEyMCwxMjAsMTIwLDYwLDEyMCw2MCwxMjAsMTIwLDEyMCw2MCwxMjAsNjAsMTIwLDYwLDYwLDEyMCwxMjAsMTIwLDEyMCw2MCwxMjAsMTIwLDEyMCw2MCwxMjAsNjAsMTIwLDEyMCwxMjAsNjAsMTIwLDYwLDEyMCw2MCw2MCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDMwMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjAsMTIwLDEyMCwxMjApO1xuLy8gdmFyIHR5cGVPZlRhaWtvID0gbmV3IEFycmF5KDAsMCwwLDEsMCwwLDAsMSwwLDEsMCwwLDAsMSwwLDEsMCwxLDAsMCwwLDAsMCwxLDAsMCwwLDEsMCwxLDAsMCwwLDEsMCwxLDAsMSwwLDAsMCwwLDAsMSwwLDAsMCwxLDAsMSwwLDAsMCwxLDAsMSwwLDEsMCwwLDAsMCwwLDEsMCwwLDAsMSwwLDEsMCwwLDAsMSwwLDEsMCwxLDAsMCwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxKTtcbi8vLDAsMCwwLDEsMCwxLDAsMSwwLDAsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMCwxLDAsMCwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDAsMSwwLDAsMCwwLDAsMSwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMSwwLDEsMSwwLDEsMCwxLDEsMCwxLDEsMCwxLDAsMSwxLDAsMSwxLDAsMSwwLDEsMSwwLDEsMSwwLDEsMCwxXG52YXIgdHlwZU9mVGFpa28gPSBuZXcgQXJyYXkoMCwxKTtcbi8vZHJhdyBiZWF0bWFwIG5vdGVzKFRhaWtvcylcbnZhciBhcHByb2FjaFJhdGU7XG52YXIgeU9mZnNldCA9IDY1O1xudmFyIGRpc3Q9IDM1MDtcbnZhciBpc292ZXIgPSBmYWxzZTtcbnZhciBwbGF5ZXJOYW1lO1xuXG5mdW5jdGlvbiBkcmF3VGFpa28oKXtcbiAgYmVhdHNDdHguY2xlYXJSZWN0KDAsMCwxNTAwLDMwMCk7XG4gIGFwcHJvYWNoUmF0ZSA9IGRpc3Q7XG4gIGlmKGFwcHJvYWNoUmF0ZTwwKXtcbiAgICBpZih0eXBlT2ZUYWlrby5sZW5ndGggPCAyKXtcbiAgICAgIHBsYXllck5hbWUgPSBwcm9tcHQoXCJDb25ncmF0dWxhdGlvbnMhIEVudGVyIFlvdXIgTmFtZSBIRVJFISFcIiwgXCJXZWFyaGFjayBXYXRlcmxvbyAyMDE2XCIpO1xuICAgICAgLy9zZW5kIHRvIGRhdGFiYXNlO1xuICAgICAgdmFyIGJ1ZmZlckRhdGEgPSB7fTtcbiAgICAgIGJ1ZmZlckRhdGFbcGxheWVyTmFtZV0gPSBzY29yZTtcbiAgICAgIHNjb3JlUmVmLnVwZGF0ZShidWZmZXJEYXRhKTtcbiAgICAgIGlzb3ZlciA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGFwcHJvYWNoUmF0ZSA9IGhpdE9iamVjdHNbMF07XG4gICAgaGl0T2JqZWN0cy5zaGlmdCgpO1xuICAgIHR5cGVPZlRhaWtvLnNoaWZ0KCk7XG4gIH1cbiAgYXBwcm9hY2hSYXRlIC09IDY7XG4gIGRpc3QgPSBhcHByb2FjaFJhdGU7XG4gIGNoZWNrSGl0KGRpc3QpO1xuICAvLyBjb25zb2xlLmxvZyhkaXN0KTtcbiAgZm9yKGxldCBpPTA7IGk8MjA7IGkrKyl7XG4gICAgaWYodHlwZU9mVGFpa29baV0gPT0gMCl7XG4gICAgICBiZWF0c0N0eC5kcmF3SW1hZ2UocmVkVGFpa28sYXBwcm9hY2hSYXRlLHlPZmZzZXQpO1xuICAgIH1lbHNlIGlmKHR5cGVPZlRhaWtvW2ldID09IDEpe1xuICAgICAgYmVhdHNDdHguZHJhd0ltYWdlKGJsdWVUYWlrbyxhcHByb2FjaFJhdGUseU9mZnNldCk7XG4gICAgfVxuICAgIGFwcHJvYWNoUmF0ZSArPSBoaXRPYmplY3RzW2ldXG4gICAgaWYoYXBwcm9hY2hSYXRlPjEzMDApe1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGlmKCFpc292ZXIpe1xuICAgIHNldFRpbWVvdXQoZHJhd1RhaWtvLDIwKTtcbiAgfVxufVxuXG5cbi8vbGVhcG1vdGlvbiByZWFkZXJcblxuLy9oZWxwZXIgZnVuY3Rpb24gdG8gZGlzcGxheSBwb3NpdGlvbiBkYXRhXG5mdW5jdGlvbiBjb25jYXREYXRhKGlkLCBkYXRhKSB7XG4gIHJldHVybiBpZCArIFwiOiBcIiArIGRhdGEgKyBcIjxicj5cIjtcbn1cbi8vaGVscGVyIGZ1bmN0aW9uIHRvIGRpc3BsYXkgcG9zaXRpb24gZGF0YVxuZnVuY3Rpb24gY29uY2F0Sm9pbnRQb3NpdGlvbihwb3NpdGlvbikge1xuICByZXR1cm4gcG9zaXRpb25bMF0gKyBcIiwgXCIgKyBwb3NpdGlvblsxXSArIFwiLCBcIiArIHBvc2l0aW9uWzJdICsgXCI8YnI+XCI7XG59XG5cbnZhciBvdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3V0cHV0Jyk7XG52YXIgZnJhbWVTdHJpbmcgPSBcIlwiLCBoYW5kU3RyaW5nID0gXCJcIiwgZmluZ2VyU3RyaW5nID0gXCJcIjtcbnZhciBoYW5kLCBmaW5nZXI7XG52YXIgY3VycmVudFBvc2l0aW9uVmFsdWVzO1xudmFyIHNtb290aGVkQ3VycmVudFBvc2l0aW9uVmFsdWVzID0gbmV3IEFycmF5KFwiMFwiLCBcIjBcIiwgXCIwXCIpO1xudmFyIGxvd1Bhc3NGaWx0ZXJDb25zdCA9IDU7XG52YXIgaGFuZFR5cGU7XG52YXIgY291bnRlckYgPSAwO1xudmFyIGNvdW50ZXJKID0gMDtcbnZhciBjb3VudGVyRSA9IDA7XG52YXIgY291bnRlckkgPSAwO1xudmFyIGlzUHJlc3NlZEYgPSAwO1xudmFyIGlzUHJlc3NlZEogPSAwO1xudmFyIGlzUHJlc3NlZEUgPSAwO1xudmFyIGlzUHJlc3NlZEkgPSAwO1xuLy8gTGVhcC5sb29wIHVzZXMgYnJvd3NlcidzIHJlcXVlc3RBbmltYXRpb25GcmFtZVxudmFyIG9wdGlvbnMgPSB7IGVuYWJsZUdlc3R1cmVzOiB0cnVlIH07XG5cbi8vZHJhdyBzdGF0dXNcbnZhciBsZWFwU3RhdHVzQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJsZWFwU3RhdHVzXCIpO1xudmFyIGxlYXBTdGF0dXNDdHggPSBsZWFwU3RhdHVzQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbmxlYXBTdGF0dXNDdHguZm9udCA9IFwiMTVweCBBcmlhbFwiO1xubGVhcFN0YXR1c0N0eC5maWxsU3R5bGUgPSBcIiNmZmZcIjtcbnZhciBzdGF0dXNTdHJpbmc7XG52YXIgaGFuZFN0YXR1c1N0cmluZztcbnZhciBmaW5nZXJTdGF0dXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGRyYXdTdGF0dXMoaGFuZCwgZmluZ2VyKXtcbiAgLy8gYWxlcnQoc2NvcmUpXG4gIGNvbnNvbGUubG9nKGZpbmdlcik7XG4gIGxlYXBTdGF0dXNDdHguY2xlYXJSZWN0KDAsMCxsZWFwU3RhdHVzQ2FudmFzLndpZHRoLGxlYXBTdGF0dXNDYW52YXMuaGVpZ2h0KTtcbiAgc3RhdHVzU3RyaW5nID0gXCJMZWFwTW90aW9uIFN0YXR1czogXCIgKyBcIkNvbm5lY3RlZFwiO1xuICBsZWFwU3RhdHVzQ3R4LmZpbGxUZXh0KHN0YXR1c1N0cmluZywgMCwgMzApO1xuICBoYW5kU3RhdHVzU3RyaW5nID0gXCJDdXJyZW50IEhpdHRpbmcgSGFuZDogXCIgKyBoYW5kO1xuICBsZWFwU3RhdHVzQ3R4LmZpbGxUZXh0KGhhbmRTdGF0dXNTdHJpbmcsMCw2MCk7XG4gIGZpbmdlclN0YXR1c1N0cmluZyA9IFwiSGFuZCBMb2NhdGlvbjogXCIgKyBmaW5nZXI7XG4gIGxlYXBTdGF0dXNDdHguZmlsbFRleHQoZmluZ2VyU3RhdHVzU3RyaW5nLDAsOTApO1xuXG59XG5cbi8vIE1haW4gTGVhcCBMb29wXG5MZWFwLmxvb3Aob3B0aW9ucywgZnVuY3Rpb24oZnJhbWUpIHtcbiAgZnJhbWVTdHJpbmcgPSBjb25jYXREYXRhKFwibnVtX2hhbmRzXCIsIGZyYW1lLmhhbmRzLmxlbmd0aCk7XG4gIGZyYW1lU3RyaW5nICs9IGNvbmNhdERhdGEoXCJudW1fZmluZ2Vyc1wiLCBmcmFtZS5maW5nZXJzLmxlbmd0aCk7XG4gIGZyYW1lU3RyaW5nICs9IFwiPGJyPlwiO1xuXG4gIC8vIFNob3djYXNlIHNvbWUgbmV3IFYyIGZlYXR1cmVzXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmcmFtZS5oYW5kcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGhhbmQgPSBmcmFtZS5oYW5kc1tpXTtcbiAgICBoYW5kU3RyaW5nID0gY29uY2F0RGF0YShcImhhbmRfdHlwZVwiLCBoYW5kLnR5cGUpO1xuICAgIGhhbmRTdHJpbmcgKz0gJzxicj4nO1xuXG4gICAgLy8gSGVscGVycyBmb3IgdGh1bWIsIHBpbmt5LCBldGMuXG4gICAgZmluZ2VyU3RyaW5nID0gY29uY2F0Sm9pbnRQb3NpdGlvbihoYW5kLnRodW1iLmRpcFBvc2l0aW9uKTtcbiAgICAvL3Bhc3MgaW4gdHlwZSBvZiBoYW5kIGFuZCBwb3NpdGlvbiBmb3IgY2FsY3VsYXRpb25zO1xuICAgIGhhbmRUeXBlID0gaGFuZC50eXBlO1xuICAgIGN1cnJlbnRQb3NpdGlvblZhbHVlcyA9IGhhbmQudGh1bWIuZGlwUG9zaXRpb247XG4gICAgLy8gZm9yKGxldCBpID0gMDsgaSA8IDM7IGkrKyl7XG4gICAgLy8gICBzbW9vdGhlZEN1cnJlbnRQb3NpdGlvblZhbHVlc1tpXSArPSAoY3VycmVudFBvc2l0aW9uVmFsdWVzW2ldIC0gc21vb3RoZWRDdXJyZW50UG9zaXRpb25WYWx1ZXNbaV0pIC8gbG93UGFzc0ZpbHRlckNvbnN0O1xuICAgIC8vIH1cbiAgICAvLyBjYWxjdWxhdGVQb3NpdGlvbihoYW5kVHlwZSwgc21vb3RoZWRDdXJyZW50UG9zaXRpb25WYWx1ZXMpO1xuICAgIC8vIGNvbnNvbGUubG9nKGRpc3QpO1xuICAgIGNhbGN1bGF0ZVBvc2l0aW9uKGhhbmRUeXBlLCBjdXJyZW50UG9zaXRpb25WYWx1ZXMsIGRpc3QpO1xuXG4gICAgZnJhbWVTdHJpbmcgKz0gaGFuZFN0cmluZztcbiAgICBmcmFtZVN0cmluZyArPSBmaW5nZXJTdHJpbmc7XG4gICAgZHJhd1N0YXR1cyhoYW5kVHlwZSwgY3VycmVudFBvc2l0aW9uVmFsdWVzKTtcbiAgfVxuXG4gIC8vIG91dHB1dC5pbm5lckhUTUwgPSBmcmFtZVN0cmluZztcblxufSk7XG5cbnZhciBzYXZlZFBvc2l0aW9uRiA9IG5ldyBBcnJheShcIjBcIixcIjBcIik7XG52YXIgc2F2ZWRQb3NpdGlvbkogPSBuZXcgQXJyYXkoXCIwXCIsXCIwXCIpO1xudmFyIHNhdmVkUG9zaXRpb25FID0gbmV3IEFycmF5KFwiMFwiLFwiMFwiKTtcbnZhciBzYXZlZFBvc2l0aW9uSSA9IG5ldyBBcnJheShcIjBcIixcIjBcIik7XG5cbnZhciBkcnVtQ2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RydW0nKVxudmFyIGRydW1DdHggPSBkcnVtQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XG5cblxuZnVuY3Rpb24gZHJhd1JlZCgpe1xuICBkcnVtQ3R4LmJlZ2luUGF0aCgpO1xuICBkcnVtQ3R4LmFyYygxODAsMjAwLCAxNDAsIDAsIE1hdGguUEksIGZhbHNlKTtcbiAgZHJ1bUN0eC5jbG9zZVBhdGgoKTtcbiAgZHJ1bUN0eC5saW5lV2lkdGggPSA1O1xuICBkcnVtQ3R4LmZpbGxTdHlsZSA9ICcjRjUwMDFDJztcbiAgZHJ1bUN0eC5maWxsKCk7XG4gIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7ZHJ1bUN0eC5jbGVhclJlY3QoMCwwLDQ0MCw0NDApO30sIDEwMCk7XG59XG5mdW5jdGlvbiBkcmF3Qmx1ZSgpe1xuICBkcnVtQ3R4LmJlZ2luUGF0aCgpO1xuICBkcnVtQ3R4LmFyYygxODAsMjAwLCAxNDAsIE1hdGguUEksIDIqTWF0aC5QSSk7XG4gIGRydW1DdHguY2xvc2VQYXRoKCk7XG4gIGRydW1DdHgubGluZVdpZHRoID0gNTtcbiAgZHJ1bUN0eC5maWxsU3R5bGUgPSAnIzMzQzVGRic7XG4gIGRydW1DdHguZmlsbCgpO1xuICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge2RydW1DdHguY2xlYXJSZWN0KDAsMCw0NDAsNDQwKTt9LCAxMDApO1xufVxuXG5mdW5jdGlvbiBjaGVja0hpdChkaXN0KXtcbiAgLy8gY29uc29sZS5sb2coZGlzdCk7XG4gIHJldHVybiBkaXN0O1xufVxuXG4vL2RyYXcgc2NvcmVcbnZhciBzY29yZUNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NvcmVcIik7XG52YXIgc2NvcmVDdHggPSBzY29yZUNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5zY29yZUN0eC5mb250ID0gXCI1NXB4IEFyaWFsXCI7XG5zY29yZUN0eC5maWxsU3R5bGUgPSBcIiNFNjM3N0JcIjtcbnNjb3JlQ3R4LnRleHRBbGlnbiA9IFwiY2VudGVyXCI7XG52YXIgc2NvcmVTdHJpbmc7XG5cbmZ1bmN0aW9uIGRyYXdTY29yZShzY29yZSl7XG4gIC8vIGFsZXJ0KHNjb3JlKVxuICBzY29yZUN0eC5jbGVhclJlY3QoMCwwLHNjb3JlQ2FudmFzLndpZHRoLHNjb3JlQ2FudmFzLmhlaWdodCk7XG4gIHNjb3JlU3RyaW5nID0gXCJZb3VyIFNjb3JlOiBcIiArIHNjb3JlO1xuICBzY29yZUN0eC5maWxsVGV4dChzY29yZVN0cmluZywgc2NvcmVDYW52YXMud2lkdGgvMiwgc2NvcmVDYW52YXMuaGVpZ2h0LzIpO1xufVxuXG5cbmZ1bmN0aW9uIGNhbGN1bGF0ZVBvc2l0aW9uKGhhbmQsIHBvc2l0aW9uLCBkaXN0KXtcbiAgLy8gY29uc29sZS5sb2cocG9zaXRpb25zWzBdKTtcbiAgLy8gY29uc29sZS5sb2coaGFuZCk7XG5cbiAgLy9GXG4gIGZ1bmN0aW9uIHBsYXlTY29yZVNvdW5kRWZmZWN0KHNjb3JlKXtcblxuICAgIGNvbnNvbGUubG9nKHNjb3JlKTtcbiAgICBzd2l0Y2goc2NvcmUpe1xuICAgICAgY2FzZSAxMDpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21ib2J1cnN0LTBcIikucGxheSgpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyMDpcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbWJvYnVyc3QtMVwiKS5wbGF5KCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAzMDpcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tYm9idXJzdC0yXCIpLnBsYXkoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21ib2J1cnN0LTNcIikucGxheSgpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA1MDpcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbWJvYnVyc3QtNFwiKS5wbGF5KCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSA2MDpcbiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tYm9idXJzdC01XCIpLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgY2FzZSA2NTpcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21ib2J1cnN0LTZcIikucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3MDpcbiAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbWJvYnVyc3QtN1wiKS5wbGF5KCk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSA3NTpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29tYm9idXJzdC04XCIpLnBsYXkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4MDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb21ib2J1cnN0LTlcIikucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4NTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbWJvYnVyc3QtMTBcIikucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgOTA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbWJvYnVyc3QtMTFcIikucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDk1OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbWJvYnVyc3QtMTJcIikucGxheSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgIH1cbiAgfVxuXG4gIGlmKC8qaGFuZCA9PSAnbGVmdCcgJiYgKi9wb3NpdGlvblswXSA8PSAwICYmIHBvc2l0aW9uWzJdID49IC03MCl7XG4gICAgc2F2ZWRQb3NpdGlvbkZbY291bnRlckZdID0gcG9zaXRpb247XG4gICAgLy8gY29uc29sZS5sb2coc2F2ZWRQb3NpdGlvbkYpO1xuICAgIC8vIGlmKHNhdmVkUG9zaXRpb25GWzBdID09IFwiMFwiIHx8IHNhdmVkUG9zaXRpb25GWzFdID09IFwiMFwiKXtcbiAgICAvLyAgIGNvbnNvbGUubG9nKFwic2Vjb25kIGRpZG50IHBhc3NlZFwiKTtcbiAgICAvLyAgIHJldHVybiAwO1xuICAgIC8vIH1cblxuXG4gICAgaXNQcmVzc2VkRiA9IGZpbml0ZVN0YXRlTWFjaGluZUYoc2F2ZWRQb3NpdGlvbkYpO1xuICAgIGlmKGlzUHJlc3NlZEYgPT0gMSl7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkYgcHJlc3NlZFwiKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVkXCIpLnBsYXkoKTtcbiAgICAgIGRyYXdSZWQoKTtcbiAgICAgIC8vIGRpc3RhbmNlID0gY2hlY2tIaXQoKTtcbiAgICAgIGlmKGRpc3Q8NTAgJiYgZGlzdD4yMCl7XG5cdFx0XHRcdHNjb3JlKys7XG5cdFx0XHRcdC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NvcmVcIikuaW5uZXJIVE1MID0gc2NvcmU7XG4gICAgICAgIHBsYXlTY29yZVNvdW5kRWZmZWN0KHNjb3JlKTtcbiAgICAgICAgZHJhd1Njb3JlKHNjb3JlKTtcblx0XHRcdH1cbiAgICB9XG4gICAgY291bnRlckYrKztcbiAgICBpZihjb3VudGVyRiA9PSAyKXtcbiAgICAgIGNvdW50ZXJGID0gMDtcbiAgICB9XG4gIH1cblxuICAvL0pcbiAgaWYoLypoYW5kID09ICdyaWdodCcgJiYgKi9wb3NpdGlvblswXSA+IDAgJiYgcG9zaXRpb25bMl0gPj0gLTcwKXtcbiAgICBzYXZlZFBvc2l0aW9uSltjb3VudGVySl0gPSBwb3NpdGlvbjtcblxuICAgIGlzUHJlc3NlZEogPSBmaW5pdGVTdGF0ZU1hY2hpbmVKKHNhdmVkUG9zaXRpb25KKTtcbiAgICBpZihpc1ByZXNzZWRKID09IDEpe1xuICAgICAgLy8gY29uc29sZS5sb2coXCJKIHByZXNzZWRcIik7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlZFwiKS5wbGF5KCk7XG4gICAgICBkcmF3UmVkKCk7XG4gICAgICBpZihkaXN0PDUwICYmIGRpc3Q+MjApe1xuICAgICAgICBzY29yZSsrO1xuICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjb3JlXCIpLmlubmVySFRNTCA9IHNjb3JlO1xuICAgICAgICBwbGF5U2NvcmVTb3VuZEVmZmVjdChzY29yZSk7XG4gICAgICAgIGRyYXdTY29yZShzY29yZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvdW50ZXJKKys7XG4gICAgaWYoY291bnRlckogPT0gMil7XG4gICAgICBjb3VudGVySiA9IDA7XG4gICAgfVxuICB9XG5cbiAgLy9FXG4gIGlmKC8qaGFuZCA9PSAnbGVmdCcgJiYgKi9wb3NpdGlvblswXSA8PSAwICYmIHBvc2l0aW9uWzJdIDwgLTcwKXtcbiAgICBzYXZlZFBvc2l0aW9uRVtjb3VudGVyRV0gPSBwb3NpdGlvbjtcblxuICAgIGlzUHJlc3NlZEUgPSBmaW5pdGVTdGF0ZU1hY2hpbmVFKHNhdmVkUG9zaXRpb25FKTtcbiAgICBpZihpc1ByZXNzZWRFID09IDEpe1xuICAgICAgLy8gY29uc29sZS5sb2coXCJFIHByZXNzZWRcIik7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImJsdWVcIikucGxheSgpO1xuICAgICAgZHJhd0JsdWUoKTtcbiAgICAgIGlmKGRpc3Q8NTAgJiYgZGlzdD4yMCl7XG4gICAgICAgIHNjb3JlKys7XG4gICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NvcmVcIikuaW5uZXJIVE1MID0gc2NvcmU7XG4gICAgICAgIHBsYXlTY29yZVNvdW5kRWZmZWN0KHNjb3JlKTtcbiAgICAgICAgZHJhd1Njb3JlKHNjb3JlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgY291bnRlckYrKztcbiAgICBpZihjb3VudGVyRSA9PSAyKXtcbiAgICAgIGNvdW50ZXJFID0gMDtcbiAgICB9XG4gIH1cblxuICAvL0lcbiAgaWYoLypoYW5kID09ICdyaWdodCcgJiYgKi9wb3NpdGlvblswXSA+IDAgJiYgcG9zaXRpb25bMl0gPCAtNzApe1xuICAgIHNhdmVkUG9zaXRpb25JW2NvdW50ZXJJXSA9IHBvc2l0aW9uO1xuXG4gICAgaXNQcmVzc2VkSSA9IGZpbml0ZVN0YXRlTWFjaGluZUkoc2F2ZWRQb3NpdGlvbkkpO1xuICAgIGlmKGlzUHJlc3NlZEkgPT0gMSl7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcIkkgcHJlc3NlZFwiKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYmx1ZVwiKS5wbGF5KCk7XG4gICAgICBkcmF3Qmx1ZSgpO1xuICAgICAgaWYoZGlzdDw1MCAmJiBkaXN0PjIwKXtcbiAgICAgICAgc2NvcmUrKztcbiAgICAgICAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVwiKS5pbm5lckhUTUwgPSBzY29yZTtcbiAgICAgICAgcGxheVNjb3JlU291bmRFZmZlY3Qoc2NvcmUpO1xuICAgICAgICBkcmF3U2NvcmUoc2NvcmUpO1xuICAgICAgfVxuICAgIH1cbiAgICBjb3VudGVySSsrO1xuICAgIGlmKGNvdW50ZXJJID09IDIpe1xuICAgICAgY291bnRlckkgPSAwO1xuICAgIH1cbiAgfVxuXG59XG52YXIgdXBGID0gZmFsc2U7Ly9mYWxzZSBpbml0aWFsbHlcbnZhciBkb3duRiA9IGZhbHNlOy8vZmFsc2UgaW5pdGlhbGx5XG52YXIgdXBKID0gZmFsc2U7Ly9mYWxzZSBpbml0aWFsbHlcbnZhciBkb3duSiA9IGZhbHNlOy8vZmFsc2UgaW5pdGlhbGx5XG52YXIgdXBFID0gZmFsc2U7Ly9mYWxzZSBpbml0aWFsbHlcbnZhciBkb3duRSA9IGZhbHNlOy8vZmFsc2UgaW5pdGlhbGx5XG52YXIgdXBJID0gZmFsc2U7Ly9mYWxzZSBpbml0aWFsbHlcbnZhciBkb3duSSA9IGZhbHNlOy8vZmFsc2UgaW5pdGlhbGx5XG5cblxuZnVuY3Rpb24gZmluaXRlU3RhdGVNYWNoaW5lRihwb3NpdGlvbil7XG4gIGlmKHBvc2l0aW9uWzBdID09IDAgfHwgcG9zaXRpb25bMV0gPT0gMCl7XG4gICAgLy8gY29uc29sZS5sb2coXCJzZWNvbmQgZGlkbnQgcGFzc2VkXCIpO1xuICAgIHJldHVybiAwO1xuICB9XG4gIC8vIGNvbnNvbGUubG9nKHBvc2l0aW9uKTtcbiAgaWYocG9zaXRpb25bMV1bMV0gLSBwb3NpdGlvblswXVsxXSA+IDIwKS8vbmVlZCBtb3JlIGNvbnNpZGVyYXRpb24gb24gaWRlbnRpZnlpbmcgcGF0dGVybnNcbiAgICB7XG4gICAgICAvLyBjb25zb2xlLmxvZyhcInVwXCIpO1xuICAgICAgICB1cEYgPSB0cnVlOy8vY2hhbmdlIHRoZSBzdGF0ZVxuICAgIH1cbiAgZWxzZSBpZihwb3NpdGlvblswXVsxXSAtIHBvc2l0aW9uWzFdWzFdID4gMjApLy9uZWVkIG1vcmUgY29uc2lkZXJhdGlvbiBvbiBpZGVudGlmeWluZyBwYXR0ZXJuc1xuICAgIHtcbiAgICAgICAgZG93bkYgPSB0cnVlOy8vY2hhbmdlIHRoZSBzdGF0ZVxuICAgIH1cbiAgaWYoQm9vbGVhbih1cEYpICYgQm9vbGVhbihkb3duRikpLy90cnVlIEFORCB0cnVlXG4gIHtcbiAgICB1cEYgPSBmYWxzZTtcbiAgICBkb3duRiA9IGZhbHNlO1xuICAgIHJldHVybiAxOy8vc3RlcCsrXG4gIH1cbiAgZWxzZXtcbiAgICAgIHJldHVybiAwOy8vaWYgbm90aGluZ1xuICB9XG59XG5mdW5jdGlvbiBmaW5pdGVTdGF0ZU1hY2hpbmVKKHBvc2l0aW9uKXtcbiAgaWYocG9zaXRpb25bMF0gPT0gMCB8fCBwb3NpdGlvblsxXSA9PSAwKXtcbiAgICAvLyBjb25zb2xlLmxvZyhcInNlY29uZCBkaWRudCBwYXNzZWRcIik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYocG9zaXRpb25bMV1bMV0gLSBwb3NpdGlvblswXVsxXSA+IDIwKS8vbmVlZCBtb3JlIGNvbnNpZGVyYXRpb24gb24gaWRlbnRpZnlpbmcgcGF0dGVybnNcbiAgICB7XG4gICAgICAgIHVwSiA9IHRydWU7Ly9jaGFuZ2UgdGhlIHN0YXRlXG4gICAgfVxuICBlbHNlIGlmKHBvc2l0aW9uWzBdWzFdIC0gcG9zaXRpb25bMV1bMV0gPiAyMCkvL25lZWQgbW9yZSBjb25zaWRlcmF0aW9uIG9uIGlkZW50aWZ5aW5nIHBhdHRlcm5zXG4gICAge1xuICAgICAgICBkb3duSiA9IHRydWU7Ly9jaGFuZ2UgdGhlIHN0YXRlXG4gICAgfVxuICBpZihCb29sZWFuKHVwSikgJiBCb29sZWFuKGRvd25KKSkvL3RydWUgQU5EIHRydWVcbiAge1xuICAgIHVwSiA9IGZhbHNlO1xuICAgIGRvd25KID0gZmFsc2U7XG4gICAgcmV0dXJuIDE7Ly9zdGVwKytcbiAgfVxuICBlbHNle1xuICAgICAgcmV0dXJuIDA7Ly9pZiBub3RoaW5nXG4gIH1cbn1cbmZ1bmN0aW9uIGZpbml0ZVN0YXRlTWFjaGluZUUocG9zaXRpb24pe1xuICBpZihwb3NpdGlvblswXSA9PSAwIHx8IHBvc2l0aW9uWzFdID09IDApe1xuICAgIC8vIGNvbnNvbGUubG9nKFwic2Vjb25kIGRpZG50IHBhc3NlZFwiKTtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBpZihwb3NpdGlvblsxXVsxXSAtIHBvc2l0aW9uWzBdWzFdID4gMjApLy9uZWVkIG1vcmUgY29uc2lkZXJhdGlvbiBvbiBpZGVudGlmeWluZyBwYXR0ZXJuc1xuICAgIHtcbiAgICAgICAgdXBFID0gdHJ1ZTsvL2NoYW5nZSB0aGUgc3RhdGVcbiAgICB9XG4gIGVsc2UgaWYocG9zaXRpb25bMF1bMV0gLSBwb3NpdGlvblsxXVsxXSA+IDIwKS8vbmVlZCBtb3JlIGNvbnNpZGVyYXRpb24gb24gaWRlbnRpZnlpbmcgcGF0dGVybnNcbiAgICB7XG4gICAgICAgIGRvd25FID0gdHJ1ZTsvL2NoYW5nZSB0aGUgc3RhdGVcbiAgICB9XG4gIGlmKEJvb2xlYW4odXBFKSAmIEJvb2xlYW4oZG93bkUpKS8vdHJ1ZSBBTkQgdHJ1ZVxuICB7XG4gICAgdXBFID0gZmFsc2U7XG4gICAgZG93bkUgPSBmYWxzZTtcbiAgICAgIHJldHVybiAxOy8vc3RlcCsrXG4gIH1cbiAgZWxzZXtcbiAgICAgIHJldHVybiAwOy8vaWYgbm90aGluZ1xuICB9XG59XG5mdW5jdGlvbiBmaW5pdGVTdGF0ZU1hY2hpbmVJKHBvc2l0aW9uKXtcbiAgaWYocG9zaXRpb25bMF0gPT0gMCB8fCBwb3NpdGlvblsxXSA9PSAwKXtcbiAgICAvLyBjb25zb2xlLmxvZyhcInNlY29uZCBkaWRudCBwYXNzZWRcIik7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgaWYocG9zaXRpb25bMV1bMV0gLSBwb3NpdGlvblswXVsxXSA+IDIwKS8vbmVlZCBtb3JlIGNvbnNpZGVyYXRpb24gb24gaWRlbnRpZnlpbmcgcGF0dGVybnNcbiAgICB7XG4gICAgICAgIHVwSSA9IHRydWU7Ly9jaGFuZ2UgdGhlIHN0YXRlXG4gICAgfVxuICBlbHNlIGlmKHBvc2l0aW9uWzBdWzFdIC0gcG9zaXRpb25bMV1bMV0gPiAyMCkvL25lZWQgbW9yZSBjb25zaWRlcmF0aW9uIG9uIGlkZW50aWZ5aW5nIHBhdHRlcm5zXG4gICAge1xuICAgICAgICBkb3duSSA9IHRydWU7Ly9jaGFuZ2UgdGhlIHN0YXRlXG4gICAgfVxuICBpZihCb29sZWFuKHVwSSkgJiBCb29sZWFuKGRvd25JKSkvL3RydWUgQU5EIHRydWVcbiAge1xuICAgIHVwSSA9IGZhbHNlO1xuICAgIGRvd25JID0gZmFsc2U7XG4gICAgICByZXR1cm4gMTsvL3N0ZXArK1xuICB9XG4gIGVsc2V7XG4gICAgICByZXR1cm4gMDsvL2lmIG5vdGhpbmdcbiAgfVxufVxuXG4vLyBmdW5jdGlvbiAoZmluZ2VyVHlwZSkge1xuLy8gICBzd2l0Y2goKSB7XG4vLyAgICAgY2FzZSAwOlxuLy8gICAgICAgcmV0dXJuICdUaHVtYic7XG4vLyAgICAgYnJlYWs7XG4vL1xuLy8gICAgIGNhc2UgMTpcbi8vICAgICAgIHJldHVybiAnSW5kZXgnO1xuLy8gICAgIGJyZWFrO1xuLy9cbi8vICAgICBjYXNlIDI6XG4vLyAgICAgICByZXR1cm4gJ01pZGRsZSc7XG4vLyAgICAgYnJlYWs7XG4vL1xuLy8gICAgIGNhc2UgMzpcbi8vICAgICAgIHJldHVybiAnUmluZyc7XG4vLyAgICAgYnJlYWs7XG4vL1xuLy8gICAgIGNhc2UgNDpcbi8vICAgICAgIHJldHVybiAnUGlua3knO1xuLy8gICAgIGJyZWFrO1xuLy8gICB9XG4vLyB9XG5cbi8vYWx0ZXJuYXRpdmUgY2hlY2tpbmdcbi8vIHdpbmRvdy5vbmtleWRvd24gPSBmdW5jdGlvbiAoZXZlbnQpe1xuLy8gICBpZihldmVudC5rZXlDb2RlID09IDcwKXtcbi8vICAgICBjb25zb2xlLmxvZyhcImxlZnQgcmVkXCIpO1xuLy8gICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVkXCIpLnBsYXkoKTtcbi8vICAgICBpZihkaXN0PDEyMCAmJiBkaXN0PjUwICYmIHRhaWtvVHlwZVswXT09MCl7XG4vLyAgICAgICBzY29yZSsrO1xuLy8gICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVwiKS52YWx1ZSA9IHNjb3JlO1xuLy8gICAgIH1cbi8vICAgfVxuLy8gICBpZihldmVudC5rZXlDb2RlID09IDc0KXtcbi8vICAgICBjb25zb2xlLmxvZyhcInJpZ2h0IHJlZFwiKTtcbi8vICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlZFwiKS5wbGF5KCk7XG4vLyAgICAgaWYoZGlzdDwxMjAgJiYgZGlzdD41MCAmJiB0YWlrb1R5cGVbMF09PTApe1xuLy8gICAgICAgc2NvcmUrKztcbi8vICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NvcmVcIikudmFsdWUgPSBzY29yZTtcbi8vICAgICB9XG4vLyAgIH1cbi8vICAgaWYoZXZlbnQua2V5Q29kZSA9PSA2OSl7XG4vLyAgICAgY29uc29sZS5sb2coXCJsZWZ0IGJsdWVcIik7XG4vLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibHVlXCIpLnBsYXkoKTtcbi8vICAgICBpZihkaXN0PDEyMCAmJiBkaXN0PjUwICYmIHRhaWtvVHlwZVswXT09MSl7XG4vLyAgICAgICBzY29yZSsrO1xuLy8gICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVwiKS52YWx1ZSA9IHNjb3JlO1xuLy8gICAgIH1cbi8vICAgfVxuLy8gICBpZihldmVudC5rZXlDb2RlID09IDczKXtcbi8vICAgICBjb25zb2xlLmxvZyhcInJpZ2h0IGJsdWVcIik7XG4vLyAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibHVlXCIpLnBsYXkoKTtcbi8vICAgICBpZihkaXN0PDEyMCAmJiBkaXN0PjUwICYmIHRhaWtvVHlwZVswXT09MSl7XG4vLyAgICAgICBzY29yZSsrO1xuLy8gICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY29yZVwiKS52YWx1ZSA9IHNjb3JlO1xuLy8gICAgIH1cbi8vICAgfVxuLy8gfVxuLy8gbW9kdWxlLmV4cG9ydHMgPSBcImhpdE9ialwiO1xuIiwiLyohIEBsaWNlbnNlIEZpcmViYXNlIHYyLjQuMVxuICAgIExpY2Vuc2U6IGh0dHBzOi8vd3d3LmZpcmViYXNlLmNvbS90ZXJtcy90ZXJtcy1vZi1zZXJ2aWNlLmh0bWwgKi9cbihmdW5jdGlvbigpIHt2YXIgaCxuPXRoaXM7ZnVuY3Rpb24gcChhKXtyZXR1cm4gdm9pZCAwIT09YX1mdW5jdGlvbiBhYSgpe31mdW5jdGlvbiBiYShhKXthLnliPWZ1bmN0aW9uKCl7cmV0dXJuIGEuemY/YS56ZjphLnpmPW5ldyBhfX1cbmZ1bmN0aW9uIGNhKGEpe3ZhciBiPXR5cGVvZiBhO2lmKFwib2JqZWN0XCI9PWIpaWYoYSl7aWYoYSBpbnN0YW5jZW9mIEFycmF5KXJldHVyblwiYXJyYXlcIjtpZihhIGluc3RhbmNlb2YgT2JqZWN0KXJldHVybiBiO3ZhciBjPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhKTtpZihcIltvYmplY3QgV2luZG93XVwiPT1jKXJldHVyblwib2JqZWN0XCI7aWYoXCJbb2JqZWN0IEFycmF5XVwiPT1jfHxcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGgmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnNwbGljZSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEucHJvcGVydHlJc0VudW1lcmFibGUmJiFhLnByb3BlcnR5SXNFbnVtZXJhYmxlKFwic3BsaWNlXCIpKXJldHVyblwiYXJyYXlcIjtpZihcIltvYmplY3QgRnVuY3Rpb25dXCI9PWN8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLmNhbGwmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhLnByb3BlcnR5SXNFbnVtZXJhYmxlJiYhYS5wcm9wZXJ0eUlzRW51bWVyYWJsZShcImNhbGxcIikpcmV0dXJuXCJmdW5jdGlvblwifWVsc2UgcmV0dXJuXCJudWxsXCI7XG5lbHNlIGlmKFwiZnVuY3Rpb25cIj09YiYmXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEuY2FsbClyZXR1cm5cIm9iamVjdFwiO3JldHVybiBifWZ1bmN0aW9uIGRhKGEpe3JldHVyblwiYXJyYXlcIj09Y2EoYSl9ZnVuY3Rpb24gZWEoYSl7dmFyIGI9Y2EoYSk7cmV0dXJuXCJhcnJheVwiPT1ifHxcIm9iamVjdFwiPT1iJiZcIm51bWJlclwiPT10eXBlb2YgYS5sZW5ndGh9ZnVuY3Rpb24gcShhKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgYX1mdW5jdGlvbiBmYShhKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYX1mdW5jdGlvbiByKGEpe3JldHVyblwiZnVuY3Rpb25cIj09Y2EoYSl9ZnVuY3Rpb24gZ2EoYSl7dmFyIGI9dHlwZW9mIGE7cmV0dXJuXCJvYmplY3RcIj09YiYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1ifWZ1bmN0aW9uIGhhKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfVxuZnVuY3Rpb24gaWEoYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShjLGQpO3JldHVybiBhLmFwcGx5KGIsYyl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gdShhLGIsYyl7dT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2hhOmlhO3JldHVybiB1LmFwcGx5KG51bGwsYXJndW1lbnRzKX12YXIgamE9RGF0ZS5ub3d8fGZ1bmN0aW9uKCl7cmV0dXJuK25ldyBEYXRlfTtcbmZ1bmN0aW9uIGthKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLm9oPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5raD1mdW5jdGlvbihhLGMsZil7Zm9yKHZhciBnPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksaz0yO2s8YXJndW1lbnRzLmxlbmd0aDtrKyspZ1trLTJdPWFyZ3VtZW50c1trXTtyZXR1cm4gYi5wcm90b3R5cGVbY10uYXBwbHkoYSxnKX19O2Z1bmN0aW9uIGxhKGEpe2lmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKUVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsbGEpO2Vsc2V7dmFyIGI9RXJyb3IoKS5zdGFjaztiJiYodGhpcy5zdGFjaz1iKX1hJiYodGhpcy5tZXNzYWdlPVN0cmluZyhhKSl9a2EobGEsRXJyb3IpO2xhLnByb3RvdHlwZS5uYW1lPVwiQ3VzdG9tRXJyb3JcIjtmdW5jdGlvbiB2KGEsYil7Zm9yKHZhciBjIGluIGEpYi5jYWxsKHZvaWQgMCxhW2NdLGMsYSl9ZnVuY3Rpb24gbWEoYSxiKXt2YXIgYz17fSxkO2ZvcihkIGluIGEpY1tkXT1iLmNhbGwodm9pZCAwLGFbZF0sZCxhKTtyZXR1cm4gY31mdW5jdGlvbiBuYShhLGIpe2Zvcih2YXIgYyBpbiBhKWlmKCFiLmNhbGwodm9pZCAwLGFbY10sYyxhKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBvYShhKXt2YXIgYj0wLGM7Zm9yKGMgaW4gYSliKys7cmV0dXJuIGJ9ZnVuY3Rpb24gcGEoYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuIGJ9ZnVuY3Rpb24gcWEoYSl7dmFyIGI9W10sYz0wLGQ7Zm9yKGQgaW4gYSliW2MrK109YVtkXTtyZXR1cm4gYn1mdW5jdGlvbiByYShhKXt2YXIgYj1bXSxjPTAsZDtmb3IoZCBpbiBhKWJbYysrXT1kO3JldHVybiBifWZ1bmN0aW9uIHNhKGEsYil7Zm9yKHZhciBjIGluIGEpaWYoYVtjXT09YilyZXR1cm4hMDtyZXR1cm4hMX1cbmZ1bmN0aW9uIHRhKGEsYixjKXtmb3IodmFyIGQgaW4gYSlpZihiLmNhbGwoYyxhW2RdLGQsYSkpcmV0dXJuIGR9ZnVuY3Rpb24gdWEoYSxiKXt2YXIgYz10YShhLGIsdm9pZCAwKTtyZXR1cm4gYyYmYVtjXX1mdW5jdGlvbiB2YShhKXtmb3IodmFyIGIgaW4gYSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiB3YShhKXt2YXIgYj17fSxjO2ZvcihjIGluIGEpYltjXT1hW2NdO3JldHVybiBifXZhciB4YT1cImNvbnN0cnVjdG9yIGhhc093blByb3BlcnR5IGlzUHJvdG90eXBlT2YgcHJvcGVydHlJc0VudW1lcmFibGUgdG9Mb2NhbGVTdHJpbmcgdG9TdHJpbmcgdmFsdWVPZlwiLnNwbGl0KFwiIFwiKTtcbmZ1bmN0aW9uIHlhKGEsYil7Zm9yKHZhciBjLGQsZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe2Q9YXJndW1lbnRzW2VdO2ZvcihjIGluIGQpYVtjXT1kW2NdO2Zvcih2YXIgZj0wO2Y8eGEubGVuZ3RoO2YrKyljPXhhW2ZdLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGMpJiYoYVtjXT1kW2NdKX19O2Z1bmN0aW9uIHphKGEpe2E9U3RyaW5nKGEpO2lmKC9eXFxzKiQvLnRlc3QoYSk/MDovXltcXF0sOnt9XFxzXFx1MjAyOFxcdTIwMjldKiQvLnRlc3QoYS5yZXBsYWNlKC9cXFxcW1wiXFxcXFxcL2JmbnJ0dV0vZyxcIkBcIikucmVwbGFjZSgvXCJbXlwiXFxcXFxcblxcclxcdTIwMjhcXHUyMDI5XFx4MDAtXFx4MDhcXHgwYS1cXHgxZl0qXCJ8dHJ1ZXxmYWxzZXxudWxsfC0/XFxkKyg/OlxcLlxcZCopPyg/OltlRV1bK1xcLV0/XFxkKyk/L2csXCJdXCIpLnJlcGxhY2UoLyg/Ol58OnwsKSg/OltcXHNcXHUyMDI4XFx1MjAyOV0qXFxbKSsvZyxcIlwiKSkpdHJ5e3JldHVybiBldmFsKFwiKFwiK2ErXCIpXCIpfWNhdGNoKGIpe310aHJvdyBFcnJvcihcIkludmFsaWQgSlNPTiBzdHJpbmc6IFwiK2EpO31mdW5jdGlvbiBBYSgpe3RoaXMuVmQ9dm9pZCAwfVxuZnVuY3Rpb24gQmEoYSxiLGMpe3N3aXRjaCh0eXBlb2YgYil7Y2FzZSBcInN0cmluZ1wiOkNhKGIsYyk7YnJlYWs7Y2FzZSBcIm51bWJlclwiOmMucHVzaChpc0Zpbml0ZShiKSYmIWlzTmFOKGIpP2I6XCJudWxsXCIpO2JyZWFrO2Nhc2UgXCJib29sZWFuXCI6Yy5wdXNoKGIpO2JyZWFrO2Nhc2UgXCJ1bmRlZmluZWRcIjpjLnB1c2goXCJudWxsXCIpO2JyZWFrO2Nhc2UgXCJvYmplY3RcIjppZihudWxsPT1iKXtjLnB1c2goXCJudWxsXCIpO2JyZWFrfWlmKGRhKGIpKXt2YXIgZD1iLmxlbmd0aDtjLnB1c2goXCJbXCIpO2Zvcih2YXIgZT1cIlwiLGY9MDtmPGQ7ZisrKWMucHVzaChlKSxlPWJbZl0sQmEoYSxhLlZkP2EuVmQuY2FsbChiLFN0cmluZyhmKSxlKTplLGMpLGU9XCIsXCI7Yy5wdXNoKFwiXVwiKTticmVha31jLnB1c2goXCJ7XCIpO2Q9XCJcIjtmb3IoZiBpbiBiKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLGYpJiYoZT1iW2ZdLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUmJihjLnB1c2goZCksQ2EoZixjKSxcbmMucHVzaChcIjpcIiksQmEoYSxhLlZkP2EuVmQuY2FsbChiLGYsZSk6ZSxjKSxkPVwiLFwiKSk7Yy5wdXNoKFwifVwiKTticmVhaztjYXNlIFwiZnVuY3Rpb25cIjpicmVhaztkZWZhdWx0OnRocm93IEVycm9yKFwiVW5rbm93biB0eXBlOiBcIit0eXBlb2YgYik7fX12YXIgRGE9eydcIic6J1xcXFxcIicsXCJcXFxcXCI6XCJcXFxcXFxcXFwiLFwiL1wiOlwiXFxcXC9cIixcIlxcYlwiOlwiXFxcXGJcIixcIlxcZlwiOlwiXFxcXGZcIixcIlxcblwiOlwiXFxcXG5cIixcIlxcclwiOlwiXFxcXHJcIixcIlxcdFwiOlwiXFxcXHRcIixcIlxceDBCXCI6XCJcXFxcdTAwMGJcIn0sRWE9L1xcdWZmZmYvLnRlc3QoXCJcXHVmZmZmXCIpPy9bXFxcXFxcXCJcXHgwMC1cXHgxZlxceDdmLVxcdWZmZmZdL2c6L1tcXFxcXFxcIlxceDAwLVxceDFmXFx4N2YtXFx4ZmZdL2c7XG5mdW5jdGlvbiBDYShhLGIpe2IucHVzaCgnXCInLGEucmVwbGFjZShFYSxmdW5jdGlvbihhKXtpZihhIGluIERhKXJldHVybiBEYVthXTt2YXIgYj1hLmNoYXJDb2RlQXQoMCksZT1cIlxcXFx1XCI7MTY+Yj9lKz1cIjAwMFwiOjI1Nj5iP2UrPVwiMDBcIjo0MDk2PmImJihlKz1cIjBcIik7cmV0dXJuIERhW2FdPWUrYi50b1N0cmluZygxNil9KSwnXCInKX07ZnVuY3Rpb24gRmEoKXtyZXR1cm4gTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSleamEoKSkudG9TdHJpbmcoMzYpfTt2YXIgdzthOnt2YXIgR2E9bi5uYXZpZ2F0b3I7aWYoR2Epe3ZhciBIYT1HYS51c2VyQWdlbnQ7aWYoSGEpe3c9SGE7YnJlYWsgYX19dz1cIlwifTtmdW5jdGlvbiBJYSgpe3RoaXMuWWE9LTF9O2Z1bmN0aW9uIEphKCl7dGhpcy5ZYT0tMTt0aGlzLllhPTY0O3RoaXMuUD1bXTt0aGlzLnBlPVtdO3RoaXMuZWc9W107dGhpcy5PZD1bXTt0aGlzLk9kWzBdPTEyODtmb3IodmFyIGE9MTthPHRoaXMuWWE7KythKXRoaXMuT2RbYV09MDt0aGlzLmdlPXRoaXMuZWM9MDt0aGlzLnJlc2V0KCl9a2EoSmEsSWEpO0phLnByb3RvdHlwZS5yZXNldD1mdW5jdGlvbigpe3RoaXMuUFswXT0xNzMyNTg0MTkzO3RoaXMuUFsxXT00MDIzMjMzNDE3O3RoaXMuUFsyXT0yNTYyMzgzMTAyO3RoaXMuUFszXT0yNzE3MzM4Nzg7dGhpcy5QWzRdPTMyODUzNzc1MjA7dGhpcy5nZT10aGlzLmVjPTB9O1xuZnVuY3Rpb24gS2EoYSxiLGMpe2N8fChjPTApO3ZhciBkPWEuZWc7aWYocShiKSlmb3IodmFyIGU9MDsxNj5lO2UrKylkW2VdPWIuY2hhckNvZGVBdChjKTw8MjR8Yi5jaGFyQ29kZUF0KGMrMSk8PDE2fGIuY2hhckNvZGVBdChjKzIpPDw4fGIuY2hhckNvZGVBdChjKzMpLGMrPTQ7ZWxzZSBmb3IoZT0wOzE2PmU7ZSsrKWRbZV09YltjXTw8MjR8YltjKzFdPDwxNnxiW2MrMl08PDh8YltjKzNdLGMrPTQ7Zm9yKGU9MTY7ODA+ZTtlKyspe3ZhciBmPWRbZS0zXV5kW2UtOF1eZFtlLTE0XV5kW2UtMTZdO2RbZV09KGY8PDF8Zj4+PjMxKSY0Mjk0OTY3Mjk1fWI9YS5QWzBdO2M9YS5QWzFdO2Zvcih2YXIgZz1hLlBbMl0saz1hLlBbM10sbT1hLlBbNF0sbCxlPTA7ODA+ZTtlKyspNDA+ZT8yMD5lPyhmPWteYyYoZ15rKSxsPTE1MTg1MDAyNDkpOihmPWNeZ15rLGw9MTg1OTc3NTM5Myk6NjA+ZT8oZj1jJmd8ayYoY3xnKSxsPTI0MDA5NTk3MDgpOihmPWNeZ15rLGw9MzM5NTQ2OTc4MiksZj0oYjw8XG41fGI+Pj4yNykrZittK2wrZFtlXSY0Mjk0OTY3Mjk1LG09ayxrPWcsZz0oYzw8MzB8Yz4+PjIpJjQyOTQ5NjcyOTUsYz1iLGI9ZjthLlBbMF09YS5QWzBdK2ImNDI5NDk2NzI5NTthLlBbMV09YS5QWzFdK2MmNDI5NDk2NzI5NTthLlBbMl09YS5QWzJdK2cmNDI5NDk2NzI5NTthLlBbM109YS5QWzNdK2smNDI5NDk2NzI5NTthLlBbNF09YS5QWzRdK20mNDI5NDk2NzI5NX1cbkphLnByb3RvdHlwZS51cGRhdGU9ZnVuY3Rpb24oYSxiKXtpZihudWxsIT1hKXtwKGIpfHwoYj1hLmxlbmd0aCk7Zm9yKHZhciBjPWItdGhpcy5ZYSxkPTAsZT10aGlzLnBlLGY9dGhpcy5lYztkPGI7KXtpZigwPT1mKWZvcig7ZDw9YzspS2EodGhpcyxhLGQpLGQrPXRoaXMuWWE7aWYocShhKSlmb3IoO2Q8Yjspe2lmKGVbZl09YS5jaGFyQ29kZUF0KGQpLCsrZiwrK2QsZj09dGhpcy5ZYSl7S2EodGhpcyxlKTtmPTA7YnJlYWt9fWVsc2UgZm9yKDtkPGI7KWlmKGVbZl09YVtkXSwrK2YsKytkLGY9PXRoaXMuWWEpe0thKHRoaXMsZSk7Zj0wO2JyZWFrfX10aGlzLmVjPWY7dGhpcy5nZSs9Yn19O3ZhciB4PUFycmF5LnByb3RvdHlwZSxMYT14LmluZGV4T2Y/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB4LmluZGV4T2YuY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtjPW51bGw9PWM/MDowPmM/TWF0aC5tYXgoMCxhLmxlbmd0aCtjKTpjO2lmKHEoYSkpcmV0dXJuIHEoYikmJjE9PWIubGVuZ3RoP2EuaW5kZXhPZihiLGMpOi0xO2Zvcig7YzxhLmxlbmd0aDtjKyspaWYoYyBpbiBhJiZhW2NdPT09YilyZXR1cm4gYztyZXR1cm4tMX0sTWE9eC5mb3JFYWNoP2Z1bmN0aW9uKGEsYixjKXt4LmZvckVhY2guY2FsbChhLGIsYyl9OmZ1bmN0aW9uKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1xKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKX0sTmE9eC5maWx0ZXI/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB4LmZpbHRlci5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPVtdLGY9MCxnPXEoYSk/XG5hLnNwbGl0KFwiXCIpOmEsaz0wO2s8ZDtrKyspaWYoayBpbiBnKXt2YXIgbT1nW2tdO2IuY2FsbChjLG0sayxhKSYmKGVbZisrXT1tKX1yZXR1cm4gZX0sT2E9eC5tYXA/ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB4Lm1hcC5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPUFycmF5KGQpLGY9cShhKT9hLnNwbGl0KFwiXCIpOmEsZz0wO2c8ZDtnKyspZyBpbiBmJiYoZVtnXT1iLmNhbGwoYyxmW2ddLGcsYSkpO3JldHVybiBlfSxQYT14LnJlZHVjZT9mdW5jdGlvbihhLGIsYyxkKXtmb3IodmFyIGU9W10sZj0xLGc9YXJndW1lbnRzLmxlbmd0aDtmPGc7ZisrKWUucHVzaChhcmd1bWVudHNbZl0pO2QmJihlWzBdPXUoYixkKSk7cmV0dXJuIHgucmVkdWNlLmFwcGx5KGEsZSl9OmZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWM7TWEoYSxmdW5jdGlvbihjLGcpe2U9Yi5jYWxsKGQsZSxjLGcsYSl9KTtyZXR1cm4gZX0sUWE9eC5ldmVyeT9mdW5jdGlvbihhLGIsXG5jKXtyZXR1cm4geC5ldmVyeS5jYWxsKGEsYixjKX06ZnVuY3Rpb24oYSxiLGMpe2Zvcih2YXIgZD1hLmxlbmd0aCxlPXEoYSk/YS5zcGxpdChcIlwiKTphLGY9MDtmPGQ7ZisrKWlmKGYgaW4gZSYmIWIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4hMTtyZXR1cm4hMH07ZnVuY3Rpb24gUmEoYSxiKXt2YXIgYz1TYShhLGIsdm9pZCAwKTtyZXR1cm4gMD5jP251bGw6cShhKT9hLmNoYXJBdChjKTphW2NdfWZ1bmN0aW9uIFNhKGEsYixjKXtmb3IodmFyIGQ9YS5sZW5ndGgsZT1xKGEpP2Euc3BsaXQoXCJcIik6YSxmPTA7ZjxkO2YrKylpZihmIGluIGUmJmIuY2FsbChjLGVbZl0sZixhKSlyZXR1cm4gZjtyZXR1cm4tMX1mdW5jdGlvbiBUYShhLGIpe3ZhciBjPUxhKGEsYik7MDw9YyYmeC5zcGxpY2UuY2FsbChhLGMsMSl9ZnVuY3Rpb24gVWEoYSxiLGMpe3JldHVybiAyPj1hcmd1bWVudHMubGVuZ3RoP3guc2xpY2UuY2FsbChhLGIpOnguc2xpY2UuY2FsbChhLGIsYyl9XG5mdW5jdGlvbiBWYShhLGIpe2Euc29ydChifHxXYSl9ZnVuY3Rpb24gV2EoYSxiKXtyZXR1cm4gYT5iPzE6YTxiPy0xOjB9O2Z1bmN0aW9uIFhhKGEpe24uc2V0VGltZW91dChmdW5jdGlvbigpe3Rocm93IGE7fSwwKX12YXIgWWE7XG5mdW5jdGlvbiBaYSgpe3ZhciBhPW4uTWVzc2FnZUNoYW5uZWw7XCJ1bmRlZmluZWRcIj09PXR5cGVvZiBhJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmd2luZG93LnBvc3RNZXNzYWdlJiZ3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lciYmLTE9PXcuaW5kZXhPZihcIlByZXN0b1wiKSYmKGE9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO2Euc3R5bGUuZGlzcGxheT1cIm5vbmVcIjthLnNyYz1cIlwiO2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChhKTt2YXIgYj1hLmNvbnRlbnRXaW5kb3csYT1iLmRvY3VtZW50O2Eub3BlbigpO2Eud3JpdGUoXCJcIik7YS5jbG9zZSgpO3ZhciBjPVwiY2FsbEltbWVkaWF0ZVwiK01hdGgucmFuZG9tKCksZD1cImZpbGU6XCI9PWIubG9jYXRpb24ucHJvdG9jb2w/XCIqXCI6Yi5sb2NhdGlvbi5wcm90b2NvbCtcIi8vXCIrYi5sb2NhdGlvbi5ob3N0LGE9dShmdW5jdGlvbihhKXtpZigoXCIqXCI9PWR8fGEub3JpZ2luPT1cbmQpJiZhLmRhdGE9PWMpdGhpcy5wb3J0MS5vbm1lc3NhZ2UoKX0sdGhpcyk7Yi5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGEsITEpO3RoaXMucG9ydDE9e307dGhpcy5wb3J0Mj17cG9zdE1lc3NhZ2U6ZnVuY3Rpb24oKXtiLnBvc3RNZXNzYWdlKGMsZCl9fX0pO2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgYSYmLTE9PXcuaW5kZXhPZihcIlRyaWRlbnRcIikmJi0xPT13LmluZGV4T2YoXCJNU0lFXCIpKXt2YXIgYj1uZXcgYSxjPXt9LGQ9YztiLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbigpe2lmKHAoYy5uZXh0KSl7Yz1jLm5leHQ7dmFyIGE9Yy5oYjtjLmhiPW51bGw7YSgpfX07cmV0dXJuIGZ1bmN0aW9uKGEpe2QubmV4dD17aGI6YX07ZD1kLm5leHQ7Yi5wb3J0Mi5wb3N0TWVzc2FnZSgwKX19cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oYSl7dmFyIGI9XG5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2Iub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7Yi5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7Yj1udWxsO2EoKTthPW51bGx9O2RvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChiKX06ZnVuY3Rpb24oYSl7bi5zZXRUaW1lb3V0KGEsMCl9fTtmdW5jdGlvbiAkYShhLGIpe2FifHxiYigpO2NifHwoYWIoKSxjYj0hMCk7ZGIucHVzaChuZXcgZWIoYSxiKSl9dmFyIGFiO2Z1bmN0aW9uIGJiKCl7aWYobi5Qcm9taXNlJiZuLlByb21pc2UucmVzb2x2ZSl7dmFyIGE9bi5Qcm9taXNlLnJlc29sdmUoKTthYj1mdW5jdGlvbigpe2EudGhlbihmYil9fWVsc2UgYWI9ZnVuY3Rpb24oKXt2YXIgYT1mYjshcihuLnNldEltbWVkaWF0ZSl8fG4uV2luZG93JiZuLldpbmRvdy5wcm90b3R5cGUmJm4uV2luZG93LnByb3RvdHlwZS5zZXRJbW1lZGlhdGU9PW4uc2V0SW1tZWRpYXRlPyhZYXx8KFlhPVphKCkpLFlhKGEpKTpuLnNldEltbWVkaWF0ZShhKX19dmFyIGNiPSExLGRiPVtdO1tdLnB1c2goZnVuY3Rpb24oKXtjYj0hMTtkYj1bXX0pO1xuZnVuY3Rpb24gZmIoKXtmb3IoO2RiLmxlbmd0aDspe3ZhciBhPWRiO2RiPVtdO2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7YisrKXt2YXIgYz1hW2JdO3RyeXtjLnlnLmNhbGwoYy5zY29wZSl9Y2F0Y2goZCl7WGEoZCl9fX1jYj0hMX1mdW5jdGlvbiBlYihhLGIpe3RoaXMueWc9YTt0aGlzLnNjb3BlPWJ9O3ZhciBnYj0tMSE9dy5pbmRleE9mKFwiT3BlcmFcIil8fC0xIT13LmluZGV4T2YoXCJPUFJcIiksaGI9LTEhPXcuaW5kZXhPZihcIlRyaWRlbnRcIil8fC0xIT13LmluZGV4T2YoXCJNU0lFXCIpLGliPS0xIT13LmluZGV4T2YoXCJHZWNrb1wiKSYmLTE9PXcudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpJiYhKC0xIT13LmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9dy5pbmRleE9mKFwiTVNJRVwiKSksamI9LTEhPXcudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpO1xuKGZ1bmN0aW9uKCl7dmFyIGE9XCJcIixiO2lmKGdiJiZuLm9wZXJhKXJldHVybiBhPW4ub3BlcmEudmVyc2lvbixyKGEpP2EoKTphO2liP2I9L3J2XFw6KFteXFwpO10rKShcXCl8OykvOmhiP2I9L1xcYig/Ok1TSUV8cnYpWzogXShbXlxcKTtdKykoXFwpfDspLzpqYiYmKGI9L1dlYktpdFxcLyhcXFMrKS8pO2ImJihhPShhPWIuZXhlYyh3KSk/YVsxXTpcIlwiKTtyZXR1cm4gaGImJihiPShiPW4uZG9jdW1lbnQpP2IuZG9jdW1lbnRNb2RlOnZvaWQgMCxiPnBhcnNlRmxvYXQoYSkpP1N0cmluZyhiKTphfSkoKTt2YXIga2I9bnVsbCxsYj1udWxsLG1iPW51bGw7ZnVuY3Rpb24gbmIoYSxiKXtpZighZWEoYSkpdGhyb3cgRXJyb3IoXCJlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXJcIik7b2IoKTtmb3IodmFyIGM9Yj9sYjprYixkPVtdLGU9MDtlPGEubGVuZ3RoO2UrPTMpe3ZhciBmPWFbZV0sZz1lKzE8YS5sZW5ndGgsaz1nP2FbZSsxXTowLG09ZSsyPGEubGVuZ3RoLGw9bT9hW2UrMl06MCx0PWY+PjIsZj0oZiYzKTw8NHxrPj40LGs9KGsmMTUpPDwyfGw+PjYsbD1sJjYzO218fChsPTY0LGd8fChrPTY0KSk7ZC5wdXNoKGNbdF0sY1tmXSxjW2tdLGNbbF0pfXJldHVybiBkLmpvaW4oXCJcIil9XG5mdW5jdGlvbiBvYigpe2lmKCFrYil7a2I9e307bGI9e307bWI9e307Zm9yKHZhciBhPTA7NjU+YTthKyspa2JbYV09XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdChhKSxsYlthXT1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5LV8uXCIuY2hhckF0KGEpLG1iW2xiW2FdXT1hLDYyPD1hJiYobWJbXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiLmNoYXJBdChhKV09YSl9fTtmdW5jdGlvbiBwYihhLGIpe3RoaXMuTj1xYjt0aGlzLlJmPXZvaWQgMDt0aGlzLkJhPXRoaXMuSGE9bnVsbDt0aGlzLnlkPXRoaXMueWU9ITE7aWYoYT09cmIpc2IodGhpcyx0YixiKTtlbHNlIHRyeXt2YXIgYz10aGlzO2EuY2FsbChiLGZ1bmN0aW9uKGEpe3NiKGMsdGIsYSl9LGZ1bmN0aW9uKGEpe2lmKCEoYSBpbnN0YW5jZW9mIHViKSl0cnl7aWYoYSBpbnN0YW5jZW9mIEVycm9yKXRocm93IGE7dGhyb3cgRXJyb3IoXCJQcm9taXNlIHJlamVjdGVkLlwiKTt9Y2F0Y2goYil7fXNiKGMsdmIsYSl9KX1jYXRjaChkKXtzYih0aGlzLHZiLGQpfX12YXIgcWI9MCx0Yj0yLHZiPTM7ZnVuY3Rpb24gcmIoKXt9cGIucHJvdG90eXBlLnRoZW49ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB3Yih0aGlzLHIoYSk/YTpudWxsLHIoYik/YjpudWxsLGMpfTtwYi5wcm90b3R5cGUudGhlbj1wYi5wcm90b3R5cGUudGhlbjtwYi5wcm90b3R5cGUuJGdvb2dfVGhlbmFibGU9ITA7aD1wYi5wcm90b3R5cGU7XG5oLmZoPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHdiKHRoaXMsbnVsbCxhLGIpfTtoLmNhbmNlbD1mdW5jdGlvbihhKXt0aGlzLk49PXFiJiYkYShmdW5jdGlvbigpe3ZhciBiPW5ldyB1YihhKTt4Yih0aGlzLGIpfSx0aGlzKX07ZnVuY3Rpb24geGIoYSxiKXtpZihhLk49PXFiKWlmKGEuSGEpe3ZhciBjPWEuSGE7aWYoYy5CYSl7Zm9yKHZhciBkPTAsZT0tMSxmPTAsZztnPWMuQmFbZl07ZisrKWlmKGc9Zy5vKWlmKGQrKyxnPT1hJiYoZT1mKSwwPD1lJiYxPGQpYnJlYWs7MDw9ZSYmKGMuTj09cWImJjE9PWQ/eGIoYyxiKTooZD1jLkJhLnNwbGljZShlLDEpWzBdLHliKGMsZCx2YixiKSkpfWEuSGE9bnVsbH1lbHNlIHNiKGEsdmIsYil9ZnVuY3Rpb24gemIoYSxiKXthLkJhJiZhLkJhLmxlbmd0aHx8YS5OIT10YiYmYS5OIT12Ynx8QWIoYSk7YS5CYXx8KGEuQmE9W10pO2EuQmEucHVzaChiKX1cbmZ1bmN0aW9uIHdiKGEsYixjLGQpe3ZhciBlPXtvOm51bGwsSGY6bnVsbCxKZjpudWxsfTtlLm89bmV3IHBiKGZ1bmN0aW9uKGEsZyl7ZS5IZj1iP2Z1bmN0aW9uKGMpe3RyeXt2YXIgZT1iLmNhbGwoZCxjKTthKGUpfWNhdGNoKGwpe2cobCl9fTphO2UuSmY9Yz9mdW5jdGlvbihiKXt0cnl7dmFyIGU9Yy5jYWxsKGQsYik7IXAoZSkmJmIgaW5zdGFuY2VvZiB1Yj9nKGIpOmEoZSl9Y2F0Y2gobCl7ZyhsKX19Omd9KTtlLm8uSGE9YTt6YihhLGUpO3JldHVybiBlLm99aC5ZZj1mdW5jdGlvbihhKXt0aGlzLk49cWI7c2IodGhpcyx0YixhKX07aC5aZj1mdW5jdGlvbihhKXt0aGlzLk49cWI7c2IodGhpcyx2YixhKX07XG5mdW5jdGlvbiBzYihhLGIsYyl7aWYoYS5OPT1xYil7aWYoYT09YyliPXZiLGM9bmV3IFR5cGVFcnJvcihcIlByb21pc2UgY2Fubm90IHJlc29sdmUgdG8gaXRzZWxmXCIpO2Vsc2V7dmFyIGQ7aWYoYyl0cnl7ZD0hIWMuJGdvb2dfVGhlbmFibGV9Y2F0Y2goZSl7ZD0hMX1lbHNlIGQ9ITE7aWYoZCl7YS5OPTE7Yy50aGVuKGEuWWYsYS5aZixhKTtyZXR1cm59aWYoZ2EoYykpdHJ5e3ZhciBmPWMudGhlbjtpZihyKGYpKXtCYihhLGMsZik7cmV0dXJufX1jYXRjaChnKXtiPXZiLGM9Z319YS5SZj1jO2EuTj1iO2EuSGE9bnVsbDtBYihhKTtiIT12Ynx8YyBpbnN0YW5jZW9mIHVifHxDYihhLGMpfX1mdW5jdGlvbiBCYihhLGIsYyl7ZnVuY3Rpb24gZChiKXtmfHwoZj0hMCxhLlpmKGIpKX1mdW5jdGlvbiBlKGIpe2Z8fChmPSEwLGEuWWYoYikpfWEuTj0xO3ZhciBmPSExO3RyeXtjLmNhbGwoYixlLGQpfWNhdGNoKGcpe2QoZyl9fVxuZnVuY3Rpb24gQWIoYSl7YS55ZXx8KGEueWU9ITAsJGEoYS53ZyxhKSl9aC53Zz1mdW5jdGlvbigpe2Zvcig7dGhpcy5CYSYmdGhpcy5CYS5sZW5ndGg7KXt2YXIgYT10aGlzLkJhO3RoaXMuQmE9bnVsbDtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl5Yih0aGlzLGFbYl0sdGhpcy5OLHRoaXMuUmYpfXRoaXMueWU9ITF9O2Z1bmN0aW9uIHliKGEsYixjLGQpe2lmKGM9PXRiKWIuSGYoZCk7ZWxzZXtpZihiLm8pZm9yKDthJiZhLnlkO2E9YS5IYSlhLnlkPSExO2IuSmYoZCl9fWZ1bmN0aW9uIENiKGEsYil7YS55ZD0hMDskYShmdW5jdGlvbigpe2EueWQmJkRiLmNhbGwobnVsbCxiKX0pfXZhciBEYj1YYTtmdW5jdGlvbiB1YihhKXtsYS5jYWxsKHRoaXMsYSl9a2EodWIsbGEpO3ViLnByb3RvdHlwZS5uYW1lPVwiY2FuY2VsXCI7dmFyIEViPUVifHxcIjIuNC4xXCI7ZnVuY3Rpb24geShhLGIpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxiKX1mdW5jdGlvbiB6KGEsYil7aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGEsYikpcmV0dXJuIGFbYl19ZnVuY3Rpb24gRmIoYSxiKXtmb3IodmFyIGMgaW4gYSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYSxjKSYmYihjLGFbY10pfWZ1bmN0aW9uIEdiKGEpe3ZhciBiPXt9O0ZiKGEsZnVuY3Rpb24oYSxkKXtiW2FdPWR9KTtyZXR1cm4gYn1mdW5jdGlvbiBIYihhKXtyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hfTtmdW5jdGlvbiBJYihhKXt2YXIgYj1bXTtGYihhLGZ1bmN0aW9uKGEsZCl7ZGEoZCk/TWEoZCxmdW5jdGlvbihkKXtiLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChkKSl9KTpiLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGEpK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChkKSl9KTtyZXR1cm4gYi5sZW5ndGg/XCImXCIrYi5qb2luKFwiJlwiKTpcIlwifWZ1bmN0aW9uIEpiKGEpe3ZhciBiPXt9O2E9YS5yZXBsYWNlKC9eXFw/LyxcIlwiKS5zcGxpdChcIiZcIik7TWEoYSxmdW5jdGlvbihhKXthJiYoYT1hLnNwbGl0KFwiPVwiKSxiW2FbMF1dPWFbMV0pfSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIEtiKGEsYil7aWYoIWEpdGhyb3cgTGIoYik7fWZ1bmN0aW9uIExiKGEpe3JldHVybiBFcnJvcihcIkZpcmViYXNlIChcIitFYitcIikgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogXCIrYSl9O3ZhciBNYj1uLlByb21pc2V8fHBiO3BiLnByb3RvdHlwZVtcImNhdGNoXCJdPXBiLnByb3RvdHlwZS5maDtmdW5jdGlvbiBCKCl7dmFyIGE9dGhpczt0aGlzLnJlamVjdD10aGlzLnJlc29sdmU9bnVsbDt0aGlzLkQ9bmV3IE1iKGZ1bmN0aW9uKGIsYyl7YS5yZXNvbHZlPWI7YS5yZWplY3Q9Y30pfWZ1bmN0aW9uIEMoYSxiKXtyZXR1cm4gZnVuY3Rpb24oYyxkKXtjP2EucmVqZWN0KGMpOmEucmVzb2x2ZShkKTtyKGIpJiYoTmIoYS5EKSwxPT09Yi5sZW5ndGg/YihjKTpiKGMsZCkpfX1mdW5jdGlvbiBOYihhKXthLnRoZW4odm9pZCAwLGFhKX07ZnVuY3Rpb24gT2IoYSl7Zm9yKHZhciBiPVtdLGM9MCxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBlPWEuY2hhckNvZGVBdChkKTs1NTI5Njw9ZSYmNTYzMTk+PWUmJihlLT01NTI5NixkKyssS2IoZDxhLmxlbmd0aCxcIlN1cnJvZ2F0ZSBwYWlyIG1pc3NpbmcgdHJhaWwgc3Vycm9nYXRlLlwiKSxlPTY1NTM2KyhlPDwxMCkrKGEuY2hhckNvZGVBdChkKS01NjMyMCkpOzEyOD5lP2JbYysrXT1lOigyMDQ4PmU/YltjKytdPWU+PjZ8MTkyOig2NTUzNj5lP2JbYysrXT1lPj4xMnwyMjQ6KGJbYysrXT1lPj4xOHwyNDAsYltjKytdPWU+PjEyJjYzfDEyOCksYltjKytdPWU+PjYmNjN8MTI4KSxiW2MrK109ZSY2M3wxMjgpfXJldHVybiBifWZ1bmN0aW9uIFBiKGEpe2Zvcih2YXIgYj0wLGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YS5jaGFyQ29kZUF0KGMpOzEyOD5kP2IrKzoyMDQ4PmQ/Yis9Mjo1NTI5Njw9ZCYmNTYzMTk+PWQ/KGIrPTQsYysrKTpiKz0zfXJldHVybiBifTtmdW5jdGlvbiBEKGEsYixjLGQpe3ZhciBlO2Q8Yj9lPVwiYXQgbGVhc3QgXCIrYjpkPmMmJihlPTA9PT1jP1wibm9uZVwiOlwibm8gbW9yZSB0aGFuIFwiK2MpO2lmKGUpdGhyb3cgRXJyb3IoYStcIiBmYWlsZWQ6IFdhcyBjYWxsZWQgd2l0aCBcIitkKygxPT09ZD9cIiBhcmd1bWVudC5cIjpcIiBhcmd1bWVudHMuXCIpK1wiIEV4cGVjdHMgXCIrZStcIi5cIik7fWZ1bmN0aW9uIEUoYSxiLGMpe3ZhciBkPVwiXCI7c3dpdGNoKGIpe2Nhc2UgMTpkPWM/XCJmaXJzdFwiOlwiRmlyc3RcIjticmVhaztjYXNlIDI6ZD1jP1wic2Vjb25kXCI6XCJTZWNvbmRcIjticmVhaztjYXNlIDM6ZD1jP1widGhpcmRcIjpcIlRoaXJkXCI7YnJlYWs7Y2FzZSA0OmQ9Yz9cImZvdXJ0aFwiOlwiRm91cnRoXCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBFcnJvcihcImVycm9yUHJlZml4IGNhbGxlZCB3aXRoIGFyZ3VtZW50TnVtYmVyID4gNC4gIE5lZWQgdG8gdXBkYXRlIGl0P1wiKTt9cmV0dXJuIGE9YStcIiBmYWlsZWQ6IFwiKyhkK1wiIGFyZ3VtZW50IFwiKX1cbmZ1bmN0aW9uIEYoYSxiLGMsZCl7aWYoKCFkfHxwKGMpKSYmIXIoYykpdGhyb3cgRXJyb3IoRShhLGIsZCkrXCJtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uXCIpO31mdW5jdGlvbiBRYihhLGIsYyl7aWYocChjKSYmKCFnYShjKXx8bnVsbD09PWMpKXRocm93IEVycm9yKEUoYSxiLCEwKStcIm11c3QgYmUgYSB2YWxpZCBjb250ZXh0IG9iamVjdC5cIik7fTtmdW5jdGlvbiBSYihhKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIEpTT04mJnAoSlNPTi5wYXJzZSk/SlNPTi5wYXJzZShhKTp6YShhKX1mdW5jdGlvbiBHKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgSlNPTiYmcChKU09OLnN0cmluZ2lmeSkpYT1KU09OLnN0cmluZ2lmeShhKTtlbHNle3ZhciBiPVtdO0JhKG5ldyBBYSxhLGIpO2E9Yi5qb2luKFwiXCIpfXJldHVybiBhfTtmdW5jdGlvbiBTYigpe3RoaXMuWmQ9SH1TYi5wcm90b3R5cGUuaj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5aZC5TKGEpfTtTYi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5aZC50b1N0cmluZygpfTtmdW5jdGlvbiBUYigpe31UYi5wcm90b3R5cGUudWY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07VGIucHJvdG90eXBlLkNlPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9O3ZhciBVYj1uZXcgVGI7ZnVuY3Rpb24gVmIoYSxiLGMpe3RoaXMuYmc9YTt0aGlzLk9hPWI7dGhpcy5OZD1jfVZiLnByb3RvdHlwZS51Zj1mdW5jdGlvbihhKXt2YXIgYj10aGlzLk9hLlE7aWYoV2IoYixhKSlyZXR1cm4gYi5qKCkuVChhKTtiPW51bGwhPXRoaXMuTmQ/bmV3IFhiKHRoaXMuTmQsITAsITEpOnRoaXMuT2EudygpO3JldHVybiB0aGlzLmJnLkJjKGEsYil9O1ZiLnByb3RvdHlwZS5DZT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9bnVsbCE9dGhpcy5OZD90aGlzLk5kOlliKHRoaXMuT2EpO2E9dGhpcy5iZy5xZShkLGIsMSxjLGEpO3JldHVybiAwPT09YS5sZW5ndGg/bnVsbDphWzBdfTtmdW5jdGlvbiBaYigpe3RoaXMueGI9W119ZnVuY3Rpb24gJGIoYSxiKXtmb3IodmFyIGM9bnVsbCxkPTA7ZDxiLmxlbmd0aDtkKyspe3ZhciBlPWJbZF0sZj1lLmNjKCk7bnVsbD09PWN8fGYuZWEoYy5jYygpKXx8KGEueGIucHVzaChjKSxjPW51bGwpO251bGw9PT1jJiYoYz1uZXcgYWMoZikpO2MuYWRkKGUpfWMmJmEueGIucHVzaChjKX1mdW5jdGlvbiBiYyhhLGIsYyl7JGIoYSxjKTtjYyhhLGZ1bmN0aW9uKGEpe3JldHVybiBhLmVhKGIpfSl9ZnVuY3Rpb24gZGMoYSxiLGMpeyRiKGEsYyk7Y2MoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5jb250YWlucyhiKXx8Yi5jb250YWlucyhhKX0pfVxuZnVuY3Rpb24gY2MoYSxiKXtmb3IodmFyIGM9ITAsZD0wO2Q8YS54Yi5sZW5ndGg7ZCsrKXt2YXIgZT1hLnhiW2RdO2lmKGUpaWYoZT1lLmNjKCksYihlKSl7Zm9yKHZhciBlPWEueGJbZF0sZj0wO2Y8ZS54ZC5sZW5ndGg7ZisrKXt2YXIgZz1lLnhkW2ZdO2lmKG51bGwhPT1nKXtlLnhkW2ZdPW51bGw7dmFyIGs9Zy5aYigpO2VjJiZmYyhcImV2ZW50OiBcIitnLnRvU3RyaW5nKCkpO2djKGspfX1hLnhiW2RdPW51bGx9ZWxzZSBjPSExfWMmJihhLnhiPVtdKX1mdW5jdGlvbiBhYyhhKXt0aGlzLnRhPWE7dGhpcy54ZD1bXX1hYy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEpe3RoaXMueGQucHVzaChhKX07YWMucHJvdG90eXBlLmNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudGF9O2Z1bmN0aW9uIEooYSxiLGMsZCl7dGhpcy50eXBlPWE7dGhpcy5OYT1iO3RoaXMuWmE9Yzt0aGlzLk9lPWQ7dGhpcy5UZD12b2lkIDB9ZnVuY3Rpb24gaGMoYSl7cmV0dXJuIG5ldyBKKGljLGEpfXZhciBpYz1cInZhbHVlXCI7ZnVuY3Rpb24gamMoYSxiLGMsZCl7dGhpcy54ZT1iO3RoaXMuYmU9Yzt0aGlzLlRkPWQ7dGhpcy53ZD1hfWpjLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYmUuTWIoKTtyZXR1cm5cInZhbHVlXCI9PT10aGlzLndkP2EucGF0aDphLnBhcmVudCgpLnBhdGh9O2pjLnByb3RvdHlwZS5EZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLndkfTtqYy5wcm90b3R5cGUuWmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54ZS5aYih0aGlzKX07amMucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2MoKS50b1N0cmluZygpK1wiOlwiK3RoaXMud2QrXCI6XCIrRyh0aGlzLmJlLnFmKCkpfTtmdW5jdGlvbiBrYyhhLGIsYyl7dGhpcy54ZT1hO3RoaXMuZXJyb3I9Yjt0aGlzLnBhdGg9Y31rYy5wcm90b3R5cGUuY2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRofTtrYy5wcm90b3R5cGUuRGU9ZnVuY3Rpb24oKXtyZXR1cm5cImNhbmNlbFwifTtcbmtjLnByb3RvdHlwZS5aYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhlLlpiKHRoaXMpfTtrYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCkrXCI6Y2FuY2VsXCJ9O2Z1bmN0aW9uIFhiKGEsYixjKXt0aGlzLkE9YTt0aGlzLmdhPWI7dGhpcy5ZYj1jfWZ1bmN0aW9uIGxjKGEpe3JldHVybiBhLmdhfWZ1bmN0aW9uIG1jKGEpe3JldHVybiBhLllifWZ1bmN0aW9uIG5jKGEsYil7cmV0dXJuIGIuZSgpP2EuZ2EmJiFhLlliOldiKGEsSyhiKSl9ZnVuY3Rpb24gV2IoYSxiKXtyZXR1cm4gYS5nYSYmIWEuWWJ8fGEuQS5GYShiKX1YYi5wcm90b3R5cGUuaj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkF9O2Z1bmN0aW9uIG9jKGEpe3RoaXMucGc9YTt0aGlzLkdkPW51bGx9b2MucHJvdG90eXBlLmdldD1mdW5jdGlvbigpe3ZhciBhPXRoaXMucGcuZ2V0KCksYj13YShhKTtpZih0aGlzLkdkKWZvcih2YXIgYyBpbiB0aGlzLkdkKWJbY10tPXRoaXMuR2RbY107dGhpcy5HZD1hO3JldHVybiBifTtmdW5jdGlvbiBwYyhhLGIpe3RoaXMuVmY9e307dGhpcy5oZD1uZXcgb2MoYSk7dGhpcy5kYT1iO3ZhciBjPTFFNCsyRTQqTWF0aC5yYW5kb20oKTtzZXRUaW1lb3V0KHUodGhpcy5PZix0aGlzKSxNYXRoLmZsb29yKGMpKX1wYy5wcm90b3R5cGUuT2Y9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmhkLmdldCgpLGI9e30sYz0hMSxkO2ZvcihkIGluIGEpMDxhW2RdJiZ5KHRoaXMuVmYsZCkmJihiW2RdPWFbZF0sYz0hMCk7YyYmdGhpcy5kYS5ZZShiKTtzZXRUaW1lb3V0KHUodGhpcy5PZix0aGlzKSxNYXRoLmZsb29yKDZFNSpNYXRoLnJhbmRvbSgpKSl9O2Z1bmN0aW9uIHFjKCl7dGhpcy5IYz17fX1mdW5jdGlvbiByYyhhLGIsYyl7cChjKXx8KGM9MSk7eShhLkhjLGIpfHwoYS5IY1tiXT0wKTthLkhjW2JdKz1jfXFjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gd2EodGhpcy5IYyl9O3ZhciBzYz17fSx0Yz17fTtmdW5jdGlvbiB1YyhhKXthPWEudG9TdHJpbmcoKTtzY1thXXx8KHNjW2FdPW5ldyBxYyk7cmV0dXJuIHNjW2FdfWZ1bmN0aW9uIHZjKGEsYil7dmFyIGM9YS50b1N0cmluZygpO3RjW2NdfHwodGNbY109YigpKTtyZXR1cm4gdGNbY119O2Z1bmN0aW9uIEwoYSxiKXt0aGlzLm5hbWU9YTt0aGlzLlU9Yn1mdW5jdGlvbiB3YyhhLGIpe3JldHVybiBuZXcgTChhLGIpfTtmdW5jdGlvbiB4YyhhLGIpe3JldHVybiB5YyhhLm5hbWUsYi5uYW1lKX1mdW5jdGlvbiB6YyhhLGIpe3JldHVybiB5YyhhLGIpfTtmdW5jdGlvbiBBYyhhLGIsYyl7dGhpcy50eXBlPUJjO3RoaXMuc291cmNlPWE7dGhpcy5wYXRoPWI7dGhpcy5KYT1jfUFjLnByb3RvdHlwZS4kYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wYXRoLmUoKT9uZXcgQWModGhpcy5zb3VyY2UsTSx0aGlzLkphLlQoYSkpOm5ldyBBYyh0aGlzLnNvdXJjZSxOKHRoaXMucGF0aCksdGhpcy5KYSl9O0FjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiT3BlcmF0aW9uKFwiK3RoaXMucGF0aCtcIjogXCIrdGhpcy5zb3VyY2UudG9TdHJpbmcoKStcIiBvdmVyd3JpdGU6IFwiK3RoaXMuSmEudG9TdHJpbmcoKStcIilcIn07ZnVuY3Rpb24gQ2MoYSxiKXt0aGlzLnR5cGU9RGM7dGhpcy5zb3VyY2U9YTt0aGlzLnBhdGg9Yn1DYy5wcm90b3R5cGUuJGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXRoLmUoKT9uZXcgQ2ModGhpcy5zb3VyY2UsTSk6bmV3IENjKHRoaXMuc291cmNlLE4odGhpcy5wYXRoKSl9O0NjLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiT3BlcmF0aW9uKFwiK3RoaXMucGF0aCtcIjogXCIrdGhpcy5zb3VyY2UudG9TdHJpbmcoKStcIiBsaXN0ZW5fY29tcGxldGUpXCJ9O2Z1bmN0aW9uIEVjKGEsYil7dGhpcy5QYT1hO3RoaXMueGE9Yj9iOkZjfWg9RWMucHJvdG90eXBlO2guU2E9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IEVjKHRoaXMuUGEsdGhpcy54YS5TYShhLGIsdGhpcy5QYSkuJChudWxsLG51bGwsITEsbnVsbCxudWxsKSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgRWModGhpcy5QYSx0aGlzLnhhLnJlbW92ZShhLHRoaXMuUGEpLiQobnVsbCxudWxsLCExLG51bGwsbnVsbCkpfTtoLmdldD1mdW5jdGlvbihhKXtmb3IodmFyIGIsYz10aGlzLnhhOyFjLmUoKTspe2I9dGhpcy5QYShhLGMua2V5KTtpZigwPT09YilyZXR1cm4gYy52YWx1ZTswPmI/Yz1jLmxlZnQ6MDxiJiYoYz1jLnJpZ2h0KX1yZXR1cm4gbnVsbH07XG5mdW5jdGlvbiBHYyhhLGIpe2Zvcih2YXIgYyxkPWEueGEsZT1udWxsOyFkLmUoKTspe2M9YS5QYShiLGQua2V5KTtpZigwPT09Yyl7aWYoZC5sZWZ0LmUoKSlyZXR1cm4gZT9lLmtleTpudWxsO2ZvcihkPWQubGVmdDshZC5yaWdodC5lKCk7KWQ9ZC5yaWdodDtyZXR1cm4gZC5rZXl9MD5jP2Q9ZC5sZWZ0OjA8YyYmKGU9ZCxkPWQucmlnaHQpfXRocm93IEVycm9yKFwiQXR0ZW1wdGVkIHRvIGZpbmQgcHJlZGVjZXNzb3Iga2V5IGZvciBhIG5vbmV4aXN0ZW50IGtleS4gIFdoYXQgZ2l2ZXM/XCIpO31oLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YS5lKCl9O2guY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy54YS5jb3VudCgpfTtoLlZjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMueGEuVmMoKX07aC5qYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnhhLmpjKCl9O2gua2E9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMueGEua2EoYSl9O1xuaC5hYz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IEhjKHRoaXMueGEsbnVsbCx0aGlzLlBhLCExLGEpfTtoLmJjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBIYyh0aGlzLnhhLGEsdGhpcy5QYSwhMSxiKX07aC5kYz1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgSGModGhpcy54YSxhLHRoaXMuUGEsITAsYil9O2gueGY9ZnVuY3Rpb24oYSl7cmV0dXJuIG5ldyBIYyh0aGlzLnhhLG51bGwsdGhpcy5QYSwhMCxhKX07ZnVuY3Rpb24gSGMoYSxiLGMsZCxlKXt0aGlzLlhkPWV8fG51bGw7dGhpcy5KZT1kO3RoaXMuVGE9W107Zm9yKGU9MTshYS5lKCk7KWlmKGU9Yj9jKGEua2V5LGIpOjEsZCYmKGUqPS0xKSwwPmUpYT10aGlzLkplP2EubGVmdDphLnJpZ2h0O2Vsc2UgaWYoMD09PWUpe3RoaXMuVGEucHVzaChhKTticmVha31lbHNlIHRoaXMuVGEucHVzaChhKSxhPXRoaXMuSmU/YS5yaWdodDphLmxlZnR9XG5mdW5jdGlvbiBJYyhhKXtpZigwPT09YS5UYS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGI9YS5UYS5wb3AoKSxjO2M9YS5YZD9hLlhkKGIua2V5LGIudmFsdWUpOntrZXk6Yi5rZXksdmFsdWU6Yi52YWx1ZX07aWYoYS5KZSlmb3IoYj1iLmxlZnQ7IWIuZSgpOylhLlRhLnB1c2goYiksYj1iLnJpZ2h0O2Vsc2UgZm9yKGI9Yi5yaWdodDshYi5lKCk7KWEuVGEucHVzaChiKSxiPWIubGVmdDtyZXR1cm4gY31mdW5jdGlvbiBKYyhhKXtpZigwPT09YS5UYS5sZW5ndGgpcmV0dXJuIG51bGw7dmFyIGI7Yj1hLlRhO2I9YltiLmxlbmd0aC0xXTtyZXR1cm4gYS5YZD9hLlhkKGIua2V5LGIudmFsdWUpOntrZXk6Yi5rZXksdmFsdWU6Yi52YWx1ZX19ZnVuY3Rpb24gS2MoYSxiLGMsZCxlKXt0aGlzLmtleT1hO3RoaXMudmFsdWU9Yjt0aGlzLmNvbG9yPW51bGwhPWM/YzohMDt0aGlzLmxlZnQ9bnVsbCE9ZD9kOkZjO3RoaXMucmlnaHQ9bnVsbCE9ZT9lOkZjfWg9S2MucHJvdG90eXBlO1xuaC4kPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG5ldyBLYyhudWxsIT1hP2E6dGhpcy5rZXksbnVsbCE9Yj9iOnRoaXMudmFsdWUsbnVsbCE9Yz9jOnRoaXMuY29sb3IsbnVsbCE9ZD9kOnRoaXMubGVmdCxudWxsIT1lP2U6dGhpcy5yaWdodCl9O2guY291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZWZ0LmNvdW50KCkrMSt0aGlzLnJpZ2h0LmNvdW50KCl9O2guZT1mdW5jdGlvbigpe3JldHVybiExfTtoLmthPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmxlZnQua2EoYSl8fGEodGhpcy5rZXksdGhpcy52YWx1ZSl8fHRoaXMucmlnaHQua2EoYSl9O2Z1bmN0aW9uIExjKGEpe3JldHVybiBhLmxlZnQuZSgpP2E6TGMoYS5sZWZ0KX1oLlZjPWZ1bmN0aW9uKCl7cmV0dXJuIExjKHRoaXMpLmtleX07aC5qYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnJpZ2h0LmUoKT90aGlzLmtleTp0aGlzLnJpZ2h0LmpjKCl9O1xuaC5TYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZTtlPXRoaXM7ZD1jKGEsZS5rZXkpO2U9MD5kP2UuJChudWxsLG51bGwsbnVsbCxlLmxlZnQuU2EoYSxiLGMpLG51bGwpOjA9PT1kP2UuJChudWxsLGIsbnVsbCxudWxsLG51bGwpOmUuJChudWxsLG51bGwsbnVsbCxudWxsLGUucmlnaHQuU2EoYSxiLGMpKTtyZXR1cm4gTWMoZSl9O2Z1bmN0aW9uIE5jKGEpe2lmKGEubGVmdC5lKCkpcmV0dXJuIEZjO2EubGVmdC5oYSgpfHxhLmxlZnQubGVmdC5oYSgpfHwoYT1PYyhhKSk7YT1hLiQobnVsbCxudWxsLG51bGwsTmMoYS5sZWZ0KSxudWxsKTtyZXR1cm4gTWMoYSl9XG5oLnJlbW92ZT1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7Yz10aGlzO2lmKDA+YihhLGMua2V5KSljLmxlZnQuZSgpfHxjLmxlZnQuaGEoKXx8Yy5sZWZ0LmxlZnQuaGEoKXx8KGM9T2MoYykpLGM9Yy4kKG51bGwsbnVsbCxudWxsLGMubGVmdC5yZW1vdmUoYSxiKSxudWxsKTtlbHNle2MubGVmdC5oYSgpJiYoYz1QYyhjKSk7Yy5yaWdodC5lKCl8fGMucmlnaHQuaGEoKXx8Yy5yaWdodC5sZWZ0LmhhKCl8fChjPVFjKGMpLGMubGVmdC5sZWZ0LmhhKCkmJihjPVBjKGMpLGM9UWMoYykpKTtpZigwPT09YihhLGMua2V5KSl7aWYoYy5yaWdodC5lKCkpcmV0dXJuIEZjO2Q9TGMoYy5yaWdodCk7Yz1jLiQoZC5rZXksZC52YWx1ZSxudWxsLG51bGwsTmMoYy5yaWdodCkpfWM9Yy4kKG51bGwsbnVsbCxudWxsLG51bGwsYy5yaWdodC5yZW1vdmUoYSxiKSl9cmV0dXJuIE1jKGMpfTtoLmhhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29sb3J9O1xuZnVuY3Rpb24gTWMoYSl7YS5yaWdodC5oYSgpJiYhYS5sZWZ0LmhhKCkmJihhPVJjKGEpKTthLmxlZnQuaGEoKSYmYS5sZWZ0LmxlZnQuaGEoKSYmKGE9UGMoYSkpO2EubGVmdC5oYSgpJiZhLnJpZ2h0LmhhKCkmJihhPVFjKGEpKTtyZXR1cm4gYX1mdW5jdGlvbiBPYyhhKXthPVFjKGEpO2EucmlnaHQubGVmdC5oYSgpJiYoYT1hLiQobnVsbCxudWxsLG51bGwsbnVsbCxQYyhhLnJpZ2h0KSksYT1SYyhhKSxhPVFjKGEpKTtyZXR1cm4gYX1mdW5jdGlvbiBSYyhhKXtyZXR1cm4gYS5yaWdodC4kKG51bGwsbnVsbCxhLmNvbG9yLGEuJChudWxsLG51bGwsITAsbnVsbCxhLnJpZ2h0LmxlZnQpLG51bGwpfWZ1bmN0aW9uIFBjKGEpe3JldHVybiBhLmxlZnQuJChudWxsLG51bGwsYS5jb2xvcixudWxsLGEuJChudWxsLG51bGwsITAsYS5sZWZ0LnJpZ2h0LG51bGwpKX1cbmZ1bmN0aW9uIFFjKGEpe3JldHVybiBhLiQobnVsbCxudWxsLCFhLmNvbG9yLGEubGVmdC4kKG51bGwsbnVsbCwhYS5sZWZ0LmNvbG9yLG51bGwsbnVsbCksYS5yaWdodC4kKG51bGwsbnVsbCwhYS5yaWdodC5jb2xvcixudWxsLG51bGwpKX1mdW5jdGlvbiBTYygpe31oPVNjLnByb3RvdHlwZTtoLiQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307aC5TYT1mdW5jdGlvbihhLGIpe3JldHVybiBuZXcgS2MoYSxiLG51bGwpfTtoLnJlbW92ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzfTtoLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIDB9O2guZT1mdW5jdGlvbigpe3JldHVybiEwfTtoLmthPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guVmM9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07aC5qYz1mdW5jdGlvbigpe3JldHVybiBudWxsfTtoLmhhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O3ZhciBGYz1uZXcgU2M7ZnVuY3Rpb24gVGMoYSxiKXtyZXR1cm4gYSYmXCJvYmplY3RcIj09PXR5cGVvZiBhPyhPKFwiLnN2XCJpbiBhLFwiVW5leHBlY3RlZCBsZWFmIG5vZGUgb3IgcHJpb3JpdHkgY29udGVudHNcIiksYlthW1wiLnN2XCJdXSk6YX1mdW5jdGlvbiBVYyhhLGIpe3ZhciBjPW5ldyBWYztXYyhhLG5ldyBQKFwiXCIpLGZ1bmN0aW9uKGEsZSl7Yy5yYyhhLFhjKGUsYikpfSk7cmV0dXJuIGN9ZnVuY3Rpb24gWGMoYSxiKXt2YXIgYz1hLkMoKS5KKCksYz1UYyhjLGIpLGQ7aWYoYS5MKCkpe3ZhciBlPVRjKGEuRWEoKSxiKTtyZXR1cm4gZSE9PWEuRWEoKXx8YyE9PWEuQygpLkooKT9uZXcgWWMoZSxRKGMpKTphfWQ9YTtjIT09YS5DKCkuSigpJiYoZD1kLmlhKG5ldyBZYyhjKSkpO2EuUihSLGZ1bmN0aW9uKGEsYyl7dmFyIGU9WGMoYyxiKTtlIT09YyYmKGQ9ZC5XKGEsZSkpfSk7cmV0dXJuIGR9O2Z1bmN0aW9uIFpjKCl7dGhpcy5BYz17fX1aYy5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7bnVsbD09Yj9kZWxldGUgdGhpcy5BY1thXTp0aGlzLkFjW2FdPWJ9O1pjLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHkodGhpcy5BYyxhKT90aGlzLkFjW2FdOm51bGx9O1pjLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7ZGVsZXRlIHRoaXMuQWNbYV19O1pjLnByb3RvdHlwZS5BZj0hMDtmdW5jdGlvbiAkYyhhKXt0aGlzLkljPWE7dGhpcy5TZD1cImZpcmViYXNlOlwifWg9JGMucHJvdG90eXBlO2guc2V0PWZ1bmN0aW9uKGEsYil7bnVsbD09Yj90aGlzLkljLnJlbW92ZUl0ZW0odGhpcy5TZCthKTp0aGlzLkljLnNldEl0ZW0odGhpcy5TZCthLEcoYikpfTtoLmdldD1mdW5jdGlvbihhKXthPXRoaXMuSWMuZ2V0SXRlbSh0aGlzLlNkK2EpO3JldHVybiBudWxsPT1hP251bGw6UmIoYSl9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe3RoaXMuSWMucmVtb3ZlSXRlbSh0aGlzLlNkK2EpfTtoLkFmPSExO2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5JYy50b1N0cmluZygpfTtmdW5jdGlvbiBhZChhKXt0cnl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93W2FdKXt2YXIgYj13aW5kb3dbYV07Yi5zZXRJdGVtKFwiZmlyZWJhc2U6c2VudGluZWxcIixcImNhY2hlXCIpO2IucmVtb3ZlSXRlbShcImZpcmViYXNlOnNlbnRpbmVsXCIpO3JldHVybiBuZXcgJGMoYil9fWNhdGNoKGMpe31yZXR1cm4gbmV3IFpjfXZhciBiZD1hZChcImxvY2FsU3RvcmFnZVwiKSxjZD1hZChcInNlc3Npb25TdG9yYWdlXCIpO2Z1bmN0aW9uIGRkKGEsYixjLGQsZSl7dGhpcy5ob3N0PWEudG9Mb3dlckNhc2UoKTt0aGlzLmRvbWFpbj10aGlzLmhvc3Quc3Vic3RyKHRoaXMuaG9zdC5pbmRleE9mKFwiLlwiKSsxKTt0aGlzLm9iPWI7dGhpcy5sYz1jO3RoaXMuaWg9ZDt0aGlzLlJkPWV8fFwiXCI7dGhpcy5hYj1iZC5nZXQoXCJob3N0OlwiK2EpfHx0aGlzLmhvc3R9ZnVuY3Rpb24gZWQoYSxiKXtiIT09YS5hYiYmKGEuYWI9YixcInMtXCI9PT1hLmFiLnN1YnN0cigwLDIpJiZiZC5zZXQoXCJob3N0OlwiK2EuaG9zdCxhLmFiKSl9XG5mdW5jdGlvbiBmZChhLGIsYyl7TyhcInN0cmluZ1wiPT09dHlwZW9mIGIsXCJ0eXBlb2YgdHlwZSBtdXN0ID09IHN0cmluZ1wiKTtPKFwib2JqZWN0XCI9PT10eXBlb2YgYyxcInR5cGVvZiBwYXJhbXMgbXVzdCA9PSBvYmplY3RcIik7aWYoYj09PWdkKWI9KGEub2I/XCJ3c3M6Ly9cIjpcIndzOi8vXCIpK2EuYWIrXCIvLndzP1wiO2Vsc2UgaWYoYj09PWhkKWI9KGEub2I/XCJodHRwczovL1wiOlwiaHR0cDovL1wiKSthLmFiK1wiLy5scD9cIjtlbHNlIHRocm93IEVycm9yKFwiVW5rbm93biBjb25uZWN0aW9uIHR5cGU6IFwiK2IpO2EuaG9zdCE9PWEuYWImJihjLm5zPWEubGMpO3ZhciBkPVtdO3YoYyxmdW5jdGlvbihhLGIpe2QucHVzaChiK1wiPVwiK2EpfSk7cmV0dXJuIGIrZC5qb2luKFwiJlwiKX1kZC5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT0odGhpcy5vYj9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3RoaXMuaG9zdDt0aGlzLlJkJiYoYSs9XCI8XCIrdGhpcy5SZCtcIj5cIik7cmV0dXJuIGF9O3ZhciBpZD1mdW5jdGlvbigpe3ZhciBhPTE7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGErK319KCksTz1LYixqZD1MYjtcbmZ1bmN0aW9uIGtkKGEpe3RyeXt2YXIgYjtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGF0b2IpYj1hdG9iKGEpO2Vsc2V7b2IoKTtmb3IodmFyIGM9bWIsZD1bXSxlPTA7ZTxhLmxlbmd0aDspe3ZhciBmPWNbYS5jaGFyQXQoZSsrKV0sZz1lPGEubGVuZ3RoP2NbYS5jaGFyQXQoZSldOjA7KytlO3ZhciBrPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO3ZhciBtPWU8YS5sZW5ndGg/Y1thLmNoYXJBdChlKV06NjQ7KytlO2lmKG51bGw9PWZ8fG51bGw9PWd8fG51bGw9PWt8fG51bGw9PW0pdGhyb3cgRXJyb3IoKTtkLnB1c2goZjw8MnxnPj40KTs2NCE9ayYmKGQucHVzaChnPDw0JjI0MHxrPj4yKSw2NCE9bSYmZC5wdXNoKGs8PDYmMTkyfG0pKX1pZig4MTkyPmQubGVuZ3RoKWI9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGQpO2Vsc2V7YT1cIlwiO2ZvcihjPTA7YzxkLmxlbmd0aDtjKz04MTkyKWErPVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxVYShkLGMsXG5jKzgxOTIpKTtiPWF9fXJldHVybiBifWNhdGNoKGwpe2ZjKFwiYmFzZTY0RGVjb2RlIGZhaWxlZDogXCIsbCl9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbGQoYSl7dmFyIGI9T2IoYSk7YT1uZXcgSmE7YS51cGRhdGUoYik7dmFyIGI9W10sYz04KmEuZ2U7NTY+YS5lYz9hLnVwZGF0ZShhLk9kLDU2LWEuZWMpOmEudXBkYXRlKGEuT2QsYS5ZYS0oYS5lYy01NikpO2Zvcih2YXIgZD1hLllhLTE7NTY8PWQ7ZC0tKWEucGVbZF09YyYyNTUsYy89MjU2O0thKGEsYS5wZSk7Zm9yKGQ9Yz0wOzU+ZDtkKyspZm9yKHZhciBlPTI0OzA8PWU7ZS09OCliW2NdPWEuUFtkXT4+ZSYyNTUsKytjO3JldHVybiBuYihiKX1cbmZ1bmN0aW9uIG1kKGEpe2Zvcih2YXIgYj1cIlwiLGM9MDtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKWI9ZWEoYXJndW1lbnRzW2NdKT9iK21kLmFwcGx5KG51bGwsYXJndW1lbnRzW2NdKTpcIm9iamVjdFwiPT09dHlwZW9mIGFyZ3VtZW50c1tjXT9iK0coYXJndW1lbnRzW2NdKTpiK2FyZ3VtZW50c1tjXSxiKz1cIiBcIjtyZXR1cm4gYn12YXIgZWM9bnVsbCxuZD0hMDtcbmZ1bmN0aW9uIG9kKGEsYil7S2IoIWJ8fCEwPT09YXx8ITE9PT1hLFwiQ2FuJ3QgdHVybiBvbiBjdXN0b20gbG9nZ2VycyBwZXJzaXN0ZW50bHkuXCIpOyEwPT09YT8oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlJiYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGNvbnNvbGUubG9nP2VjPXUoY29uc29sZS5sb2csY29uc29sZSk6XCJvYmplY3RcIj09PXR5cGVvZiBjb25zb2xlLmxvZyYmKGVjPWZ1bmN0aW9uKGEpe2NvbnNvbGUubG9nKGEpfSkpLGImJmNkLnNldChcImxvZ2dpbmdfZW5hYmxlZFwiLCEwKSk6cihhKT9lYz1hOihlYz1udWxsLGNkLnJlbW92ZShcImxvZ2dpbmdfZW5hYmxlZFwiKSl9ZnVuY3Rpb24gZmMoYSl7ITA9PT1uZCYmKG5kPSExLG51bGw9PT1lYyYmITA9PT1jZC5nZXQoXCJsb2dnaW5nX2VuYWJsZWRcIikmJm9kKCEwKSk7aWYoZWMpe3ZhciBiPW1kLmFwcGx5KG51bGwsYXJndW1lbnRzKTtlYyhiKX19XG5mdW5jdGlvbiBwZChhKXtyZXR1cm4gZnVuY3Rpb24oKXtmYyhhLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHFkKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSl7dmFyIGI9XCJGSVJFQkFTRSBJTlRFUk5BTCBFUlJPUjogXCIrbWQuYXBwbHkobnVsbCxhcmd1bWVudHMpO1widW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZS5lcnJvcj9jb25zb2xlLmVycm9yKGIpOmNvbnNvbGUubG9nKGIpfX1mdW5jdGlvbiByZChhKXt2YXIgYj1tZC5hcHBseShudWxsLGFyZ3VtZW50cyk7dGhyb3cgRXJyb3IoXCJGSVJFQkFTRSBGQVRBTCBFUlJPUjogXCIrYik7fWZ1bmN0aW9uIFMoYSl7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBjb25zb2xlKXt2YXIgYj1cIkZJUkVCQVNFIFdBUk5JTkc6IFwiK21kLmFwcGx5KG51bGwsYXJndW1lbnRzKTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUud2Fybj9jb25zb2xlLndhcm4oYik6Y29uc29sZS5sb2coYil9fVxuZnVuY3Rpb24gc2QoYSl7dmFyIGI9XCJcIixjPVwiXCIsZD1cIlwiLGU9XCJcIixmPSEwLGc9XCJodHRwc1wiLGs9NDQzO2lmKHEoYSkpe3ZhciBtPWEuaW5kZXhPZihcIi8vXCIpOzA8PW0mJihnPWEuc3Vic3RyaW5nKDAsbS0xKSxhPWEuc3Vic3RyaW5nKG0rMikpO209YS5pbmRleE9mKFwiL1wiKTstMT09PW0mJihtPWEubGVuZ3RoKTtiPWEuc3Vic3RyaW5nKDAsbSk7ZT1cIlwiO2E9YS5zdWJzdHJpbmcobSkuc3BsaXQoXCIvXCIpO2ZvcihtPTA7bTxhLmxlbmd0aDttKyspaWYoMDxhW21dLmxlbmd0aCl7dmFyIGw9YVttXTt0cnl7bD1kZWNvZGVVUklDb21wb25lbnQobC5yZXBsYWNlKC9cXCsvZyxcIiBcIikpfWNhdGNoKHQpe31lKz1cIi9cIitsfWE9Yi5zcGxpdChcIi5cIik7Mz09PWEubGVuZ3RoPyhjPWFbMV0sZD1hWzBdLnRvTG93ZXJDYXNlKCkpOjI9PT1hLmxlbmd0aCYmKGM9YVswXSk7bT1iLmluZGV4T2YoXCI6XCIpOzA8PW0mJihmPVwiaHR0cHNcIj09PWd8fFwid3NzXCI9PT1nLGs9Yi5zdWJzdHJpbmcobSsxKSxpc0Zpbml0ZShrKSYmXG4oaz1TdHJpbmcoaykpLGs9cShrKT8vXlxccyotPzB4L2kudGVzdChrKT9wYXJzZUludChrLDE2KTpwYXJzZUludChrLDEwKTpOYU4pfXJldHVybntob3N0OmIscG9ydDprLGRvbWFpbjpjLGVoOmQsb2I6ZixzY2hlbWU6ZyxiZDplfX1mdW5jdGlvbiB0ZChhKXtyZXR1cm4gZmEoYSkmJihhIT1hfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl8fGE9PU51bWJlci5ORUdBVElWRV9JTkZJTklUWSl9XG5mdW5jdGlvbiB1ZChhKXtpZihcImNvbXBsZXRlXCI9PT1kb2N1bWVudC5yZWFkeVN0YXRlKWEoKTtlbHNle3ZhciBiPSExLGM9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5P2J8fChiPSEwLGEoKSk6c2V0VGltZW91dChjLE1hdGguZmxvb3IoMTApKX07ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcj8oZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixjLCExKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIixjLCExKSk6ZG9jdW1lbnQuYXR0YWNoRXZlbnQmJihkb2N1bWVudC5hdHRhY2hFdmVudChcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiLGZ1bmN0aW9uKCl7XCJjb21wbGV0ZVwiPT09ZG9jdW1lbnQucmVhZHlTdGF0ZSYmYygpfSksd2luZG93LmF0dGFjaEV2ZW50KFwib25sb2FkXCIsYykpfX1cbmZ1bmN0aW9uIHljKGEsYil7aWYoYT09PWIpcmV0dXJuIDA7aWYoXCJbTUlOX05BTUVdXCI9PT1hfHxcIltNQVhfTkFNRV1cIj09PWIpcmV0dXJuLTE7aWYoXCJbTUlOX05BTUVdXCI9PT1ifHxcIltNQVhfTkFNRV1cIj09PWEpcmV0dXJuIDE7dmFyIGM9dmQoYSksZD12ZChiKTtyZXR1cm4gbnVsbCE9PWM/bnVsbCE9PWQ/MD09Yy1kP2EubGVuZ3RoLWIubGVuZ3RoOmMtZDotMTpudWxsIT09ZD8xOmE8Yj8tMToxfWZ1bmN0aW9uIHdkKGEsYil7aWYoYiYmYSBpbiBiKXJldHVybiBiW2FdO3Rocm93IEVycm9yKFwiTWlzc2luZyByZXF1aXJlZCBrZXkgKFwiK2ErXCIpIGluIG9iamVjdDogXCIrRyhiKSk7fVxuZnVuY3Rpb24geGQoYSl7aWYoXCJvYmplY3RcIiE9PXR5cGVvZiBhfHxudWxsPT09YSlyZXR1cm4gRyhhKTt2YXIgYj1bXSxjO2ZvcihjIGluIGEpYi5wdXNoKGMpO2Iuc29ydCgpO2M9XCJ7XCI7Zm9yKHZhciBkPTA7ZDxiLmxlbmd0aDtkKyspMCE9PWQmJihjKz1cIixcIiksYys9RyhiW2RdKSxjKz1cIjpcIixjKz14ZChhW2JbZF1dKTtyZXR1cm4gYytcIn1cIn1mdW5jdGlvbiB5ZChhLGIpe2lmKGEubGVuZ3RoPD1iKXJldHVyblthXTtmb3IodmFyIGM9W10sZD0wO2Q8YS5sZW5ndGg7ZCs9YilkK2I+YT9jLnB1c2goYS5zdWJzdHJpbmcoZCxhLmxlbmd0aCkpOmMucHVzaChhLnN1YnN0cmluZyhkLGQrYikpO3JldHVybiBjfWZ1bmN0aW9uIHpkKGEsYil7aWYoZGEoYSkpZm9yKHZhciBjPTA7YzxhLmxlbmd0aDsrK2MpYihjLGFbY10pO2Vsc2UgdihhLGIpfVxuZnVuY3Rpb24gQWQoYSl7TyghdGQoYSksXCJJbnZhbGlkIEpTT04gbnVtYmVyXCIpO3ZhciBiLGMsZCxlOzA9PT1hPyhkPWM9MCxiPS1JbmZpbml0eT09PTEvYT8xOjApOihiPTA+YSxhPU1hdGguYWJzKGEpLGE+PU1hdGgucG93KDIsLTEwMjIpPyhkPU1hdGgubWluKE1hdGguZmxvb3IoTWF0aC5sb2coYSkvTWF0aC5MTjIpLDEwMjMpLGM9ZCsxMDIzLGQ9TWF0aC5yb3VuZChhKk1hdGgucG93KDIsNTItZCktTWF0aC5wb3coMiw1MikpKTooYz0wLGQ9TWF0aC5yb3VuZChhL01hdGgucG93KDIsLTEwNzQpKSkpO2U9W107Zm9yKGE9NTI7YTstLWEpZS5wdXNoKGQlMj8xOjApLGQ9TWF0aC5mbG9vcihkLzIpO2ZvcihhPTExO2E7LS1hKWUucHVzaChjJTI/MTowKSxjPU1hdGguZmxvb3IoYy8yKTtlLnB1c2goYj8xOjApO2UucmV2ZXJzZSgpO2I9ZS5qb2luKFwiXCIpO2M9XCJcIjtmb3IoYT0wOzY0PmE7YSs9OClkPXBhcnNlSW50KGIuc3Vic3RyKGEsOCksMikudG9TdHJpbmcoMTYpLDE9PT1kLmxlbmd0aCYmXG4oZD1cIjBcIitkKSxjKz1kO3JldHVybiBjLnRvTG93ZXJDYXNlKCl9dmFyIEJkPS9eLT9cXGR7MSwxMH0kLztmdW5jdGlvbiB2ZChhKXtyZXR1cm4gQmQudGVzdChhKSYmKGE9TnVtYmVyKGEpLC0yMTQ3NDgzNjQ4PD1hJiYyMTQ3NDgzNjQ3Pj1hKT9hOm51bGx9ZnVuY3Rpb24gZ2MoYSl7dHJ5e2EoKX1jYXRjaChiKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7UyhcIkV4Y2VwdGlvbiB3YXMgdGhyb3duIGJ5IHVzZXIgY2FsbGJhY2suXCIsYi5zdGFja3x8XCJcIik7dGhyb3cgYjt9LE1hdGguZmxvb3IoMCkpfX1mdW5jdGlvbiBUKGEsYil7aWYocihhKSl7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpLnNsaWNlKCk7Z2MoZnVuY3Rpb24oKXthLmFwcGx5KG51bGwsYyl9KX19O2Z1bmN0aW9uIENkKGEpe3ZhciBiPXt9LGM9e30sZD17fSxlPVwiXCI7dHJ5e3ZhciBmPWEuc3BsaXQoXCIuXCIpLGI9UmIoa2QoZlswXSl8fFwiXCIpLGM9UmIoa2QoZlsxXSl8fFwiXCIpLGU9ZlsyXSxkPWMuZHx8e307ZGVsZXRlIGMuZH1jYXRjaChnKXt9cmV0dXJue2xoOmIsRWM6YyxkYXRhOmQsYWg6ZX19ZnVuY3Rpb24gRGQoYSl7YT1DZChhKS5FYztyZXR1cm5cIm9iamVjdFwiPT09dHlwZW9mIGEmJmEuaGFzT3duUHJvcGVydHkoXCJpYXRcIik/eihhLFwiaWF0XCIpOm51bGx9ZnVuY3Rpb24gRWQoYSl7YT1DZChhKTt2YXIgYj1hLkVjO3JldHVybiEhYS5haCYmISFiJiZcIm9iamVjdFwiPT09dHlwZW9mIGImJmIuaGFzT3duUHJvcGVydHkoXCJpYXRcIil9O2Z1bmN0aW9uIEZkKGEpe3RoaXMuWT1hO3RoaXMuZz1hLm4uZ31mdW5jdGlvbiBHZChhLGIsYyxkKXt2YXIgZT1bXSxmPVtdO01hKGIsZnVuY3Rpb24oYil7XCJjaGlsZF9jaGFuZ2VkXCI9PT1iLnR5cGUmJmEuZy5EZChiLk9lLGIuTmEpJiZmLnB1c2gobmV3IEooXCJjaGlsZF9tb3ZlZFwiLGIuTmEsYi5aYSkpfSk7SGQoYSxlLFwiY2hpbGRfcmVtb3ZlZFwiLGIsZCxjKTtIZChhLGUsXCJjaGlsZF9hZGRlZFwiLGIsZCxjKTtIZChhLGUsXCJjaGlsZF9tb3ZlZFwiLGYsZCxjKTtIZChhLGUsXCJjaGlsZF9jaGFuZ2VkXCIsYixkLGMpO0hkKGEsZSxpYyxiLGQsYyk7cmV0dXJuIGV9ZnVuY3Rpb24gSGQoYSxiLGMsZCxlLGYpe2Q9TmEoZCxmdW5jdGlvbihhKXtyZXR1cm4gYS50eXBlPT09Y30pO1ZhKGQsdShhLnFnLGEpKTtNYShkLGZ1bmN0aW9uKGMpe3ZhciBkPUlkKGEsYyxmKTtNYShlLGZ1bmN0aW9uKGUpe2UuUWYoYy50eXBlKSYmYi5wdXNoKGUuY3JlYXRlRXZlbnQoZCxhLlkpKX0pfSl9XG5mdW5jdGlvbiBJZChhLGIsYyl7XCJ2YWx1ZVwiIT09Yi50eXBlJiZcImNoaWxkX3JlbW92ZWRcIiE9PWIudHlwZSYmKGIuVGQ9Yy53ZihiLlphLGIuTmEsYS5nKSk7cmV0dXJuIGJ9RmQucHJvdG90eXBlLnFnPWZ1bmN0aW9uKGEsYil7aWYobnVsbD09YS5aYXx8bnVsbD09Yi5aYSl0aHJvdyBqZChcIlNob3VsZCBvbmx5IGNvbXBhcmUgY2hpbGRfIGV2ZW50cy5cIik7cmV0dXJuIHRoaXMuZy5jb21wYXJlKG5ldyBMKGEuWmEsYS5OYSksbmV3IEwoYi5aYSxiLk5hKSl9O2Z1bmN0aW9uIEpkKCl7dGhpcy5pYj17fX1cbmZ1bmN0aW9uIEtkKGEsYil7dmFyIGM9Yi50eXBlLGQ9Yi5aYTtPKFwiY2hpbGRfYWRkZWRcIj09Y3x8XCJjaGlsZF9jaGFuZ2VkXCI9PWN8fFwiY2hpbGRfcmVtb3ZlZFwiPT1jLFwiT25seSBjaGlsZCBjaGFuZ2VzIHN1cHBvcnRlZCBmb3IgdHJhY2tpbmdcIik7TyhcIi5wcmlvcml0eVwiIT09ZCxcIk9ubHkgbm9uLXByaW9yaXR5IGNoaWxkIGNoYW5nZXMgY2FuIGJlIHRyYWNrZWQuXCIpO3ZhciBlPXooYS5pYixkKTtpZihlKXt2YXIgZj1lLnR5cGU7aWYoXCJjaGlsZF9hZGRlZFwiPT1jJiZcImNoaWxkX3JlbW92ZWRcIj09ZilhLmliW2RdPW5ldyBKKFwiY2hpbGRfY2hhbmdlZFwiLGIuTmEsZCxlLk5hKTtlbHNlIGlmKFwiY2hpbGRfcmVtb3ZlZFwiPT1jJiZcImNoaWxkX2FkZGVkXCI9PWYpZGVsZXRlIGEuaWJbZF07ZWxzZSBpZihcImNoaWxkX3JlbW92ZWRcIj09YyYmXCJjaGlsZF9jaGFuZ2VkXCI9PWYpYS5pYltkXT1uZXcgSihcImNoaWxkX3JlbW92ZWRcIixlLk9lLGQpO2Vsc2UgaWYoXCJjaGlsZF9jaGFuZ2VkXCI9PWMmJlxuXCJjaGlsZF9hZGRlZFwiPT1mKWEuaWJbZF09bmV3IEooXCJjaGlsZF9hZGRlZFwiLGIuTmEsZCk7ZWxzZSBpZihcImNoaWxkX2NoYW5nZWRcIj09YyYmXCJjaGlsZF9jaGFuZ2VkXCI9PWYpYS5pYltkXT1uZXcgSihcImNoaWxkX2NoYW5nZWRcIixiLk5hLGQsZS5PZSk7ZWxzZSB0aHJvdyBqZChcIklsbGVnYWwgY29tYmluYXRpb24gb2YgY2hhbmdlczogXCIrYitcIiBvY2N1cnJlZCBhZnRlciBcIitlKTt9ZWxzZSBhLmliW2RdPWJ9O2Z1bmN0aW9uIExkKGEpe3RoaXMuZz1hfWg9TGQucHJvdG90eXBlO2guSD1mdW5jdGlvbihhLGIsYyxkLGUsZil7TyhhLk1jKHRoaXMuZyksXCJBIG5vZGUgbXVzdCBiZSBpbmRleGVkIGlmIG9ubHkgYSBjaGlsZCBpcyB1cGRhdGVkXCIpO2U9YS5UKGIpO2lmKGUuUyhkKS5lYShjLlMoZCkpJiZlLmUoKT09Yy5lKCkpcmV0dXJuIGE7bnVsbCE9ZiYmKGMuZSgpP2EuRmEoYik/S2QoZixuZXcgSihcImNoaWxkX3JlbW92ZWRcIixlLGIpKTpPKGEuTCgpLFwiQSBjaGlsZCByZW1vdmUgd2l0aG91dCBhbiBvbGQgY2hpbGQgb25seSBtYWtlcyBzZW5zZSBvbiBhIGxlYWYgbm9kZVwiKTplLmUoKT9LZChmLG5ldyBKKFwiY2hpbGRfYWRkZWRcIixjLGIpKTpLZChmLG5ldyBKKFwiY2hpbGRfY2hhbmdlZFwiLGMsYixlKSkpO3JldHVybiBhLkwoKSYmYy5lKCk/YTphLlcoYixjKS5wYih0aGlzLmcpfTtcbmgueWE9ZnVuY3Rpb24oYSxiLGMpe251bGwhPWMmJihhLkwoKXx8YS5SKFIsZnVuY3Rpb24oYSxlKXtiLkZhKGEpfHxLZChjLG5ldyBKKFwiY2hpbGRfcmVtb3ZlZFwiLGUsYSkpfSksYi5MKCl8fGIuUihSLGZ1bmN0aW9uKGIsZSl7aWYoYS5GYShiKSl7dmFyIGY9YS5UKGIpO2YuZWEoZSl8fEtkKGMsbmV3IEooXCJjaGlsZF9jaGFuZ2VkXCIsZSxiLGYpKX1lbHNlIEtkKGMsbmV3IEooXCJjaGlsZF9hZGRlZFwiLGUsYikpfSkpO3JldHVybiBiLnBiKHRoaXMuZyl9O2guaWE9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5lKCk/SDphLmlhKGIpfTtoLlJhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guJGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307ZnVuY3Rpb24gTWQoYSl7dGhpcy5GZT1uZXcgTGQoYS5nKTt0aGlzLmc9YS5nO3ZhciBiO2Eub2E/KGI9TmQoYSksYj1hLmcuU2MoT2QoYSksYikpOmI9YS5nLldjKCk7dGhpcy5nZD1iO2EucmE/KGI9UGQoYSksYT1hLmcuU2MoUmQoYSksYikpOmE9YS5nLlRjKCk7dGhpcy5KYz1hfWg9TWQucHJvdG90eXBlO2gubWF0Y2hlcz1mdW5jdGlvbihhKXtyZXR1cm4gMD49dGhpcy5nLmNvbXBhcmUodGhpcy5nZCxhKSYmMD49dGhpcy5nLmNvbXBhcmUoYSx0aGlzLkpjKX07aC5IPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLm1hdGNoZXMobmV3IEwoYixjKSl8fChjPUgpO3JldHVybiB0aGlzLkZlLkgoYSxiLGMsZCxlLGYpfTtcbmgueWE9ZnVuY3Rpb24oYSxiLGMpe2IuTCgpJiYoYj1IKTt2YXIgZD1iLnBiKHRoaXMuZyksZD1kLmlhKEgpLGU9dGhpcztiLlIoUixmdW5jdGlvbihhLGIpe2UubWF0Y2hlcyhuZXcgTChhLGIpKXx8KGQ9ZC5XKGEsSCkpfSk7cmV0dXJuIHRoaXMuRmUueWEoYSxkLGMpfTtoLmlhPWZ1bmN0aW9uKGEpe3JldHVybiBhfTtoLlJhPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guJGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GZX07ZnVuY3Rpb24gU2QoYSl7dGhpcy51YT1uZXcgTWQoYSk7dGhpcy5nPWEuZztPKGEubGEsXCJPbmx5IHZhbGlkIGlmIGxpbWl0IGhhcyBiZWVuIHNldFwiKTt0aGlzLm1hPWEubWE7dGhpcy5OYj0hVGQoYSl9aD1TZC5wcm90b3R5cGU7aC5IPWZ1bmN0aW9uKGEsYixjLGQsZSxmKXt0aGlzLnVhLm1hdGNoZXMobmV3IEwoYixjKSl8fChjPUgpO3JldHVybiBhLlQoYikuZWEoYyk/YTphLkhiKCk8dGhpcy5tYT90aGlzLnVhLiRiKCkuSChhLGIsYyxkLGUsZik6VWQodGhpcyxhLGIsYyxlLGYpfTtcbmgueWE9ZnVuY3Rpb24oYSxiLGMpe3ZhciBkO2lmKGIuTCgpfHxiLmUoKSlkPUgucGIodGhpcy5nKTtlbHNlIGlmKDIqdGhpcy5tYTxiLkhiKCkmJmIuTWModGhpcy5nKSl7ZD1ILnBiKHRoaXMuZyk7Yj10aGlzLk5iP2IuZGModGhpcy51YS5KYyx0aGlzLmcpOmIuYmModGhpcy51YS5nZCx0aGlzLmcpO2Zvcih2YXIgZT0wOzA8Yi5UYS5sZW5ndGgmJmU8dGhpcy5tYTspe3ZhciBmPUljKGIpLGc7aWYoZz10aGlzLk5iPzA+PXRoaXMuZy5jb21wYXJlKHRoaXMudWEuZ2QsZik6MD49dGhpcy5nLmNvbXBhcmUoZix0aGlzLnVhLkpjKSlkPWQuVyhmLm5hbWUsZi5VKSxlKys7ZWxzZSBicmVha319ZWxzZXtkPWIucGIodGhpcy5nKTtkPWQuaWEoSCk7dmFyIGssbSxsO2lmKHRoaXMuTmIpe2I9ZC54Zih0aGlzLmcpO2s9dGhpcy51YS5KYzttPXRoaXMudWEuZ2Q7dmFyIHQ9VmQodGhpcy5nKTtsPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHQoYixhKX19ZWxzZSBiPWQuYWModGhpcy5nKSxrPXRoaXMudWEuZ2QsXG5tPXRoaXMudWEuSmMsbD1WZCh0aGlzLmcpO2Zvcih2YXIgZT0wLEE9ITE7MDxiLlRhLmxlbmd0aDspZj1JYyhiKSwhQSYmMD49bChrLGYpJiYoQT0hMCksKGc9QSYmZTx0aGlzLm1hJiYwPj1sKGYsbSkpP2UrKzpkPWQuVyhmLm5hbWUsSCl9cmV0dXJuIHRoaXMudWEuJGIoKS55YShhLGQsYyl9O2guaWE9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9O2guUmE9ZnVuY3Rpb24oKXtyZXR1cm4hMH07aC4kYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnVhLiRiKCl9O1xuZnVuY3Rpb24gVWQoYSxiLGMsZCxlLGYpe3ZhciBnO2lmKGEuTmIpe3ZhciBrPVZkKGEuZyk7Zz1mdW5jdGlvbihhLGIpe3JldHVybiBrKGIsYSl9fWVsc2UgZz1WZChhLmcpO08oYi5IYigpPT1hLm1hLFwiXCIpO3ZhciBtPW5ldyBMKGMsZCksbD1hLk5iP1dkKGIsYS5nKTpYZChiLGEuZyksdD1hLnVhLm1hdGNoZXMobSk7aWYoYi5GYShjKSl7Zm9yKHZhciBBPWIuVChjKSxsPWUuQ2UoYS5nLGwsYS5OYik7bnVsbCE9bCYmKGwubmFtZT09Y3x8Yi5GYShsLm5hbWUpKTspbD1lLkNlKGEuZyxsLGEuTmIpO2U9bnVsbD09bD8xOmcobCxtKTtpZih0JiYhZC5lKCkmJjA8PWUpcmV0dXJuIG51bGwhPWYmJktkKGYsbmV3IEooXCJjaGlsZF9jaGFuZ2VkXCIsZCxjLEEpKSxiLlcoYyxkKTtudWxsIT1mJiZLZChmLG5ldyBKKFwiY2hpbGRfcmVtb3ZlZFwiLEEsYykpO2I9Yi5XKGMsSCk7cmV0dXJuIG51bGwhPWwmJmEudWEubWF0Y2hlcyhsKT8obnVsbCE9ZiYmS2QoZixuZXcgSihcImNoaWxkX2FkZGVkXCIsXG5sLlUsbC5uYW1lKSksYi5XKGwubmFtZSxsLlUpKTpifXJldHVybiBkLmUoKT9iOnQmJjA8PWcobCxtKT8obnVsbCE9ZiYmKEtkKGYsbmV3IEooXCJjaGlsZF9yZW1vdmVkXCIsbC5VLGwubmFtZSkpLEtkKGYsbmV3IEooXCJjaGlsZF9hZGRlZFwiLGQsYykpKSxiLlcoYyxkKS5XKGwubmFtZSxIKSk6Yn07ZnVuY3Rpb24gWWQoYSxiKXt0aGlzLm1lPWE7dGhpcy5vZz1ifWZ1bmN0aW9uIFpkKGEpe3RoaXMuWD1hfVxuWmQucHJvdG90eXBlLmdiPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPW5ldyBKZCxmO2lmKGIudHlwZT09PUJjKWIuc291cmNlLkFlP2M9JGQodGhpcyxhLGIucGF0aCxiLkphLGMsZCxlKTooTyhiLnNvdXJjZS50ZixcIlVua25vd24gc291cmNlLlwiKSxmPWIuc291cmNlLmVmfHxtYyhhLncoKSkmJiFiLnBhdGguZSgpLGM9YWUodGhpcyxhLGIucGF0aCxiLkphLGMsZCxmLGUpKTtlbHNlIGlmKGIudHlwZT09PWJlKWIuc291cmNlLkFlP2M9Y2UodGhpcyxhLGIucGF0aCxiLmNoaWxkcmVuLGMsZCxlKTooTyhiLnNvdXJjZS50ZixcIlVua25vd24gc291cmNlLlwiKSxmPWIuc291cmNlLmVmfHxtYyhhLncoKSksYz1kZSh0aGlzLGEsYi5wYXRoLGIuY2hpbGRyZW4sYyxkLGYsZSkpO2Vsc2UgaWYoYi50eXBlPT09ZWUpaWYoYi5ZZClpZihiPWIucGF0aCxudWxsIT1jLnhjKGIpKWM9YTtlbHNle2Y9bmV3IFZiKGMsYSxkKTtkPWEuUS5qKCk7aWYoYi5lKCl8fFwiLnByaW9yaXR5XCI9PT1LKGIpKWxjKGEudygpKT9cbmI9Yy5BYShZYihhKSk6KGI9YS53KCkuaigpLE8oYiBpbnN0YW5jZW9mIGZlLFwic2VydmVyQ2hpbGRyZW4gd291bGQgYmUgY29tcGxldGUgaWYgbGVhZiBub2RlXCIpLGI9Yy5DYyhiKSksYj10aGlzLlgueWEoZCxiLGUpO2Vsc2V7dmFyIGc9SyhiKSxrPWMuQmMoZyxhLncoKSk7bnVsbD09ayYmV2IoYS53KCksZykmJihrPWQuVChnKSk7Yj1udWxsIT1rP3RoaXMuWC5IKGQsZyxrLE4oYiksZixlKTphLlEuaigpLkZhKGcpP3RoaXMuWC5IKGQsZyxILE4oYiksZixlKTpkO2IuZSgpJiZsYyhhLncoKSkmJihkPWMuQWEoWWIoYSkpLGQuTCgpJiYoYj10aGlzLlgueWEoYixkLGUpKSl9ZD1sYyhhLncoKSl8fG51bGwhPWMueGMoTSk7Yz1nZShhLGIsZCx0aGlzLlguUmEoKSl9ZWxzZSBjPWhlKHRoaXMsYSxiLnBhdGgsYi5VYixjLGQsZSk7ZWxzZSBpZihiLnR5cGU9PT1EYylkPWIucGF0aCxiPWEudygpLGY9Yi5qKCksZz1iLmdhfHxkLmUoKSxjPWllKHRoaXMsbmV3IGplKGEuUSxuZXcgWGIoZixcbmcsYi5ZYikpLGQsYyxVYixlKTtlbHNlIHRocm93IGpkKFwiVW5rbm93biBvcGVyYXRpb24gdHlwZTogXCIrYi50eXBlKTtlPXFhKGUuaWIpO2Q9YztiPWQuUTtiLmdhJiYoZj1iLmooKS5MKCl8fGIuaigpLmUoKSxnPWtlKGEpLCgwPGUubGVuZ3RofHwhYS5RLmdhfHxmJiYhYi5qKCkuZWEoZyl8fCFiLmooKS5DKCkuZWEoZy5DKCkpKSYmZS5wdXNoKGhjKGtlKGQpKSkpO3JldHVybiBuZXcgWWQoYyxlKX07XG5mdW5jdGlvbiBpZShhLGIsYyxkLGUsZil7dmFyIGc9Yi5RO2lmKG51bGwhPWQueGMoYykpcmV0dXJuIGI7dmFyIGs7aWYoYy5lKCkpTyhsYyhiLncoKSksXCJJZiBjaGFuZ2UgcGF0aCBpcyBlbXB0eSwgd2UgbXVzdCBoYXZlIGNvbXBsZXRlIHNlcnZlciBkYXRhXCIpLG1jKGIudygpKT8oZT1ZYihiKSxkPWQuQ2MoZSBpbnN0YW5jZW9mIGZlP2U6SCkpOmQ9ZC5BYShZYihiKSksZj1hLlgueWEoYi5RLmooKSxkLGYpO2Vsc2V7dmFyIG09SyhjKTtpZihcIi5wcmlvcml0eVwiPT1tKU8oMT09bGUoYyksXCJDYW4ndCBoYXZlIGEgcHJpb3JpdHkgd2l0aCBhZGRpdGlvbmFsIHBhdGggY29tcG9uZW50c1wiKSxmPWcuaigpLGs9Yi53KCkuaigpLGQ9ZC5uZChjLGYsayksZj1udWxsIT1kP2EuWC5pYShmLGQpOmcuaigpO2Vsc2V7dmFyIGw9TihjKTtXYihnLG0pPyhrPWIudygpLmooKSxkPWQubmQoYyxnLmooKSxrKSxkPW51bGwhPWQ/Zy5qKCkuVChtKS5IKGwsZCk6Zy5qKCkuVChtKSk6ZD1kLkJjKG0sXG5iLncoKSk7Zj1udWxsIT1kP2EuWC5IKGcuaigpLG0sZCxsLGUsZik6Zy5qKCl9fXJldHVybiBnZShiLGYsZy5nYXx8Yy5lKCksYS5YLlJhKCkpfWZ1bmN0aW9uIGFlKGEsYixjLGQsZSxmLGcsayl7dmFyIG09Yi53KCk7Zz1nP2EuWDphLlguJGIoKTtpZihjLmUoKSlkPWcueWEobS5qKCksZCxudWxsKTtlbHNlIGlmKGcuUmEoKSYmIW0uWWIpZD1tLmooKS5IKGMsZCksZD1nLnlhKG0uaigpLGQsbnVsbCk7ZWxzZXt2YXIgbD1LKGMpO2lmKCFuYyhtLGMpJiYxPGxlKGMpKXJldHVybiBiO3ZhciB0PU4oYyk7ZD1tLmooKS5UKGwpLkgodCxkKTtkPVwiLnByaW9yaXR5XCI9PWw/Zy5pYShtLmooKSxkKTpnLkgobS5qKCksbCxkLHQsVWIsbnVsbCl9bT1tLmdhfHxjLmUoKTtiPW5ldyBqZShiLlEsbmV3IFhiKGQsbSxnLlJhKCkpKTtyZXR1cm4gaWUoYSxiLGMsZSxuZXcgVmIoZSxiLGYpLGspfVxuZnVuY3Rpb24gJGQoYSxiLGMsZCxlLGYsZyl7dmFyIGs9Yi5RO2U9bmV3IFZiKGUsYixmKTtpZihjLmUoKSlnPWEuWC55YShiLlEuaigpLGQsZyksYT1nZShiLGcsITAsYS5YLlJhKCkpO2Vsc2UgaWYoZj1LKGMpLFwiLnByaW9yaXR5XCI9PT1mKWc9YS5YLmlhKGIuUS5qKCksZCksYT1nZShiLGcsay5nYSxrLlliKTtlbHNle2M9TihjKTt2YXIgbT1rLmooKS5UKGYpO2lmKCFjLmUoKSl7dmFyIGw9ZS51ZihmKTtkPW51bGwhPWw/XCIucHJpb3JpdHlcIj09PW1lKGMpJiZsLlMoYy5wYXJlbnQoKSkuZSgpP2w6bC5IKGMsZCk6SH1tLmVhKGQpP2E9YjooZz1hLlguSChrLmooKSxmLGQsYyxlLGcpLGE9Z2UoYixnLGsuZ2EsYS5YLlJhKCkpKX1yZXR1cm4gYX1cbmZ1bmN0aW9uIGNlKGEsYixjLGQsZSxmLGcpe3ZhciBrPWI7bmUoZCxmdW5jdGlvbihkLGwpe3ZhciB0PWMubyhkKTtXYihiLlEsSyh0KSkmJihrPSRkKGEsayx0LGwsZSxmLGcpKX0pO25lKGQsZnVuY3Rpb24oZCxsKXt2YXIgdD1jLm8oZCk7V2IoYi5RLEsodCkpfHwoaz0kZChhLGssdCxsLGUsZixnKSl9KTtyZXR1cm4ga31mdW5jdGlvbiBvZShhLGIpe25lKGIsZnVuY3Rpb24oYixkKXthPWEuSChiLGQpfSk7cmV0dXJuIGF9XG5mdW5jdGlvbiBkZShhLGIsYyxkLGUsZixnLGspe2lmKGIudygpLmooKS5lKCkmJiFsYyhiLncoKSkpcmV0dXJuIGI7dmFyIG09YjtjPWMuZSgpP2Q6cGUocWUsYyxkKTt2YXIgbD1iLncoKS5qKCk7Yy5jaGlsZHJlbi5rYShmdW5jdGlvbihjLGQpe2lmKGwuRmEoYykpe3ZhciBJPWIudygpLmooKS5UKGMpLEk9b2UoSSxkKTttPWFlKGEsbSxuZXcgUChjKSxJLGUsZixnLGspfX0pO2MuY2hpbGRyZW4ua2EoZnVuY3Rpb24oYyxkKXt2YXIgST0hV2IoYi53KCksYykmJm51bGw9PWQudmFsdWU7bC5GYShjKXx8SXx8KEk9Yi53KCkuaigpLlQoYyksST1vZShJLGQpLG09YWUoYSxtLG5ldyBQKGMpLEksZSxmLGcsaykpfSk7cmV0dXJuIG19XG5mdW5jdGlvbiBoZShhLGIsYyxkLGUsZixnKXtpZihudWxsIT1lLnhjKGMpKXJldHVybiBiO3ZhciBrPW1jKGIudygpKSxtPWIudygpO2lmKG51bGwhPWQudmFsdWUpe2lmKGMuZSgpJiZtLmdhfHxuYyhtLGMpKXJldHVybiBhZShhLGIsYyxtLmooKS5TKGMpLGUsZixrLGcpO2lmKGMuZSgpKXt2YXIgbD1xZTttLmooKS5SKHJlLGZ1bmN0aW9uKGEsYil7bD1sLnNldChuZXcgUChhKSxiKX0pO3JldHVybiBkZShhLGIsYyxsLGUsZixrLGcpfXJldHVybiBifWw9cWU7bmUoZCxmdW5jdGlvbihhKXt2YXIgYj1jLm8oYSk7bmMobSxiKSYmKGw9bC5zZXQoYSxtLmooKS5TKGIpKSl9KTtyZXR1cm4gZGUoYSxiLGMsbCxlLGYsayxnKX07ZnVuY3Rpb24gc2UoKXt9dmFyIHRlPXt9O2Z1bmN0aW9uIFZkKGEpe3JldHVybiB1KGEuY29tcGFyZSxhKX1zZS5wcm90b3R5cGUuRGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gMCE9PXRoaXMuY29tcGFyZShuZXcgTChcIltNSU5fTkFNRV1cIixhKSxuZXcgTChcIltNSU5fTkFNRV1cIixiKSl9O3NlLnByb3RvdHlwZS5XYz1mdW5jdGlvbigpe3JldHVybiB1ZX07ZnVuY3Rpb24gdmUoYSl7TyghYS5lKCkmJlwiLnByaW9yaXR5XCIhPT1LKGEpLFwiQ2FuJ3QgY3JlYXRlIFBhdGhJbmRleCB3aXRoIGVtcHR5IHBhdGggb3IgLnByaW9yaXR5IGtleVwiKTt0aGlzLmdjPWF9a2EodmUsc2UpO2g9dmUucHJvdG90eXBlO2guTGM9ZnVuY3Rpb24oYSl7cmV0dXJuIWEuUyh0aGlzLmdjKS5lKCl9O2guY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuVS5TKHRoaXMuZ2MpLGQ9Yi5VLlModGhpcy5nYyksYz1jLkdjKGQpO3JldHVybiAwPT09Yz95YyhhLm5hbWUsYi5uYW1lKTpjfTtcbmguU2M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1RKGEpLGM9SC5IKHRoaXMuZ2MsYyk7cmV0dXJuIG5ldyBMKGIsYyl9O2guVGM9ZnVuY3Rpb24oKXt2YXIgYT1ILkgodGhpcy5nYyx3ZSk7cmV0dXJuIG5ldyBMKFwiW01BWF9OQU1FXVwiLGEpfTtoLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2Muc2xpY2UoKS5qb2luKFwiL1wiKX07ZnVuY3Rpb24geGUoKXt9a2EoeGUsc2UpO2g9eGUucHJvdG90eXBlO2guY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuVS5DKCksZD1iLlUuQygpLGM9Yy5HYyhkKTtyZXR1cm4gMD09PWM/eWMoYS5uYW1lLGIubmFtZSk6Y307aC5MYz1mdW5jdGlvbihhKXtyZXR1cm4hYS5DKCkuZSgpfTtoLkRkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIWEuQygpLmVhKGIuQygpKX07aC5XYz1mdW5jdGlvbigpe3JldHVybiB1ZX07aC5UYz1mdW5jdGlvbigpe3JldHVybiBuZXcgTChcIltNQVhfTkFNRV1cIixuZXcgWWMoXCJbUFJJT1JJVFktUE9TVF1cIix3ZSkpfTtcbmguU2M9ZnVuY3Rpb24oYSxiKXt2YXIgYz1RKGEpO3JldHVybiBuZXcgTChiLG5ldyBZYyhcIltQUklPUklUWS1QT1NUXVwiLGMpKX07aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLnByaW9yaXR5XCJ9O3ZhciBSPW5ldyB4ZTtmdW5jdGlvbiB5ZSgpe31rYSh5ZSxzZSk7aD15ZS5wcm90b3R5cGU7aC5jb21wYXJlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHljKGEubmFtZSxiLm5hbWUpfTtoLkxjPWZ1bmN0aW9uKCl7dGhyb3cgamQoXCJLZXlJbmRleC5pc0RlZmluZWRPbiBub3QgZXhwZWN0ZWQgdG8gYmUgY2FsbGVkLlwiKTt9O2guRGQ9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5XYz1mdW5jdGlvbigpe3JldHVybiB1ZX07aC5UYz1mdW5jdGlvbigpe3JldHVybiBuZXcgTChcIltNQVhfTkFNRV1cIixIKX07aC5TYz1mdW5jdGlvbihhKXtPKHEoYSksXCJLZXlJbmRleCBpbmRleFZhbHVlIG11c3QgYWx3YXlzIGJlIGEgc3RyaW5nLlwiKTtyZXR1cm4gbmV3IEwoYSxIKX07aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiLmtleVwifTtcbnZhciByZT1uZXcgeWU7ZnVuY3Rpb24gemUoKXt9a2EoemUsc2UpO2g9emUucHJvdG90eXBlO2guY29tcGFyZT1mdW5jdGlvbihhLGIpe3ZhciBjPWEuVS5HYyhiLlUpO3JldHVybiAwPT09Yz95YyhhLm5hbWUsYi5uYW1lKTpjfTtoLkxjPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guRGQ9ZnVuY3Rpb24oYSxiKXtyZXR1cm4hYS5lYShiKX07aC5XYz1mdW5jdGlvbigpe3JldHVybiB1ZX07aC5UYz1mdW5jdGlvbigpe3JldHVybiBBZX07aC5TYz1mdW5jdGlvbihhLGIpe3ZhciBjPVEoYSk7cmV0dXJuIG5ldyBMKGIsYyl9O2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIi52YWx1ZVwifTt2YXIgQmU9bmV3IHplO2Z1bmN0aW9uIENlKCl7dGhpcy5YYj10aGlzLnJhPXRoaXMuUGI9dGhpcy5vYT10aGlzLmxhPSExO3RoaXMubWE9MDt0aGlzLlJiPVwiXCI7dGhpcy5pYz1udWxsO3RoaXMuQmI9XCJcIjt0aGlzLmZjPW51bGw7dGhpcy56Yj1cIlwiO3RoaXMuZz1SfXZhciBEZT1uZXcgQ2U7ZnVuY3Rpb24gVGQoYSl7cmV0dXJuXCJcIj09PWEuUmI/YS5vYTpcImxcIj09PWEuUmJ9ZnVuY3Rpb24gT2QoYSl7TyhhLm9hLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuaWN9ZnVuY3Rpb24gTmQoYSl7TyhhLm9hLFwiT25seSB2YWxpZCBpZiBzdGFydCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuUGI/YS5CYjpcIltNSU5fTkFNRV1cIn1mdW5jdGlvbiBSZChhKXtPKGEucmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuZmN9XG5mdW5jdGlvbiBQZChhKXtPKGEucmEsXCJPbmx5IHZhbGlkIGlmIGVuZCBoYXMgYmVlbiBzZXRcIik7cmV0dXJuIGEuWGI/YS56YjpcIltNQVhfTkFNRV1cIn1mdW5jdGlvbiBFZShhKXt2YXIgYj1uZXcgQ2U7Yi5sYT1hLmxhO2IubWE9YS5tYTtiLm9hPWEub2E7Yi5pYz1hLmljO2IuUGI9YS5QYjtiLkJiPWEuQmI7Yi5yYT1hLnJhO2IuZmM9YS5mYztiLlhiPWEuWGI7Yi56Yj1hLnpiO2IuZz1hLmc7cmV0dXJuIGJ9aD1DZS5wcm90b3R5cGU7aC5MZT1mdW5jdGlvbihhKXt2YXIgYj1FZSh0aGlzKTtiLmxhPSEwO2IubWE9YTtiLlJiPVwiXCI7cmV0dXJuIGJ9O2guTWU9ZnVuY3Rpb24oYSl7dmFyIGI9RWUodGhpcyk7Yi5sYT0hMDtiLm1hPWE7Yi5SYj1cImxcIjtyZXR1cm4gYn07aC5OZT1mdW5jdGlvbihhKXt2YXIgYj1FZSh0aGlzKTtiLmxhPSEwO2IubWE9YTtiLlJiPVwiclwiO3JldHVybiBifTtcbmguY2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1FZSh0aGlzKTtjLm9hPSEwO3AoYSl8fChhPW51bGwpO2MuaWM9YTtudWxsIT1iPyhjLlBiPSEwLGMuQmI9Yik6KGMuUGI9ITEsYy5CYj1cIlwiKTtyZXR1cm4gY307aC52ZD1mdW5jdGlvbihhLGIpe3ZhciBjPUVlKHRoaXMpO2MucmE9ITA7cChhKXx8KGE9bnVsbCk7Yy5mYz1hO3AoYik/KGMuWGI9ITAsYy56Yj1iKTooYy5uaD0hMSxjLnpiPVwiXCIpO3JldHVybiBjfTtmdW5jdGlvbiBGZShhLGIpe3ZhciBjPUVlKGEpO2MuZz1iO3JldHVybiBjfWZ1bmN0aW9uIEdlKGEpe3ZhciBiPXt9O2Eub2EmJihiLnNwPWEuaWMsYS5QYiYmKGIuc249YS5CYikpO2EucmEmJihiLmVwPWEuZmMsYS5YYiYmKGIuZW49YS56YikpO2lmKGEubGEpe2IubD1hLm1hO3ZhciBjPWEuUmI7XCJcIj09PWMmJihjPVRkKGEpP1wibFwiOlwiclwiKTtiLnZmPWN9YS5nIT09UiYmKGIuaT1hLmcudG9TdHJpbmcoKSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBIZShhKXtyZXR1cm4hKGEub2F8fGEucmF8fGEubGEpfWZ1bmN0aW9uIEllKGEpe3JldHVybiBIZShhKSYmYS5nPT1SfWZ1bmN0aW9uIEplKGEpe3ZhciBiPXt9O2lmKEllKGEpKXJldHVybiBiO3ZhciBjO2EuZz09PVI/Yz1cIiRwcmlvcml0eVwiOmEuZz09PUJlP2M9XCIkdmFsdWVcIjphLmc9PT1yZT9jPVwiJGtleVwiOihPKGEuZyBpbnN0YW5jZW9mIHZlLFwiVW5yZWNvZ25pemVkIGluZGV4IHR5cGUhXCIpLGM9YS5nLnRvU3RyaW5nKCkpO2Iub3JkZXJCeT1HKGMpO2Eub2EmJihiLnN0YXJ0QXQ9RyhhLmljKSxhLlBiJiYoYi5zdGFydEF0Kz1cIixcIitHKGEuQmIpKSk7YS5yYSYmKGIuZW5kQXQ9RyhhLmZjKSxhLlhiJiYoYi5lbmRBdCs9XCIsXCIrRyhhLnpiKSkpO2EubGEmJihUZChhKT9iLmxpbWl0VG9GaXJzdD1hLm1hOmIubGltaXRUb0xhc3Q9YS5tYSk7cmV0dXJuIGJ9aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBHKEdlKHRoaXMpKX07ZnVuY3Rpb24gS2UoYSxiKXt0aGlzLkVkPWE7dGhpcy5oYz1ifUtlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9eih0aGlzLkVkLGEpO2lmKCFiKXRocm93IEVycm9yKFwiTm8gaW5kZXggZGVmaW5lZCBmb3IgXCIrYSk7cmV0dXJuIGI9PT10ZT9udWxsOmJ9O2Z1bmN0aW9uIExlKGEsYixjKXt2YXIgZD1tYShhLkVkLGZ1bmN0aW9uKGQsZil7dmFyIGc9eihhLmhjLGYpO08oZyxcIk1pc3NpbmcgaW5kZXggaW1wbGVtZW50YXRpb24gZm9yIFwiK2YpO2lmKGQ9PT10ZSl7aWYoZy5MYyhiLlUpKXtmb3IodmFyIGs9W10sbT1jLmFjKHdjKSxsPUljKG0pO2w7KWwubmFtZSE9Yi5uYW1lJiZrLnB1c2gobCksbD1JYyhtKTtrLnB1c2goYik7cmV0dXJuIE1lKGssVmQoZykpfXJldHVybiB0ZX1nPWMuZ2V0KGIubmFtZSk7az1kO2cmJihrPWsucmVtb3ZlKG5ldyBMKGIubmFtZSxnKSkpO3JldHVybiBrLlNhKGIsYi5VKX0pO3JldHVybiBuZXcgS2UoZCxhLmhjKX1cbmZ1bmN0aW9uIE5lKGEsYixjKXt2YXIgZD1tYShhLkVkLGZ1bmN0aW9uKGEpe2lmKGE9PT10ZSlyZXR1cm4gYTt2YXIgZD1jLmdldChiLm5hbWUpO3JldHVybiBkP2EucmVtb3ZlKG5ldyBMKGIubmFtZSxkKSk6YX0pO3JldHVybiBuZXcgS2UoZCxhLmhjKX12YXIgT2U9bmV3IEtlKHtcIi5wcmlvcml0eVwiOnRlfSx7XCIucHJpb3JpdHlcIjpSfSk7ZnVuY3Rpb24gWWMoYSxiKXt0aGlzLkI9YTtPKHAodGhpcy5CKSYmbnVsbCE9PXRoaXMuQixcIkxlYWZOb2RlIHNob3VsZG4ndCBiZSBjcmVhdGVkIHdpdGggbnVsbC91bmRlZmluZWQgdmFsdWUuXCIpO3RoaXMuY2E9Ynx8SDtQZSh0aGlzLmNhKTt0aGlzLkdiPW51bGx9dmFyIFFlPVtcIm9iamVjdFwiLFwiYm9vbGVhblwiLFwibnVtYmVyXCIsXCJzdHJpbmdcIl07aD1ZYy5wcm90b3R5cGU7aC5MPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guQz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmNhfTtoLmlhPWZ1bmN0aW9uKGEpe3JldHVybiBuZXcgWWModGhpcy5CLGEpfTtoLlQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCIucHJpb3JpdHlcIj09PWE/dGhpcy5jYTpIfTtoLlM9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuZSgpP3RoaXM6XCIucHJpb3JpdHlcIj09PUsoYSk/dGhpcy5jYTpIfTtoLkZhPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2gud2Y9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbH07XG5oLlc9ZnVuY3Rpb24oYSxiKXtyZXR1cm5cIi5wcmlvcml0eVwiPT09YT90aGlzLmlhKGIpOmIuZSgpJiZcIi5wcmlvcml0eVwiIT09YT90aGlzOkguVyhhLGIpLmlhKHRoaXMuY2EpfTtoLkg9ZnVuY3Rpb24oYSxiKXt2YXIgYz1LKGEpO2lmKG51bGw9PT1jKXJldHVybiBiO2lmKGIuZSgpJiZcIi5wcmlvcml0eVwiIT09YylyZXR1cm4gdGhpcztPKFwiLnByaW9yaXR5XCIhPT1jfHwxPT09bGUoYSksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIik7cmV0dXJuIHRoaXMuVyhjLEguSChOKGEpLGIpKX07aC5lPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guSGI9ZnVuY3Rpb24oKXtyZXR1cm4gMH07aC5SPWZ1bmN0aW9uKCl7cmV0dXJuITF9O2guSj1mdW5jdGlvbihhKXtyZXR1cm4gYSYmIXRoaXMuQygpLmUoKT97XCIudmFsdWVcIjp0aGlzLkVhKCksXCIucHJpb3JpdHlcIjp0aGlzLkMoKS5KKCl9OnRoaXMuRWEoKX07XG5oLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5HYil7dmFyIGE9XCJcIjt0aGlzLmNhLmUoKXx8KGErPVwicHJpb3JpdHk6XCIrUmUodGhpcy5jYS5KKCkpK1wiOlwiKTt2YXIgYj10eXBlb2YgdGhpcy5CLGE9YSsoYitcIjpcIiksYT1cIm51bWJlclwiPT09Yj9hK0FkKHRoaXMuQik6YSt0aGlzLkI7dGhpcy5HYj1sZChhKX1yZXR1cm4gdGhpcy5HYn07aC5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkJ9O2guR2M9ZnVuY3Rpb24oYSl7aWYoYT09PUgpcmV0dXJuIDE7aWYoYSBpbnN0YW5jZW9mIGZlKXJldHVybi0xO08oYS5MKCksXCJVbmtub3duIG5vZGUgdHlwZVwiKTt2YXIgYj10eXBlb2YgYS5CLGM9dHlwZW9mIHRoaXMuQixkPUxhKFFlLGIpLGU9TGEoUWUsYyk7TygwPD1kLFwiVW5rbm93biBsZWFmIHR5cGU6IFwiK2IpO08oMDw9ZSxcIlVua25vd24gbGVhZiB0eXBlOiBcIitjKTtyZXR1cm4gZD09PWU/XCJvYmplY3RcIj09PWM/MDp0aGlzLkI8YS5CPy0xOnRoaXMuQj09PWEuQj8wOjE6ZS1kfTtcbmgucGI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc307aC5NYz1mdW5jdGlvbigpe3JldHVybiEwfTtoLmVhPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpcz8hMDphLkwoKT90aGlzLkI9PT1hLkImJnRoaXMuY2EuZWEoYS5jYSk6ITF9O2gudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gRyh0aGlzLkooITApKX07ZnVuY3Rpb24gZmUoYSxiLGMpe3RoaXMubT1hOyh0aGlzLmNhPWIpJiZQZSh0aGlzLmNhKTthLmUoKSYmTyghdGhpcy5jYXx8dGhpcy5jYS5lKCksXCJBbiBlbXB0eSBub2RlIGNhbm5vdCBoYXZlIGEgcHJpb3JpdHlcIik7dGhpcy5BYj1jO3RoaXMuR2I9bnVsbH1oPWZlLnByb3RvdHlwZTtoLkw9ZnVuY3Rpb24oKXtyZXR1cm4hMX07aC5DPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY2F8fEh9O2guaWE9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubS5lKCk/dGhpczpuZXcgZmUodGhpcy5tLGEsdGhpcy5BYil9O2guVD1mdW5jdGlvbihhKXtpZihcIi5wcmlvcml0eVwiPT09YSlyZXR1cm4gdGhpcy5DKCk7YT10aGlzLm0uZ2V0KGEpO3JldHVybiBudWxsPT09YT9IOmF9O2guUz1mdW5jdGlvbihhKXt2YXIgYj1LKGEpO3JldHVybiBudWxsPT09Yj90aGlzOnRoaXMuVChiKS5TKE4oYSkpfTtoLkZhPWZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT09dGhpcy5tLmdldChhKX07XG5oLlc9ZnVuY3Rpb24oYSxiKXtPKGIsXCJXZSBzaG91bGQgYWx3YXlzIGJlIHBhc3Npbmcgc25hcHNob3Qgbm9kZXNcIik7aWYoXCIucHJpb3JpdHlcIj09PWEpcmV0dXJuIHRoaXMuaWEoYik7dmFyIGM9bmV3IEwoYSxiKSxkLGU7Yi5lKCk/KGQ9dGhpcy5tLnJlbW92ZShhKSxjPU5lKHRoaXMuQWIsYyx0aGlzLm0pKTooZD10aGlzLm0uU2EoYSxiKSxjPUxlKHRoaXMuQWIsYyx0aGlzLm0pKTtlPWQuZSgpP0g6dGhpcy5jYTtyZXR1cm4gbmV3IGZlKGQsZSxjKX07aC5IPWZ1bmN0aW9uKGEsYil7dmFyIGM9SyhhKTtpZihudWxsPT09YylyZXR1cm4gYjtPKFwiLnByaW9yaXR5XCIhPT1LKGEpfHwxPT09bGUoYSksXCIucHJpb3JpdHkgbXVzdCBiZSB0aGUgbGFzdCB0b2tlbiBpbiBhIHBhdGhcIik7dmFyIGQ9dGhpcy5UKGMpLkgoTihhKSxiKTtyZXR1cm4gdGhpcy5XKGMsZCl9O2guZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm0uZSgpfTtoLkhiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubS5jb3VudCgpfTtcbnZhciBTZT0vXigwfFsxLTldXFxkKikkLztoPWZlLnByb3RvdHlwZTtoLko9ZnVuY3Rpb24oYSl7aWYodGhpcy5lKCkpcmV0dXJuIG51bGw7dmFyIGI9e30sYz0wLGQ9MCxlPSEwO3RoaXMuUihSLGZ1bmN0aW9uKGYsZyl7YltmXT1nLkooYSk7YysrO2UmJlNlLnRlc3QoZik/ZD1NYXRoLm1heChkLE51bWJlcihmKSk6ZT0hMX0pO2lmKCFhJiZlJiZkPDIqYyl7dmFyIGY9W10sZztmb3IoZyBpbiBiKWZbZ109YltnXTtyZXR1cm4gZn1hJiYhdGhpcy5DKCkuZSgpJiYoYltcIi5wcmlvcml0eVwiXT10aGlzLkMoKS5KKCkpO3JldHVybiBifTtoLmhhc2g9ZnVuY3Rpb24oKXtpZihudWxsPT09dGhpcy5HYil7dmFyIGE9XCJcIjt0aGlzLkMoKS5lKCl8fChhKz1cInByaW9yaXR5OlwiK1JlKHRoaXMuQygpLkooKSkrXCI6XCIpO3RoaXMuUihSLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9Yy5oYXNoKCk7XCJcIiE9PWQmJihhKz1cIjpcIitiK1wiOlwiK2QpfSk7dGhpcy5HYj1cIlwiPT09YT9cIlwiOmxkKGEpfXJldHVybiB0aGlzLkdifTtcbmgud2Y9ZnVuY3Rpb24oYSxiLGMpe3JldHVybihjPVRlKHRoaXMsYykpPyhhPUdjKGMsbmV3IEwoYSxiKSkpP2EubmFtZTpudWxsOkdjKHRoaXMubSxhKX07ZnVuY3Rpb24gV2QoYSxiKXt2YXIgYztjPShjPVRlKGEsYikpPyhjPWMuVmMoKSkmJmMubmFtZTphLm0uVmMoKTtyZXR1cm4gYz9uZXcgTChjLGEubS5nZXQoYykpOm51bGx9ZnVuY3Rpb24gWGQoYSxiKXt2YXIgYztjPShjPVRlKGEsYikpPyhjPWMuamMoKSkmJmMubmFtZTphLm0uamMoKTtyZXR1cm4gYz9uZXcgTChjLGEubS5nZXQoYykpOm51bGx9aC5SPWZ1bmN0aW9uKGEsYil7dmFyIGM9VGUodGhpcyxhKTtyZXR1cm4gYz9jLmthKGZ1bmN0aW9uKGEpe3JldHVybiBiKGEubmFtZSxhLlUpfSk6dGhpcy5tLmthKGIpfTtoLmFjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmJjKGEuV2MoKSxhKX07XG5oLmJjPWZ1bmN0aW9uKGEsYil7dmFyIGM9VGUodGhpcyxiKTtpZihjKXJldHVybiBjLmJjKGEsZnVuY3Rpb24oYSl7cmV0dXJuIGF9KTtmb3IodmFyIGM9dGhpcy5tLmJjKGEubmFtZSx3YyksZD1KYyhjKTtudWxsIT1kJiYwPmIuY29tcGFyZShkLGEpOylJYyhjKSxkPUpjKGMpO3JldHVybiBjfTtoLnhmPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmRjKGEuVGMoKSxhKX07aC5kYz1mdW5jdGlvbihhLGIpe3ZhciBjPVRlKHRoaXMsYik7aWYoYylyZXR1cm4gYy5kYyhhLGZ1bmN0aW9uKGEpe3JldHVybiBhfSk7Zm9yKHZhciBjPXRoaXMubS5kYyhhLm5hbWUsd2MpLGQ9SmMoYyk7bnVsbCE9ZCYmMDxiLmNvbXBhcmUoZCxhKTspSWMoYyksZD1KYyhjKTtyZXR1cm4gY307aC5HYz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lKCk/YS5lKCk/MDotMTphLkwoKXx8YS5lKCk/MTphPT09d2U/LTE6MH07XG5oLnBiPWZ1bmN0aW9uKGEpe2lmKGE9PT1yZXx8c2EodGhpcy5BYi5oYyxhLnRvU3RyaW5nKCkpKXJldHVybiB0aGlzO3ZhciBiPXRoaXMuQWIsYz10aGlzLm07TyhhIT09cmUsXCJLZXlJbmRleCBhbHdheXMgZXhpc3RzIGFuZCBpc24ndCBtZWFudCB0byBiZSBhZGRlZCB0byB0aGUgSW5kZXhNYXAuXCIpO2Zvcih2YXIgZD1bXSxlPSExLGM9Yy5hYyh3YyksZj1JYyhjKTtmOyllPWV8fGEuTGMoZi5VKSxkLnB1c2goZiksZj1JYyhjKTtkPWU/TWUoZCxWZChhKSk6dGU7ZT1hLnRvU3RyaW5nKCk7Yz13YShiLmhjKTtjW2VdPWE7YT13YShiLkVkKTthW2VdPWQ7cmV0dXJuIG5ldyBmZSh0aGlzLm0sdGhpcy5jYSxuZXcgS2UoYSxjKSl9O2guTWM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1yZXx8c2EodGhpcy5BYi5oYyxhLnRvU3RyaW5nKCkpfTtcbmguZWE9ZnVuY3Rpb24oYSl7aWYoYT09PXRoaXMpcmV0dXJuITA7aWYoYS5MKCkpcmV0dXJuITE7aWYodGhpcy5DKCkuZWEoYS5DKCkpJiZ0aGlzLm0uY291bnQoKT09PWEubS5jb3VudCgpKXt2YXIgYj10aGlzLmFjKFIpO2E9YS5hYyhSKTtmb3IodmFyIGM9SWMoYiksZD1JYyhhKTtjJiZkOyl7aWYoYy5uYW1lIT09ZC5uYW1lfHwhYy5VLmVhKGQuVSkpcmV0dXJuITE7Yz1JYyhiKTtkPUljKGEpfXJldHVybiBudWxsPT09YyYmbnVsbD09PWR9cmV0dXJuITF9O2Z1bmN0aW9uIFRlKGEsYil7cmV0dXJuIGI9PT1yZT9udWxsOmEuQWIuZ2V0KGIudG9TdHJpbmcoKSl9aC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiBHKHRoaXMuSighMCkpfTtmdW5jdGlvbiBRKGEsYil7aWYobnVsbD09PWEpcmV0dXJuIEg7dmFyIGM9bnVsbDtcIm9iamVjdFwiPT09dHlwZW9mIGEmJlwiLnByaW9yaXR5XCJpbiBhP2M9YVtcIi5wcmlvcml0eVwiXTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGImJihjPWIpO08obnVsbD09PWN8fFwic3RyaW5nXCI9PT10eXBlb2YgY3x8XCJudW1iZXJcIj09PXR5cGVvZiBjfHxcIm9iamVjdFwiPT09dHlwZW9mIGMmJlwiLnN2XCJpbiBjLFwiSW52YWxpZCBwcmlvcml0eSB0eXBlIGZvdW5kOiBcIit0eXBlb2YgYyk7XCJvYmplY3RcIj09PXR5cGVvZiBhJiZcIi52YWx1ZVwiaW4gYSYmbnVsbCE9PWFbXCIudmFsdWVcIl0mJihhPWFbXCIudmFsdWVcIl0pO2lmKFwib2JqZWN0XCIhPT10eXBlb2YgYXx8XCIuc3ZcImluIGEpcmV0dXJuIG5ldyBZYyhhLFEoYykpO2lmKGEgaW5zdGFuY2VvZiBBcnJheSl7dmFyIGQ9SCxlPWE7dihlLGZ1bmN0aW9uKGEsYil7aWYoeShlLGIpJiZcIi5cIiE9PWIuc3Vic3RyaW5nKDAsMSkpe3ZhciBjPVEoYSk7aWYoYy5MKCl8fCFjLmUoKSlkPVxuZC5XKGIsYyl9fSk7cmV0dXJuIGQuaWEoUShjKSl9dmFyIGY9W10sZz0hMSxrPWE7RmIoayxmdW5jdGlvbihhKXtpZihcInN0cmluZ1wiIT09dHlwZW9mIGF8fFwiLlwiIT09YS5zdWJzdHJpbmcoMCwxKSl7dmFyIGI9UShrW2FdKTtiLmUoKXx8KGc9Z3x8IWIuQygpLmUoKSxmLnB1c2gobmV3IEwoYSxiKSkpfX0pO2lmKDA9PWYubGVuZ3RoKXJldHVybiBIO3ZhciBtPU1lKGYseGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEubmFtZX0semMpO2lmKGcpe3ZhciBsPU1lKGYsVmQoUikpO3JldHVybiBuZXcgZmUobSxRKGMpLG5ldyBLZSh7XCIucHJpb3JpdHlcIjpsfSx7XCIucHJpb3JpdHlcIjpSfSkpfXJldHVybiBuZXcgZmUobSxRKGMpLE9lKX12YXIgVWU9TWF0aC5sb2coMik7XG5mdW5jdGlvbiBWZShhKXt0aGlzLmNvdW50PXBhcnNlSW50KE1hdGgubG9nKGErMSkvVWUsMTApO3RoaXMubmY9dGhpcy5jb3VudC0xO3RoaXMubmc9YSsxJnBhcnNlSW50KEFycmF5KHRoaXMuY291bnQrMSkuam9pbihcIjFcIiksMil9ZnVuY3Rpb24gV2UoYSl7dmFyIGI9IShhLm5nJjE8PGEubmYpO2EubmYtLTtyZXR1cm4gYn1cbmZ1bmN0aW9uIE1lKGEsYixjLGQpe2Z1bmN0aW9uIGUoYixkKXt2YXIgZj1kLWI7aWYoMD09ZilyZXR1cm4gbnVsbDtpZigxPT1mKXt2YXIgbD1hW2JdLHQ9Yz9jKGwpOmw7cmV0dXJuIG5ldyBLYyh0LGwuVSwhMSxudWxsLG51bGwpfXZhciBsPXBhcnNlSW50KGYvMiwxMCkrYixmPWUoYixsKSxBPWUobCsxLGQpLGw9YVtsXSx0PWM/YyhsKTpsO3JldHVybiBuZXcgS2ModCxsLlUsITEsZixBKX1hLnNvcnQoYik7dmFyIGY9ZnVuY3Rpb24oYil7ZnVuY3Rpb24gZChiLGcpe3ZhciBrPXQtYixBPXQ7dC09Yjt2YXIgQT1lKGsrMSxBKSxrPWFba10sST1jP2Moayk6ayxBPW5ldyBLYyhJLGsuVSxnLG51bGwsQSk7Zj9mLmxlZnQ9QTpsPUE7Zj1BfWZvcih2YXIgZj1udWxsLGw9bnVsbCx0PWEubGVuZ3RoLEE9MDtBPGIuY291bnQ7KytBKXt2YXIgST1XZShiKSxRZD1NYXRoLnBvdygyLGIuY291bnQtKEErMSkpO0k/ZChRZCwhMSk6KGQoUWQsITEpLGQoUWQsITApKX1yZXR1cm4gbH0obmV3IFZlKGEubGVuZ3RoKSk7XG5yZXR1cm4gbnVsbCE9PWY/bmV3IEVjKGR8fGIsZik6bmV3IEVjKGR8fGIpfWZ1bmN0aW9uIFJlKGEpe3JldHVyblwibnVtYmVyXCI9PT10eXBlb2YgYT9cIm51bWJlcjpcIitBZChhKTpcInN0cmluZzpcIithfWZ1bmN0aW9uIFBlKGEpe2lmKGEuTCgpKXt2YXIgYj1hLkooKTtPKFwic3RyaW5nXCI9PT10eXBlb2YgYnx8XCJudW1iZXJcIj09PXR5cGVvZiBifHxcIm9iamVjdFwiPT09dHlwZW9mIGImJnkoYixcIi5zdlwiKSxcIlByaW9yaXR5IG11c3QgYmUgYSBzdHJpbmcgb3IgbnVtYmVyLlwiKX1lbHNlIE8oYT09PXdlfHxhLmUoKSxcInByaW9yaXR5IG9mIHVuZXhwZWN0ZWQgdHlwZS5cIik7TyhhPT09d2V8fGEuQygpLmUoKSxcIlByaW9yaXR5IG5vZGVzIGNhbid0IGhhdmUgYSBwcmlvcml0eSBvZiB0aGVpciBvd24uXCIpfXZhciBIPW5ldyBmZShuZXcgRWMoemMpLG51bGwsT2UpO2Z1bmN0aW9uIFhlKCl7ZmUuY2FsbCh0aGlzLG5ldyBFYyh6YyksSCxPZSl9a2EoWGUsZmUpO2g9WGUucHJvdG90eXBlO1xuaC5HYz1mdW5jdGlvbihhKXtyZXR1cm4gYT09PXRoaXM/MDoxfTtoLmVhPWZ1bmN0aW9uKGEpe3JldHVybiBhPT09dGhpc307aC5DPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O2guVD1mdW5jdGlvbigpe3JldHVybiBIfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4hMX07dmFyIHdlPW5ldyBYZSx1ZT1uZXcgTChcIltNSU5fTkFNRV1cIixIKSxBZT1uZXcgTChcIltNQVhfTkFNRV1cIix3ZSk7ZnVuY3Rpb24gamUoYSxiKXt0aGlzLlE9YTt0aGlzLmFlPWJ9ZnVuY3Rpb24gZ2UoYSxiLGMsZCl7cmV0dXJuIG5ldyBqZShuZXcgWGIoYixjLGQpLGEuYWUpfWZ1bmN0aW9uIGtlKGEpe3JldHVybiBhLlEuZ2E/YS5RLmooKTpudWxsfWplLnByb3RvdHlwZS53PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWV9O2Z1bmN0aW9uIFliKGEpe3JldHVybiBhLmFlLmdhP2EuYWUuaigpOm51bGx9O2Z1bmN0aW9uIFllKGEsYil7dGhpcy5ZPWE7dmFyIGM9YS5uLGQ9bmV3IExkKGMuZyksYz1IZShjKT9uZXcgTGQoYy5nKTpjLmxhP25ldyBTZChjKTpuZXcgTWQoYyk7dGhpcy5OZj1uZXcgWmQoYyk7dmFyIGU9Yi53KCksZj1iLlEsZz1kLnlhKEgsZS5qKCksbnVsbCksaz1jLnlhKEgsZi5qKCksbnVsbCk7dGhpcy5PYT1uZXcgamUobmV3IFhiKGssZi5nYSxjLlJhKCkpLG5ldyBYYihnLGUuZ2EsZC5SYSgpKSk7dGhpcy4kYT1bXTt0aGlzLnVnPW5ldyBGZChhKX1mdW5jdGlvbiBaZShhKXtyZXR1cm4gYS5ZfWg9WWUucHJvdG90eXBlO2gudz1mdW5jdGlvbigpe3JldHVybiB0aGlzLk9hLncoKS5qKCl9O2gua2I9ZnVuY3Rpb24oYSl7dmFyIGI9WWIodGhpcy5PYSk7cmV0dXJuIGImJihIZSh0aGlzLlkubil8fCFhLmUoKSYmIWIuVChLKGEpKS5lKCkpP2IuUyhhKTpudWxsfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gMD09PXRoaXMuJGEubGVuZ3RofTtoLlRiPWZ1bmN0aW9uKGEpe3RoaXMuJGEucHVzaChhKX07XG5oLm5iPWZ1bmN0aW9uKGEsYil7dmFyIGM9W107aWYoYil7TyhudWxsPT1hLFwiQSBjYW5jZWwgc2hvdWxkIGNhbmNlbCBhbGwgZXZlbnQgcmVnaXN0cmF0aW9ucy5cIik7dmFyIGQ9dGhpcy5ZLnBhdGg7TWEodGhpcy4kYSxmdW5jdGlvbihhKXsoYT1hLmxmKGIsZCkpJiZjLnB1c2goYSl9KX1pZihhKXtmb3IodmFyIGU9W10sZj0wO2Y8dGhpcy4kYS5sZW5ndGg7KytmKXt2YXIgZz10aGlzLiRhW2ZdO2lmKCFnLm1hdGNoZXMoYSkpZS5wdXNoKGcpO2Vsc2UgaWYoYS55ZigpKXtlPWUuY29uY2F0KHRoaXMuJGEuc2xpY2UoZisxKSk7YnJlYWt9fXRoaXMuJGE9ZX1lbHNlIHRoaXMuJGE9W107cmV0dXJuIGN9O1xuaC5nYj1mdW5jdGlvbihhLGIsYyl7YS50eXBlPT09YmUmJm51bGwhPT1hLnNvdXJjZS5MYiYmKE8oWWIodGhpcy5PYSksXCJXZSBzaG91bGQgYWx3YXlzIGhhdmUgYSBmdWxsIGNhY2hlIGJlZm9yZSBoYW5kbGluZyBtZXJnZXNcIiksTyhrZSh0aGlzLk9hKSxcIk1pc3NpbmcgZXZlbnQgY2FjaGUsIGV2ZW4gdGhvdWdoIHdlIGhhdmUgYSBzZXJ2ZXIgY2FjaGVcIikpO3ZhciBkPXRoaXMuT2E7YT10aGlzLk5mLmdiKGQsYSxiLGMpO2I9dGhpcy5OZjtjPWEubWU7TyhjLlEuaigpLk1jKGIuWC5nKSxcIkV2ZW50IHNuYXAgbm90IGluZGV4ZWRcIik7TyhjLncoKS5qKCkuTWMoYi5YLmcpLFwiU2VydmVyIHNuYXAgbm90IGluZGV4ZWRcIik7TyhsYyhhLm1lLncoKSl8fCFsYyhkLncoKSksXCJPbmNlIGEgc2VydmVyIHNuYXAgaXMgY29tcGxldGUsIGl0IHNob3VsZCBuZXZlciBnbyBiYWNrXCIpO3RoaXMuT2E9YS5tZTtyZXR1cm4gJGUodGhpcyxhLm9nLGEubWUuUS5qKCksbnVsbCl9O1xuZnVuY3Rpb24gYWYoYSxiKXt2YXIgYz1hLk9hLlEsZD1bXTtjLmooKS5MKCl8fGMuaigpLlIoUixmdW5jdGlvbihhLGIpe2QucHVzaChuZXcgSihcImNoaWxkX2FkZGVkXCIsYixhKSl9KTtjLmdhJiZkLnB1c2goaGMoYy5qKCkpKTtyZXR1cm4gJGUoYSxkLGMuaigpLGIpfWZ1bmN0aW9uICRlKGEsYixjLGQpe3JldHVybiBHZChhLnVnLGIsYyxkP1tkXTphLiRhKX07ZnVuY3Rpb24gYmYoYSxiLGMpe3RoaXMudHlwZT1iZTt0aGlzLnNvdXJjZT1hO3RoaXMucGF0aD1iO3RoaXMuY2hpbGRyZW49Y31iZi5wcm90b3R5cGUuJGM9ZnVuY3Rpb24oYSl7aWYodGhpcy5wYXRoLmUoKSlyZXR1cm4gYT10aGlzLmNoaWxkcmVuLnN1YnRyZWUobmV3IFAoYSkpLGEuZSgpP251bGw6YS52YWx1ZT9uZXcgQWModGhpcy5zb3VyY2UsTSxhLnZhbHVlKTpuZXcgYmYodGhpcy5zb3VyY2UsTSxhKTtPKEsodGhpcy5wYXRoKT09PWEsXCJDYW4ndCBnZXQgYSBtZXJnZSBmb3IgYSBjaGlsZCBub3Qgb24gdGhlIHBhdGggb2YgdGhlIG9wZXJhdGlvblwiKTtyZXR1cm4gbmV3IGJmKHRoaXMuc291cmNlLE4odGhpcy5wYXRoKSx0aGlzLmNoaWxkcmVuKX07YmYucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuXCJPcGVyYXRpb24oXCIrdGhpcy5wYXRoK1wiOiBcIit0aGlzLnNvdXJjZS50b1N0cmluZygpK1wiIG1lcmdlOiBcIit0aGlzLmNoaWxkcmVuLnRvU3RyaW5nKCkrXCIpXCJ9O2Z1bmN0aW9uIGNmKGEsYil7dGhpcy5mPXBkKFwicDpyZXN0OlwiKTt0aGlzLkc9YTt0aGlzLktiPWI7dGhpcy5DYT1udWxsO3RoaXMuYmE9e319ZnVuY3Rpb24gZGYoYSxiKXtpZihwKGIpKXJldHVyblwidGFnJFwiK2I7TyhJZShhLm4pLFwic2hvdWxkIGhhdmUgYSB0YWcgaWYgaXQncyBub3QgYSBkZWZhdWx0IHF1ZXJ5LlwiKTtyZXR1cm4gYS5wYXRoLnRvU3RyaW5nKCl9aD1jZi5wcm90b3R5cGU7XG5oLkNmPWZ1bmN0aW9uKGEsYixjLGQpe3ZhciBlPWEucGF0aC50b1N0cmluZygpO3RoaXMuZihcIkxpc3RlbiBjYWxsZWQgZm9yIFwiK2UrXCIgXCIrYS53YSgpKTt2YXIgZj1kZihhLGMpLGc9e307dGhpcy5iYVtmXT1nO2E9SmUoYS5uKTt2YXIgaz10aGlzO2VmKHRoaXMsZStcIi5qc29uXCIsYSxmdW5jdGlvbihhLGIpe3ZhciB0PWI7NDA0PT09YSYmKGE9dD1udWxsKTtudWxsPT09YSYmay5LYihlLHQsITEsYyk7eihrLmJhLGYpPT09ZyYmZChhPzQwMT09YT9cInBlcm1pc3Npb25fZGVuaWVkXCI6XCJyZXN0X2Vycm9yOlwiK2E6XCJva1wiLG51bGwpfSl9O2guJGY9ZnVuY3Rpb24oYSxiKXt2YXIgYz1kZihhLGIpO2RlbGV0ZSB0aGlzLmJhW2NdfTtoLk89ZnVuY3Rpb24oYSxiKXt0aGlzLkNhPWE7dmFyIGM9Q2QoYSksZD1jLmRhdGEsYz1jLkVjJiZjLkVjLmV4cDtiJiZiKFwib2tcIix7YXV0aDpkLGV4cGlyZXM6Y30pfTtoLmplPWZ1bmN0aW9uKGEpe3RoaXMuQ2E9bnVsbDthKFwib2tcIixudWxsKX07XG5oLlFlPWZ1bmN0aW9uKCl7fTtoLkdmPWZ1bmN0aW9uKCl7fTtoLk1kPWZ1bmN0aW9uKCl7fTtoLnB1dD1mdW5jdGlvbigpe307aC5EZj1mdW5jdGlvbigpe307aC5ZZT1mdW5jdGlvbigpe307XG5mdW5jdGlvbiBlZihhLGIsYyxkKXtjPWN8fHt9O2MuZm9ybWF0PVwiZXhwb3J0XCI7YS5DYSYmKGMuYXV0aD1hLkNhKTt2YXIgZT0oYS5HLm9iP1wiaHR0cHM6Ly9cIjpcImh0dHA6Ly9cIikrYS5HLmhvc3QrYitcIj9cIitJYihjKTthLmYoXCJTZW5kaW5nIFJFU1QgcmVxdWVzdCBmb3IgXCIrZSk7dmFyIGY9bmV3IFhNTEh0dHBSZXF1ZXN0O2Yub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoZCYmND09PWYucmVhZHlTdGF0ZSl7YS5mKFwiUkVTVCBSZXNwb25zZSBmb3IgXCIrZStcIiByZWNlaXZlZC4gc3RhdHVzOlwiLGYuc3RhdHVzLFwicmVzcG9uc2U6XCIsZi5yZXNwb25zZVRleHQpO3ZhciBiPW51bGw7aWYoMjAwPD1mLnN0YXR1cyYmMzAwPmYuc3RhdHVzKXt0cnl7Yj1SYihmLnJlc3BvbnNlVGV4dCl9Y2F0Y2goYyl7UyhcIkZhaWxlZCB0byBwYXJzZSBKU09OIHJlc3BvbnNlIGZvciBcIitlK1wiOiBcIitmLnJlc3BvbnNlVGV4dCl9ZChudWxsLGIpfWVsc2UgNDAxIT09Zi5zdGF0dXMmJjQwNCE9PVxuZi5zdGF0dXMmJlMoXCJHb3QgdW5zdWNjZXNzZnVsIFJFU1QgcmVzcG9uc2UgZm9yIFwiK2UrXCIgU3RhdHVzOiBcIitmLnN0YXR1cyksZChmLnN0YXR1cyk7ZD1udWxsfX07Zi5vcGVuKFwiR0VUXCIsZSwhMCk7Zi5zZW5kKCl9O2Z1bmN0aW9uIGZmKGEpe08oZGEoYSkmJjA8YS5sZW5ndGgsXCJSZXF1aXJlcyBhIG5vbi1lbXB0eSBhcnJheVwiKTt0aGlzLmZnPWE7dGhpcy5SYz17fX1mZi5wcm90b3R5cGUuaWU9ZnVuY3Rpb24oYSxiKXt2YXIgYztjPXRoaXMuUmNbYV18fFtdO3ZhciBkPWMubGVuZ3RoO2lmKDA8ZCl7Zm9yKHZhciBlPUFycmF5KGQpLGY9MDtmPGQ7ZisrKWVbZl09Y1tmXTtjPWV9ZWxzZSBjPVtdO2ZvcihkPTA7ZDxjLmxlbmd0aDtkKyspY1tkXS5EYy5hcHBseShjW2RdLlFhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSl9O2ZmLnByb3RvdHlwZS5JYj1mdW5jdGlvbihhLGIsYyl7Z2YodGhpcyxhKTt0aGlzLlJjW2FdPXRoaXMuUmNbYV18fFtdO3RoaXMuUmNbYV0ucHVzaCh7RGM6YixRYTpjfSk7KGE9dGhpcy5FZShhKSkmJmIuYXBwbHkoYyxhKX07XG5mZi5wcm90b3R5cGUubWM9ZnVuY3Rpb24oYSxiLGMpe2dmKHRoaXMsYSk7YT10aGlzLlJjW2FdfHxbXTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKylpZihhW2RdLkRjPT09YiYmKCFjfHxjPT09YVtkXS5RYSkpe2Euc3BsaWNlKGQsMSk7YnJlYWt9fTtmdW5jdGlvbiBnZihhLGIpe08oUmEoYS5mZyxmdW5jdGlvbihhKXtyZXR1cm4gYT09PWJ9KSxcIlVua25vd24gZXZlbnQ6IFwiK2IpfTt2YXIgaGY9ZnVuY3Rpb24oKXt2YXIgYT0wLGI9W107cmV0dXJuIGZ1bmN0aW9uKGMpe3ZhciBkPWM9PT1hO2E9Yztmb3IodmFyIGU9QXJyYXkoOCksZj03OzA8PWY7Zi0tKWVbZl09XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGMlNjQpLGM9TWF0aC5mbG9vcihjLzY0KTtPKDA9PT1jLFwiQ2Fubm90IHB1c2ggYXQgdGltZSA9PSAwXCIpO2M9ZS5qb2luKFwiXCIpO2lmKGQpe2ZvcihmPTExOzA8PWYmJjYzPT09YltmXTtmLS0pYltmXT0wO2JbZl0rK31lbHNlIGZvcihmPTA7MTI+ZjtmKyspYltmXT1NYXRoLmZsb29yKDY0Kk1hdGgucmFuZG9tKCkpO2ZvcihmPTA7MTI+ZjtmKyspYys9XCItMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaX2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCIuY2hhckF0KGJbZl0pO08oMjA9PT1jLmxlbmd0aCxcIm5leHRQdXNoSWQ6IExlbmd0aCBzaG91bGQgYmUgMjAuXCIpO1xucmV0dXJuIGN9fSgpO2Z1bmN0aW9uIGpmKCl7ZmYuY2FsbCh0aGlzLFtcIm9ubGluZVwiXSk7dGhpcy5vYz0hMDtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcil7dmFyIGE9dGhpczt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLGZ1bmN0aW9uKCl7YS5vY3x8KGEub2M9ITAsYS5pZShcIm9ubGluZVwiLCEwKSl9LCExKTt3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIixmdW5jdGlvbigpe2Eub2MmJihhLm9jPSExLGEuaWUoXCJvbmxpbmVcIiwhMSkpfSwhMSl9fWthKGpmLGZmKTtqZi5wcm90b3R5cGUuRWU9ZnVuY3Rpb24oYSl7TyhcIm9ubGluZVwiPT09YSxcIlVua25vd24gZXZlbnQgdHlwZTogXCIrYSk7cmV0dXJuW3RoaXMub2NdfTtiYShqZik7ZnVuY3Rpb24ga2YoKXtmZi5jYWxsKHRoaXMsW1widmlzaWJsZVwiXSk7dmFyIGEsYjtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50JiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXImJihcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LmhpZGRlbj8oYj1cInZpc2liaWxpdHljaGFuZ2VcIixhPVwiaGlkZGVuXCIpOlwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQubW96SGlkZGVuPyhiPVwibW96dmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJtb3pIaWRkZW5cIik6XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudC5tc0hpZGRlbj8oYj1cIm1zdmlzaWJpbGl0eWNoYW5nZVwiLGE9XCJtc0hpZGRlblwiKTpcInVuZGVmaW5lZFwiIT09dHlwZW9mIGRvY3VtZW50LndlYmtpdEhpZGRlbiYmKGI9XCJ3ZWJraXR2aXNpYmlsaXR5Y2hhbmdlXCIsYT1cIndlYmtpdEhpZGRlblwiKSk7dGhpcy5TYj0hMDtpZihiKXt2YXIgYz10aGlzO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoYixcbmZ1bmN0aW9uKCl7dmFyIGI9IWRvY3VtZW50W2FdO2IhPT1jLlNiJiYoYy5TYj1iLGMuaWUoXCJ2aXNpYmxlXCIsYikpfSwhMSl9fWthKGtmLGZmKTtrZi5wcm90b3R5cGUuRWU9ZnVuY3Rpb24oYSl7TyhcInZpc2libGVcIj09PWEsXCJVbmtub3duIGV2ZW50IHR5cGU6IFwiK2EpO3JldHVyblt0aGlzLlNiXX07YmEoa2YpO2Z1bmN0aW9uIFAoYSxiKXtpZigxPT1hcmd1bWVudHMubGVuZ3RoKXt0aGlzLnU9YS5zcGxpdChcIi9cIik7Zm9yKHZhciBjPTAsZD0wO2Q8dGhpcy51Lmxlbmd0aDtkKyspMDx0aGlzLnVbZF0ubGVuZ3RoJiYodGhpcy51W2NdPXRoaXMudVtkXSxjKyspO3RoaXMudS5sZW5ndGg9Yzt0aGlzLmFhPTB9ZWxzZSB0aGlzLnU9YSx0aGlzLmFhPWJ9ZnVuY3Rpb24gbGYoYSxiKXt2YXIgYz1LKGEpO2lmKG51bGw9PT1jKXJldHVybiBiO2lmKGM9PT1LKGIpKXJldHVybiBsZihOKGEpLE4oYikpO3Rocm93IEVycm9yKFwiSU5URVJOQUwgRVJST1I6IGlubmVyUGF0aCAoXCIrYitcIikgaXMgbm90IHdpdGhpbiBvdXRlclBhdGggKFwiK2ErXCIpXCIpO31cbmZ1bmN0aW9uIG1mKGEsYil7Zm9yKHZhciBjPWEuc2xpY2UoKSxkPWIuc2xpY2UoKSxlPTA7ZTxjLmxlbmd0aCYmZTxkLmxlbmd0aDtlKyspe3ZhciBmPXljKGNbZV0sZFtlXSk7aWYoMCE9PWYpcmV0dXJuIGZ9cmV0dXJuIGMubGVuZ3RoPT09ZC5sZW5ndGg/MDpjLmxlbmd0aDxkLmxlbmd0aD8tMToxfWZ1bmN0aW9uIEsoYSl7cmV0dXJuIGEuYWE+PWEudS5sZW5ndGg/bnVsbDphLnVbYS5hYV19ZnVuY3Rpb24gbGUoYSl7cmV0dXJuIGEudS5sZW5ndGgtYS5hYX1mdW5jdGlvbiBOKGEpe3ZhciBiPWEuYWE7YjxhLnUubGVuZ3RoJiZiKys7cmV0dXJuIG5ldyBQKGEudSxiKX1mdW5jdGlvbiBtZShhKXtyZXR1cm4gYS5hYTxhLnUubGVuZ3RoP2EudVthLnUubGVuZ3RoLTFdOm51bGx9aD1QLnByb3RvdHlwZTtcbmgudG9TdHJpbmc9ZnVuY3Rpb24oKXtmb3IodmFyIGE9XCJcIixiPXRoaXMuYWE7Yjx0aGlzLnUubGVuZ3RoO2IrKylcIlwiIT09dGhpcy51W2JdJiYoYSs9XCIvXCIrdGhpcy51W2JdKTtyZXR1cm4gYXx8XCIvXCJ9O2guc2xpY2U9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMudS5zbGljZSh0aGlzLmFhKyhhfHwwKSl9O2gucGFyZW50PWZ1bmN0aW9uKCl7aWYodGhpcy5hYT49dGhpcy51Lmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGE9W10sYj10aGlzLmFhO2I8dGhpcy51Lmxlbmd0aC0xO2IrKylhLnB1c2godGhpcy51W2JdKTtyZXR1cm4gbmV3IFAoYSwwKX07XG5oLm89ZnVuY3Rpb24oYSl7Zm9yKHZhciBiPVtdLGM9dGhpcy5hYTtjPHRoaXMudS5sZW5ndGg7YysrKWIucHVzaCh0aGlzLnVbY10pO2lmKGEgaW5zdGFuY2VvZiBQKWZvcihjPWEuYWE7YzxhLnUubGVuZ3RoO2MrKyliLnB1c2goYS51W2NdKTtlbHNlIGZvcihhPWEuc3BsaXQoXCIvXCIpLGM9MDtjPGEubGVuZ3RoO2MrKykwPGFbY10ubGVuZ3RoJiZiLnB1c2goYVtjXSk7cmV0dXJuIG5ldyBQKGIsMCl9O2guZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmFhPj10aGlzLnUubGVuZ3RofTtoLmVhPWZ1bmN0aW9uKGEpe2lmKGxlKHRoaXMpIT09bGUoYSkpcmV0dXJuITE7Zm9yKHZhciBiPXRoaXMuYWEsYz1hLmFhO2I8PXRoaXMudS5sZW5ndGg7YisrLGMrKylpZih0aGlzLnVbYl0hPT1hLnVbY10pcmV0dXJuITE7cmV0dXJuITB9O1xuaC5jb250YWlucz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmFhLGM9YS5hYTtpZihsZSh0aGlzKT5sZShhKSlyZXR1cm4hMTtmb3IoO2I8dGhpcy51Lmxlbmd0aDspe2lmKHRoaXMudVtiXSE9PWEudVtjXSlyZXR1cm4hMTsrK2I7KytjfXJldHVybiEwfTt2YXIgTT1uZXcgUChcIlwiKTtmdW5jdGlvbiBuZihhLGIpe3RoaXMuVWE9YS5zbGljZSgpO3RoaXMuS2E9TWF0aC5tYXgoMSx0aGlzLlVhLmxlbmd0aCk7dGhpcy5wZj1iO2Zvcih2YXIgYz0wO2M8dGhpcy5VYS5sZW5ndGg7YysrKXRoaXMuS2ErPVBiKHRoaXMuVWFbY10pO29mKHRoaXMpfW5mLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEpezA8dGhpcy5VYS5sZW5ndGgmJih0aGlzLkthKz0xKTt0aGlzLlVhLnB1c2goYSk7dGhpcy5LYSs9UGIoYSk7b2YodGhpcyl9O25mLnByb3RvdHlwZS5wb3A9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLlVhLnBvcCgpO3RoaXMuS2EtPVBiKGEpOzA8dGhpcy5VYS5sZW5ndGgmJi0tdGhpcy5LYX07XG5mdW5jdGlvbiBvZihhKXtpZig3Njg8YS5LYSl0aHJvdyBFcnJvcihhLnBmK1wiaGFzIGEga2V5IHBhdGggbG9uZ2VyIHRoYW4gNzY4IGJ5dGVzIChcIithLkthK1wiKS5cIik7aWYoMzI8YS5VYS5sZW5ndGgpdGhyb3cgRXJyb3IoYS5wZitcInBhdGggc3BlY2lmaWVkIGV4Y2VlZHMgdGhlIG1heGltdW0gZGVwdGggdGhhdCBjYW4gYmUgd3JpdHRlbiAoMzIpIG9yIG9iamVjdCBjb250YWlucyBhIGN5Y2xlIFwiK3BmKGEpKTt9ZnVuY3Rpb24gcGYoYSl7cmV0dXJuIDA9PWEuVWEubGVuZ3RoP1wiXCI6XCJpbiBwcm9wZXJ0eSAnXCIrYS5VYS5qb2luKFwiLlwiKStcIidcIn07ZnVuY3Rpb24gcWYoYSxiKXt0aGlzLnZhbHVlPWE7dGhpcy5jaGlsZHJlbj1ifHxyZn12YXIgcmY9bmV3IEVjKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PT1iPzA6YTxiPy0xOjF9KTtmdW5jdGlvbiBzZihhKXt2YXIgYj1xZTt2KGEsZnVuY3Rpb24oYSxkKXtiPWIuc2V0KG5ldyBQKGQpLGEpfSk7cmV0dXJuIGJ9aD1xZi5wcm90b3R5cGU7aC5lPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGw9PT10aGlzLnZhbHVlJiZ0aGlzLmNoaWxkcmVuLmUoKX07ZnVuY3Rpb24gdGYoYSxiLGMpe2lmKG51bGwhPWEudmFsdWUmJmMoYS52YWx1ZSkpcmV0dXJue3BhdGg6TSx2YWx1ZTphLnZhbHVlfTtpZihiLmUoKSlyZXR1cm4gbnVsbDt2YXIgZD1LKGIpO2E9YS5jaGlsZHJlbi5nZXQoZCk7cmV0dXJuIG51bGwhPT1hPyhiPXRmKGEsTihiKSxjKSxudWxsIT1iP3twYXRoOihuZXcgUChkKSkubyhiLnBhdGgpLHZhbHVlOmIudmFsdWV9Om51bGwpOm51bGx9XG5mdW5jdGlvbiB1ZihhLGIpe3JldHVybiB0ZihhLGIsZnVuY3Rpb24oKXtyZXR1cm4hMH0pfWguc3VidHJlZT1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpczt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChLKGEpKTtyZXR1cm4gbnVsbCE9PWI/Yi5zdWJ0cmVlKE4oYSkpOnFlfTtoLnNldD1mdW5jdGlvbihhLGIpe2lmKGEuZSgpKXJldHVybiBuZXcgcWYoYix0aGlzLmNoaWxkcmVuKTt2YXIgYz1LKGEpLGQ9KHRoaXMuY2hpbGRyZW4uZ2V0KGMpfHxxZSkuc2V0KE4oYSksYiksYz10aGlzLmNoaWxkcmVuLlNhKGMsZCk7cmV0dXJuIG5ldyBxZih0aGlzLnZhbHVlLGMpfTtcbmgucmVtb3ZlPWZ1bmN0aW9uKGEpe2lmKGEuZSgpKXJldHVybiB0aGlzLmNoaWxkcmVuLmUoKT9xZTpuZXcgcWYobnVsbCx0aGlzLmNoaWxkcmVuKTt2YXIgYj1LKGEpLGM9dGhpcy5jaGlsZHJlbi5nZXQoYik7cmV0dXJuIGM/KGE9Yy5yZW1vdmUoTihhKSksYj1hLmUoKT90aGlzLmNoaWxkcmVuLnJlbW92ZShiKTp0aGlzLmNoaWxkcmVuLlNhKGIsYSksbnVsbD09PXRoaXMudmFsdWUmJmIuZSgpP3FlOm5ldyBxZih0aGlzLnZhbHVlLGIpKTp0aGlzfTtoLmdldD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gdGhpcy52YWx1ZTt2YXIgYj10aGlzLmNoaWxkcmVuLmdldChLKGEpKTtyZXR1cm4gYj9iLmdldChOKGEpKTpudWxsfTtcbmZ1bmN0aW9uIHBlKGEsYixjKXtpZihiLmUoKSlyZXR1cm4gYzt2YXIgZD1LKGIpO2I9cGUoYS5jaGlsZHJlbi5nZXQoZCl8fHFlLE4oYiksYyk7ZD1iLmUoKT9hLmNoaWxkcmVuLnJlbW92ZShkKTphLmNoaWxkcmVuLlNhKGQsYik7cmV0dXJuIG5ldyBxZihhLnZhbHVlLGQpfWZ1bmN0aW9uIHZmKGEsYil7cmV0dXJuIHdmKGEsTSxiKX1mdW5jdGlvbiB3ZihhLGIsYyl7dmFyIGQ9e307YS5jaGlsZHJlbi5rYShmdW5jdGlvbihhLGYpe2RbYV09d2YoZixiLm8oYSksYyl9KTtyZXR1cm4gYyhiLGEudmFsdWUsZCl9ZnVuY3Rpb24geGYoYSxiLGMpe3JldHVybiB5ZihhLGIsTSxjKX1mdW5jdGlvbiB5ZihhLGIsYyxkKXt2YXIgZT1hLnZhbHVlP2QoYyxhLnZhbHVlKTohMTtpZihlKXJldHVybiBlO2lmKGIuZSgpKXJldHVybiBudWxsO2U9SyhiKTtyZXR1cm4oYT1hLmNoaWxkcmVuLmdldChlKSk/eWYoYSxOKGIpLGMubyhlKSxkKTpudWxsfVxuZnVuY3Rpb24gemYoYSxiLGMpe0FmKGEsYixNLGMpfWZ1bmN0aW9uIEFmKGEsYixjLGQpe2lmKGIuZSgpKXJldHVybiBhO2EudmFsdWUmJmQoYyxhLnZhbHVlKTt2YXIgZT1LKGIpO3JldHVybihhPWEuY2hpbGRyZW4uZ2V0KGUpKT9BZihhLE4oYiksYy5vKGUpLGQpOnFlfWZ1bmN0aW9uIG5lKGEsYil7QmYoYSxNLGIpfWZ1bmN0aW9uIEJmKGEsYixjKXthLmNoaWxkcmVuLmthKGZ1bmN0aW9uKGEsZSl7QmYoZSxiLm8oYSksYyl9KTthLnZhbHVlJiZjKGIsYS52YWx1ZSl9ZnVuY3Rpb24gQ2YoYSxiKXthLmNoaWxkcmVuLmthKGZ1bmN0aW9uKGEsZCl7ZC52YWx1ZSYmYihhLGQudmFsdWUpfSl9dmFyIHFlPW5ldyBxZihudWxsKTtxZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT17fTtuZSh0aGlzLGZ1bmN0aW9uKGIsYyl7YVtiLnRvU3RyaW5nKCldPWMudG9TdHJpbmcoKX0pO3JldHVybiBHKGEpfTtmdW5jdGlvbiBEZihhLGIsYyl7dGhpcy50eXBlPWVlO3RoaXMuc291cmNlPUVmO3RoaXMucGF0aD1hO3RoaXMuVWI9Yjt0aGlzLllkPWN9RGYucHJvdG90eXBlLiRjPWZ1bmN0aW9uKGEpe2lmKHRoaXMucGF0aC5lKCkpe2lmKG51bGwhPXRoaXMuVWIudmFsdWUpcmV0dXJuIE8odGhpcy5VYi5jaGlsZHJlbi5lKCksXCJhZmZlY3RlZFRyZWUgc2hvdWxkIG5vdCBoYXZlIG92ZXJsYXBwaW5nIGFmZmVjdGVkIHBhdGhzLlwiKSx0aGlzO2E9dGhpcy5VYi5zdWJ0cmVlKG5ldyBQKGEpKTtyZXR1cm4gbmV3IERmKE0sYSx0aGlzLllkKX1PKEsodGhpcy5wYXRoKT09PWEsXCJvcGVyYXRpb25Gb3JDaGlsZCBjYWxsZWQgZm9yIHVucmVsYXRlZCBjaGlsZC5cIik7cmV0dXJuIG5ldyBEZihOKHRoaXMucGF0aCksdGhpcy5VYix0aGlzLllkKX07XG5EZi5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm5cIk9wZXJhdGlvbihcIit0aGlzLnBhdGgrXCI6IFwiK3RoaXMuc291cmNlLnRvU3RyaW5nKCkrXCIgYWNrIHdyaXRlIHJldmVydD1cIit0aGlzLllkK1wiIGFmZmVjdGVkVHJlZT1cIit0aGlzLlViK1wiKVwifTt2YXIgQmM9MCxiZT0xLGVlPTIsRGM9MztmdW5jdGlvbiBGZihhLGIsYyxkKXt0aGlzLkFlPWE7dGhpcy50Zj1iO3RoaXMuTGI9Yzt0aGlzLmVmPWQ7TyghZHx8YixcIlRhZ2dlZCBxdWVyaWVzIG11c3QgYmUgZnJvbSBzZXJ2ZXIuXCIpfXZhciBFZj1uZXcgRmYoITAsITEsbnVsbCwhMSksR2Y9bmV3IEZmKCExLCEwLG51bGwsITEpO0ZmLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLkFlP1widXNlclwiOnRoaXMuZWY/XCJzZXJ2ZXIocXVlcnlJRD1cIit0aGlzLkxiK1wiKVwiOlwic2VydmVyXCJ9O2Z1bmN0aW9uIEhmKGEpe3RoaXMuWj1hfXZhciBJZj1uZXcgSGYobmV3IHFmKG51bGwpKTtmdW5jdGlvbiBKZihhLGIsYyl7aWYoYi5lKCkpcmV0dXJuIG5ldyBIZihuZXcgcWYoYykpO3ZhciBkPXVmKGEuWixiKTtpZihudWxsIT1kKXt2YXIgZT1kLnBhdGgsZD1kLnZhbHVlO2I9bGYoZSxiKTtkPWQuSChiLGMpO3JldHVybiBuZXcgSGYoYS5aLnNldChlLGQpKX1hPXBlKGEuWixiLG5ldyBxZihjKSk7cmV0dXJuIG5ldyBIZihhKX1mdW5jdGlvbiBLZihhLGIsYyl7dmFyIGQ9YTtGYihjLGZ1bmN0aW9uKGEsYyl7ZD1KZihkLGIubyhhKSxjKX0pO3JldHVybiBkfUhmLnByb3RvdHlwZS5VZD1mdW5jdGlvbihhKXtpZihhLmUoKSlyZXR1cm4gSWY7YT1wZSh0aGlzLlosYSxxZSk7cmV0dXJuIG5ldyBIZihhKX07ZnVuY3Rpb24gTGYoYSxiKXt2YXIgYz11ZihhLlosYik7cmV0dXJuIG51bGwhPWM/YS5aLmdldChjLnBhdGgpLlMobGYoYy5wYXRoLGIpKTpudWxsfVxuZnVuY3Rpb24gTWYoYSl7dmFyIGI9W10sYz1hLloudmFsdWU7bnVsbCE9Yz9jLkwoKXx8Yy5SKFIsZnVuY3Rpb24oYSxjKXtiLnB1c2gobmV3IEwoYSxjKSl9KTphLlouY2hpbGRyZW4ua2EoZnVuY3Rpb24oYSxjKXtudWxsIT1jLnZhbHVlJiZiLnB1c2gobmV3IEwoYSxjLnZhbHVlKSl9KTtyZXR1cm4gYn1mdW5jdGlvbiBOZihhLGIpe2lmKGIuZSgpKXJldHVybiBhO3ZhciBjPUxmKGEsYik7cmV0dXJuIG51bGwhPWM/bmV3IEhmKG5ldyBxZihjKSk6bmV3IEhmKGEuWi5zdWJ0cmVlKGIpKX1IZi5wcm90b3R5cGUuZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLlouZSgpfTtIZi5wcm90b3R5cGUuYXBwbHk9ZnVuY3Rpb24oYSl7cmV0dXJuIE9mKE0sdGhpcy5aLGEpfTtcbmZ1bmN0aW9uIE9mKGEsYixjKXtpZihudWxsIT1iLnZhbHVlKXJldHVybiBjLkgoYSxiLnZhbHVlKTt2YXIgZD1udWxsO2IuY2hpbGRyZW4ua2EoZnVuY3Rpb24oYixmKXtcIi5wcmlvcml0eVwiPT09Yj8oTyhudWxsIT09Zi52YWx1ZSxcIlByaW9yaXR5IHdyaXRlcyBtdXN0IGFsd2F5cyBiZSBsZWFmIG5vZGVzXCIpLGQ9Zi52YWx1ZSk6Yz1PZihhLm8oYiksZixjKX0pO2MuUyhhKS5lKCl8fG51bGw9PT1kfHwoYz1jLkgoYS5vKFwiLnByaW9yaXR5XCIpLGQpKTtyZXR1cm4gY307ZnVuY3Rpb24gUGYoKXt0aGlzLlY9SWY7dGhpcy5wYT1bXTt0aGlzLlBjPS0xfWZ1bmN0aW9uIFFmKGEsYil7Zm9yKHZhciBjPTA7YzxhLnBhLmxlbmd0aDtjKyspe3ZhciBkPWEucGFbY107aWYoZC5tZD09PWIpcmV0dXJuIGR9cmV0dXJuIG51bGx9aD1QZi5wcm90b3R5cGU7XG5oLlVkPWZ1bmN0aW9uKGEpe3ZhciBiPVNhKHRoaXMucGEsZnVuY3Rpb24oYil7cmV0dXJuIGIubWQ9PT1hfSk7TygwPD1iLFwicmVtb3ZlV3JpdGUgY2FsbGVkIHdpdGggbm9uZXhpc3RlbnQgd3JpdGVJZC5cIik7dmFyIGM9dGhpcy5wYVtiXTt0aGlzLnBhLnNwbGljZShiLDEpO2Zvcih2YXIgZD1jLnZpc2libGUsZT0hMSxmPXRoaXMucGEubGVuZ3RoLTE7ZCYmMDw9Zjspe3ZhciBnPXRoaXMucGFbZl07Zy52aXNpYmxlJiYoZj49YiYmUmYoZyxjLnBhdGgpP2Q9ITE6Yy5wYXRoLmNvbnRhaW5zKGcucGF0aCkmJihlPSEwKSk7Zi0tfWlmKGQpe2lmKGUpdGhpcy5WPVNmKHRoaXMucGEsVGYsTSksdGhpcy5QYz0wPHRoaXMucGEubGVuZ3RoP3RoaXMucGFbdGhpcy5wYS5sZW5ndGgtMV0ubWQ6LTE7ZWxzZSBpZihjLkphKXRoaXMuVj10aGlzLlYuVWQoYy5wYXRoKTtlbHNle3ZhciBrPXRoaXM7dihjLmNoaWxkcmVuLGZ1bmN0aW9uKGEsYil7ay5WPWsuVi5VZChjLnBhdGgubyhiKSl9KX1yZXR1cm4hMH1yZXR1cm4hMX07XG5oLkFhPWZ1bmN0aW9uKGEsYixjLGQpe2lmKGN8fGQpe3ZhciBlPU5mKHRoaXMuVixhKTtyZXR1cm4hZCYmZS5lKCk/YjpkfHxudWxsIT1ifHxudWxsIT1MZihlLE0pPyhlPVNmKHRoaXMucGEsZnVuY3Rpb24oYil7cmV0dXJuKGIudmlzaWJsZXx8ZCkmJighY3x8ISgwPD1MYShjLGIubWQpKSkmJihiLnBhdGguY29udGFpbnMoYSl8fGEuY29udGFpbnMoYi5wYXRoKSl9LGEpLGI9Ynx8SCxlLmFwcGx5KGIpKTpudWxsfWU9TGYodGhpcy5WLGEpO2lmKG51bGwhPWUpcmV0dXJuIGU7ZT1OZih0aGlzLlYsYSk7cmV0dXJuIGUuZSgpP2I6bnVsbCE9Ynx8bnVsbCE9TGYoZSxNKT8oYj1ifHxILGUuYXBwbHkoYikpOm51bGx9O1xuaC5DYz1mdW5jdGlvbihhLGIpe3ZhciBjPUgsZD1MZih0aGlzLlYsYSk7aWYoZClkLkwoKXx8ZC5SKFIsZnVuY3Rpb24oYSxiKXtjPWMuVyhhLGIpfSk7ZWxzZSBpZihiKXt2YXIgZT1OZih0aGlzLlYsYSk7Yi5SKFIsZnVuY3Rpb24oYSxiKXt2YXIgZD1OZihlLG5ldyBQKGEpKS5hcHBseShiKTtjPWMuVyhhLGQpfSk7TWEoTWYoZSksZnVuY3Rpb24oYSl7Yz1jLlcoYS5uYW1lLGEuVSl9KX1lbHNlIGU9TmYodGhpcy5WLGEpLE1hKE1mKGUpLGZ1bmN0aW9uKGEpe2M9Yy5XKGEubmFtZSxhLlUpfSk7cmV0dXJuIGN9O2gubmQ9ZnVuY3Rpb24oYSxiLGMsZCl7TyhjfHxkLFwiRWl0aGVyIGV4aXN0aW5nRXZlbnRTbmFwIG9yIGV4aXN0aW5nU2VydmVyU25hcCBtdXN0IGV4aXN0XCIpO2E9YS5vKGIpO2lmKG51bGwhPUxmKHRoaXMuVixhKSlyZXR1cm4gbnVsbDthPU5mKHRoaXMuVixhKTtyZXR1cm4gYS5lKCk/ZC5TKGIpOmEuYXBwbHkoZC5TKGIpKX07XG5oLkJjPWZ1bmN0aW9uKGEsYixjKXthPWEubyhiKTt2YXIgZD1MZih0aGlzLlYsYSk7cmV0dXJuIG51bGwhPWQ/ZDpXYihjLGIpP05mKHRoaXMuVixhKS5hcHBseShjLmooKS5UKGIpKTpudWxsfTtoLnhjPWZ1bmN0aW9uKGEpe3JldHVybiBMZih0aGlzLlYsYSl9O2gucWU9ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe3ZhciBnO2E9TmYodGhpcy5WLGEpO2c9TGYoYSxNKTtpZihudWxsPT1nKWlmKG51bGwhPWIpZz1hLmFwcGx5KGIpO2Vsc2UgcmV0dXJuW107Zz1nLnBiKGYpO2lmKGcuZSgpfHxnLkwoKSlyZXR1cm5bXTtiPVtdO2E9VmQoZik7ZT1lP2cuZGMoYyxmKTpnLmJjKGMsZik7Zm9yKGY9SWMoZSk7ZiYmYi5sZW5ndGg8ZDspMCE9PWEoZixjKSYmYi5wdXNoKGYpLGY9SWMoZSk7cmV0dXJuIGJ9O1xuZnVuY3Rpb24gUmYoYSxiKXtyZXR1cm4gYS5KYT9hLnBhdGguY29udGFpbnMoYik6ISF0YShhLmNoaWxkcmVuLGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGEucGF0aC5vKGQpLmNvbnRhaW5zKGIpfSl9ZnVuY3Rpb24gVGYoYSl7cmV0dXJuIGEudmlzaWJsZX1cbmZ1bmN0aW9uIFNmKGEsYixjKXtmb3IodmFyIGQ9SWYsZT0wO2U8YS5sZW5ndGg7KytlKXt2YXIgZj1hW2VdO2lmKGIoZikpe3ZhciBnPWYucGF0aDtpZihmLkphKWMuY29udGFpbnMoZyk/KGc9bGYoYyxnKSxkPUpmKGQsZyxmLkphKSk6Zy5jb250YWlucyhjKSYmKGc9bGYoZyxjKSxkPUpmKGQsTSxmLkphLlMoZykpKTtlbHNlIGlmKGYuY2hpbGRyZW4paWYoYy5jb250YWlucyhnKSlnPWxmKGMsZyksZD1LZihkLGcsZi5jaGlsZHJlbik7ZWxzZXtpZihnLmNvbnRhaW5zKGMpKWlmKGc9bGYoZyxjKSxnLmUoKSlkPUtmKGQsTSxmLmNoaWxkcmVuKTtlbHNlIGlmKGY9eihmLmNoaWxkcmVuLEsoZykpKWY9Zi5TKE4oZykpLGQ9SmYoZCxNLGYpfWVsc2UgdGhyb3cgamQoXCJXcml0ZVJlY29yZCBzaG91bGQgaGF2ZSAuc25hcCBvciAuY2hpbGRyZW5cIik7fX1yZXR1cm4gZH1mdW5jdGlvbiBVZihhLGIpe3RoaXMuUWI9YTt0aGlzLlo9Yn1oPVVmLnByb3RvdHlwZTtcbmguQWE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLlouQWEodGhpcy5RYixhLGIsYyl9O2guQ2M9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuWi5DYyh0aGlzLlFiLGEpfTtoLm5kPWZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gdGhpcy5aLm5kKHRoaXMuUWIsYSxiLGMpfTtoLnhjPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLloueGModGhpcy5RYi5vKGEpKX07aC5xZT1mdW5jdGlvbihhLGIsYyxkLGUpe3JldHVybiB0aGlzLloucWUodGhpcy5RYixhLGIsYyxkLGUpfTtoLkJjPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuWi5CYyh0aGlzLlFiLGEsYil9O2gubz1mdW5jdGlvbihhKXtyZXR1cm4gbmV3IFVmKHRoaXMuUWIubyhhKSx0aGlzLlopfTtmdW5jdGlvbiBWZigpe3RoaXMuY2hpbGRyZW49e307dGhpcy5wZD0wO3RoaXMudmFsdWU9bnVsbH1mdW5jdGlvbiBXZihhLGIsYyl7dGhpcy5KZD1hP2E6XCJcIjt0aGlzLkhhPWI/YjpudWxsO3RoaXMuQT1jP2M6bmV3IFZmfWZ1bmN0aW9uIFhmKGEsYil7Zm9yKHZhciBjPWIgaW5zdGFuY2VvZiBQP2I6bmV3IFAoYiksZD1hLGU7bnVsbCE9PShlPUsoYykpOylkPW5ldyBXZihlLGQseihkLkEuY2hpbGRyZW4sZSl8fG5ldyBWZiksYz1OKGMpO3JldHVybiBkfWg9V2YucHJvdG90eXBlO2guRWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BLnZhbHVlfTtmdW5jdGlvbiBZZihhLGIpe08oXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBiLFwiQ2Fubm90IHNldCB2YWx1ZSB0byB1bmRlZmluZWRcIik7YS5BLnZhbHVlPWI7WmYoYSl9aC5jbGVhcj1mdW5jdGlvbigpe3RoaXMuQS52YWx1ZT1udWxsO3RoaXMuQS5jaGlsZHJlbj17fTt0aGlzLkEucGQ9MDtaZih0aGlzKX07XG5oLnpkPWZ1bmN0aW9uKCl7cmV0dXJuIDA8dGhpcy5BLnBkfTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbD09PXRoaXMuRWEoKSYmIXRoaXMuemQoKX07aC5SPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7dih0aGlzLkEuY2hpbGRyZW4sZnVuY3Rpb24oYyxkKXthKG5ldyBXZihkLGIsYykpfSl9O2Z1bmN0aW9uICRmKGEsYixjLGQpe2MmJiFkJiZiKGEpO2EuUihmdW5jdGlvbihhKXskZihhLGIsITAsZCl9KTtjJiZkJiZiKGEpfWZ1bmN0aW9uIGFnKGEsYil7Zm9yKHZhciBjPWEucGFyZW50KCk7bnVsbCE9PWMmJiFiKGMpOyljPWMucGFyZW50KCl9aC5wYXRoPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQKG51bGw9PT10aGlzLkhhP3RoaXMuSmQ6dGhpcy5IYS5wYXRoKCkrXCIvXCIrdGhpcy5KZCl9O2gubmFtZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLkpkfTtoLnBhcmVudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLkhhfTtcbmZ1bmN0aW9uIFpmKGEpe2lmKG51bGwhPT1hLkhhKXt2YXIgYj1hLkhhLGM9YS5KZCxkPWEuZSgpLGU9eShiLkEuY2hpbGRyZW4sYyk7ZCYmZT8oZGVsZXRlIGIuQS5jaGlsZHJlbltjXSxiLkEucGQtLSxaZihiKSk6ZHx8ZXx8KGIuQS5jaGlsZHJlbltjXT1hLkEsYi5BLnBkKyssWmYoYikpfX07dmFyIGJnPS9bXFxbXFxdLiMkXFwvXFx1MDAwMC1cXHUwMDFGXFx1MDA3Rl0vLGNnPS9bXFxbXFxdLiMkXFx1MDAwMC1cXHUwMDFGXFx1MDA3Rl0vLGRnPS9eW2EtekEtWl1bYS16QS1aLl9cXC0rXSskLztmdW5jdGlvbiBlZyhhKXtyZXR1cm4gcShhKSYmMCE9PWEubGVuZ3RoJiYhYmcudGVzdChhKX1mdW5jdGlvbiBmZyhhKXtyZXR1cm4gbnVsbD09PWF8fHEoYSl8fGZhKGEpJiYhdGQoYSl8fGdhKGEpJiZ5KGEsXCIuc3ZcIil9ZnVuY3Rpb24gZ2coYSxiLGMsZCl7ZCYmIXAoYil8fGhnKEUoYSwxLGQpLGIsYyl9XG5mdW5jdGlvbiBoZyhhLGIsYyl7YyBpbnN0YW5jZW9mIFAmJihjPW5ldyBuZihjLGEpKTtpZighcChiKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgdW5kZWZpbmVkIFwiK3BmKGMpKTtpZihyKGIpKXRocm93IEVycm9yKGErXCJjb250YWlucyBhIGZ1bmN0aW9uIFwiK3BmKGMpK1wiIHdpdGggY29udGVudHM6IFwiK2IudG9TdHJpbmcoKSk7aWYodGQoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIFwiK2IudG9TdHJpbmcoKStcIiBcIitwZihjKSk7aWYocShiKSYmYi5sZW5ndGg+MTA0ODU3NjAvMyYmMTA0ODU3NjA8UGIoYikpdGhyb3cgRXJyb3IoYStcImNvbnRhaW5zIGEgc3RyaW5nIGdyZWF0ZXIgdGhhbiAxMDQ4NTc2MCB1dGY4IGJ5dGVzIFwiK3BmKGMpK1wiICgnXCIrYi5zdWJzdHJpbmcoMCw1MCkrXCIuLi4nKVwiKTtpZihnYShiKSl7dmFyIGQ9ITEsZT0hMTtGYihiLGZ1bmN0aW9uKGIsZyl7aWYoXCIudmFsdWVcIj09PWIpZD0hMDtlbHNlIGlmKFwiLnByaW9yaXR5XCIhPT1iJiZcIi5zdlwiIT09YiYmKGU9XG4hMCwhZWcoYikpKXRocm93IEVycm9yKGErXCIgY29udGFpbnMgYW4gaW52YWxpZCBrZXkgKFwiK2IrXCIpIFwiK3BmKGMpKycuICBLZXlzIG11c3QgYmUgbm9uLWVtcHR5IHN0cmluZ3MgYW5kIGNhblxcJ3QgY29udGFpbiBcIi5cIiwgXCIjXCIsIFwiJFwiLCBcIi9cIiwgXCJbXCIsIG9yIFwiXVwiJyk7Yy5wdXNoKGIpO2hnKGEsZyxjKTtjLnBvcCgpfSk7aWYoZCYmZSl0aHJvdyBFcnJvcihhKycgY29udGFpbnMgXCIudmFsdWVcIiBjaGlsZCAnK3BmKGMpK1wiIGluIGFkZGl0aW9uIHRvIGFjdHVhbCBjaGlsZHJlbi5cIik7fX1cbmZ1bmN0aW9uIGlnKGEsYil7dmFyIGMsZDtmb3IoYz0wO2M8Yi5sZW5ndGg7YysrKXtkPWJbY107Zm9yKHZhciBlPWQuc2xpY2UoKSxmPTA7ZjxlLmxlbmd0aDtmKyspaWYoKFwiLnByaW9yaXR5XCIhPT1lW2ZdfHxmIT09ZS5sZW5ndGgtMSkmJiFlZyhlW2ZdKSl0aHJvdyBFcnJvcihhK1wiY29udGFpbnMgYW4gaW52YWxpZCBrZXkgKFwiK2VbZl0rXCIpIGluIHBhdGggXCIrZC50b1N0cmluZygpKycuIEtleXMgbXVzdCBiZSBub24tZW1wdHkgc3RyaW5ncyBhbmQgY2FuXFwndCBjb250YWluIFwiLlwiLCBcIiNcIiwgXCIkXCIsIFwiL1wiLCBcIltcIiwgb3IgXCJdXCInKTt9Yi5zb3J0KG1mKTtlPW51bGw7Zm9yKGM9MDtjPGIubGVuZ3RoO2MrKyl7ZD1iW2NdO2lmKG51bGwhPT1lJiZlLmNvbnRhaW5zKGQpKXRocm93IEVycm9yKGErXCJjb250YWlucyBhIHBhdGggXCIrZS50b1N0cmluZygpK1wiIHRoYXQgaXMgYW5jZXN0b3Igb2YgYW5vdGhlciBwYXRoIFwiK2QudG9TdHJpbmcoKSk7ZT1kfX1cbmZ1bmN0aW9uIGpnKGEsYixjKXt2YXIgZD1FKGEsMSwhMSk7aWYoIWdhKGIpfHxkYShiKSl0aHJvdyBFcnJvcihkK1wiIG11c3QgYmUgYW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIGNoaWxkcmVuIHRvIHJlcGxhY2UuXCIpO3ZhciBlPVtdO0ZiKGIsZnVuY3Rpb24oYSxiKXt2YXIgaz1uZXcgUChhKTtoZyhkLGIsYy5vKGspKTtpZihcIi5wcmlvcml0eVwiPT09bWUoaykmJiFmZyhiKSl0aHJvdyBFcnJvcihkK1wiY29udGFpbnMgYW4gaW52YWxpZCB2YWx1ZSBmb3IgJ1wiK2sudG9TdHJpbmcoKStcIicsIHdoaWNoIG11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO2UucHVzaChrKX0pO2lnKGQsZSl9XG5mdW5jdGlvbiBrZyhhLGIsYyl7aWYodGQoYykpdGhyb3cgRXJyb3IoRShhLGIsITEpK1wiaXMgXCIrYy50b1N0cmluZygpK1wiLCBidXQgbXVzdCBiZSBhIHZhbGlkIEZpcmViYXNlIHByaW9yaXR5IChhIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsKS5cIik7aWYoIWZnKGMpKXRocm93IEVycm9yKEUoYSxiLCExKStcIm11c3QgYmUgYSB2YWxpZCBGaXJlYmFzZSBwcmlvcml0eSAoYSBzdHJpbmcsIGZpbml0ZSBudW1iZXIsIHNlcnZlciB2YWx1ZSwgb3IgbnVsbCkuXCIpO31cbmZ1bmN0aW9uIGxnKGEsYixjKXtpZighY3x8cChiKSlzd2l0Y2goYil7Y2FzZSBcInZhbHVlXCI6Y2FzZSBcImNoaWxkX2FkZGVkXCI6Y2FzZSBcImNoaWxkX3JlbW92ZWRcIjpjYXNlIFwiY2hpbGRfY2hhbmdlZFwiOmNhc2UgXCJjaGlsZF9tb3ZlZFwiOmJyZWFrO2RlZmF1bHQ6dGhyb3cgRXJyb3IoRShhLDEsYykrJ211c3QgYmUgYSB2YWxpZCBldmVudCB0eXBlOiBcInZhbHVlXCIsIFwiY2hpbGRfYWRkZWRcIiwgXCJjaGlsZF9yZW1vdmVkXCIsIFwiY2hpbGRfY2hhbmdlZFwiLCBvciBcImNoaWxkX21vdmVkXCIuJyk7fX1mdW5jdGlvbiBtZyhhLGIpe2lmKHAoYikmJiFlZyhiKSl0aHJvdyBFcnJvcihFKGEsMiwhMCkrJ3dhcyBhbiBpbnZhbGlkIGtleTogXCInK2IrJ1wiLiAgRmlyZWJhc2Uga2V5cyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCIvXCIsIFwiW1wiLCBvciBcIl1cIikuJyk7fVxuZnVuY3Rpb24gbmcoYSxiKXtpZighcShiKXx8MD09PWIubGVuZ3RofHxjZy50ZXN0KGIpKXRocm93IEVycm9yKEUoYSwxLCExKSsnd2FzIGFuIGludmFsaWQgcGF0aDogXCInK2IrJ1wiLiBQYXRocyBtdXN0IGJlIG5vbi1lbXB0eSBzdHJpbmdzIGFuZCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiJyk7fWZ1bmN0aW9uIG9nKGEsYil7aWYoXCIuaW5mb1wiPT09SyhiKSl0aHJvdyBFcnJvcihhK1wiIGZhaWxlZDogQ2FuJ3QgbW9kaWZ5IGRhdGEgdW5kZXIgLy5pbmZvL1wiKTt9ZnVuY3Rpb24gcGcoYSxiKXtpZighcShiKSl0aHJvdyBFcnJvcihFKGEsMSwhMSkrXCJtdXN0IGJlIGEgdmFsaWQgY3JlZGVudGlhbCAoYSBzdHJpbmcpLlwiKTt9ZnVuY3Rpb24gcWcoYSxiLGMpe2lmKCFxKGMpKXRocm93IEVycm9yKEUoYSxiLCExKStcIm11c3QgYmUgYSB2YWxpZCBzdHJpbmcuXCIpO31cbmZ1bmN0aW9uIHJnKGEsYil7cWcoYSwxLGIpO2lmKCFkZy50ZXN0KGIpKXRocm93IEVycm9yKEUoYSwxLCExKStcIidcIitiK1wiJyBpcyBub3QgYSB2YWxpZCBhdXRoZW50aWNhdGlvbiBwcm92aWRlci5cIik7fWZ1bmN0aW9uIHNnKGEsYixjLGQpe2lmKCFkfHxwKGMpKWlmKCFnYShjKXx8bnVsbD09PWMpdGhyb3cgRXJyb3IoRShhLGIsZCkrXCJtdXN0IGJlIGEgdmFsaWQgb2JqZWN0LlwiKTt9ZnVuY3Rpb24gdGcoYSxiLGMpe2lmKCFnYShiKXx8IXkoYixjKSl0aHJvdyBFcnJvcihFKGEsMSwhMSkrJ211c3QgY29udGFpbiB0aGUga2V5IFwiJytjKydcIicpO2lmKCFxKHooYixjKSkpdGhyb3cgRXJyb3IoRShhLDEsITEpKydtdXN0IGNvbnRhaW4gdGhlIGtleSBcIicrYysnXCIgd2l0aCB0eXBlIFwic3RyaW5nXCInKTt9O2Z1bmN0aW9uIHVnKCl7dGhpcy5zZXQ9e319aD11Zy5wcm90b3R5cGU7aC5hZGQ9ZnVuY3Rpb24oYSxiKXt0aGlzLnNldFthXT1udWxsIT09Yj9iOiEwfTtoLmNvbnRhaW5zPWZ1bmN0aW9uKGEpe3JldHVybiB5KHRoaXMuc2V0LGEpfTtoLmdldD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5jb250YWlucyhhKT90aGlzLnNldFthXTp2b2lkIDB9O2gucmVtb3ZlPWZ1bmN0aW9uKGEpe2RlbGV0ZSB0aGlzLnNldFthXX07aC5jbGVhcj1mdW5jdGlvbigpe3RoaXMuc2V0PXt9fTtoLmU9ZnVuY3Rpb24oKXtyZXR1cm4gdmEodGhpcy5zZXQpfTtoLmNvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIG9hKHRoaXMuc2V0KX07ZnVuY3Rpb24gdmcoYSxiKXt2KGEuc2V0LGZ1bmN0aW9uKGEsZCl7YihkLGEpfSl9aC5rZXlzPWZ1bmN0aW9uKCl7dmFyIGE9W107dih0aGlzLnNldCxmdW5jdGlvbihiLGMpe2EucHVzaChjKX0pO3JldHVybiBhfTtmdW5jdGlvbiBWYygpe3RoaXMubT10aGlzLkI9bnVsbH1WYy5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihudWxsIT10aGlzLkIpcmV0dXJuIHRoaXMuQi5TKGEpO2lmKGEuZSgpfHxudWxsPT10aGlzLm0pcmV0dXJuIG51bGw7dmFyIGI9SyhhKTthPU4oYSk7cmV0dXJuIHRoaXMubS5jb250YWlucyhiKT90aGlzLm0uZ2V0KGIpLmZpbmQoYSk6bnVsbH07VmMucHJvdG90eXBlLnJjPWZ1bmN0aW9uKGEsYil7aWYoYS5lKCkpdGhpcy5CPWIsdGhpcy5tPW51bGw7ZWxzZSBpZihudWxsIT09dGhpcy5CKXRoaXMuQj10aGlzLkIuSChhLGIpO2Vsc2V7bnVsbD09dGhpcy5tJiYodGhpcy5tPW5ldyB1Zyk7dmFyIGM9SyhhKTt0aGlzLm0uY29udGFpbnMoYyl8fHRoaXMubS5hZGQoYyxuZXcgVmMpO2M9dGhpcy5tLmdldChjKTthPU4oYSk7Yy5yYyhhLGIpfX07XG5mdW5jdGlvbiB3ZyhhLGIpe2lmKGIuZSgpKXJldHVybiBhLkI9bnVsbCxhLm09bnVsbCwhMDtpZihudWxsIT09YS5CKXtpZihhLkIuTCgpKXJldHVybiExO3ZhciBjPWEuQjthLkI9bnVsbDtjLlIoUixmdW5jdGlvbihiLGMpe2EucmMobmV3IFAoYiksYyl9KTtyZXR1cm4gd2coYSxiKX1yZXR1cm4gbnVsbCE9PWEubT8oYz1LKGIpLGI9TihiKSxhLm0uY29udGFpbnMoYykmJndnKGEubS5nZXQoYyksYikmJmEubS5yZW1vdmUoYyksYS5tLmUoKT8oYS5tPW51bGwsITApOiExKTohMH1mdW5jdGlvbiBXYyhhLGIsYyl7bnVsbCE9PWEuQj9jKGIsYS5CKTphLlIoZnVuY3Rpb24oYSxlKXt2YXIgZj1uZXcgUChiLnRvU3RyaW5nKCkrXCIvXCIrYSk7V2MoZSxmLGMpfSl9VmMucHJvdG90eXBlLlI9ZnVuY3Rpb24oYSl7bnVsbCE9PXRoaXMubSYmdmcodGhpcy5tLGZ1bmN0aW9uKGIsYyl7YShiLGMpfSl9O3ZhciB4Zz1cImF1dGguZmlyZWJhc2UuY29tXCI7ZnVuY3Rpb24geWcoYSxiLGMpe3RoaXMucWQ9YXx8e307dGhpcy5oZT1ifHx7fTt0aGlzLmZiPWN8fHt9O3RoaXMucWQucmVtZW1iZXJ8fCh0aGlzLnFkLnJlbWVtYmVyPVwiZGVmYXVsdFwiKX12YXIgemc9W1wicmVtZW1iZXJcIixcInJlZGlyZWN0VG9cIl07ZnVuY3Rpb24gQWcoYSl7dmFyIGI9e30sYz17fTtGYihhfHx7fSxmdW5jdGlvbihhLGUpezA8PUxhKHpnLGEpP2JbYV09ZTpjW2FdPWV9KTtyZXR1cm4gbmV3IHlnKGIse30sYyl9O2Z1bmN0aW9uIEJnKGEsYil7dGhpcy5VZT1bXCJzZXNzaW9uXCIsYS5SZCxhLmxjXS5qb2luKFwiOlwiKTt0aGlzLmVlPWJ9QmcucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe2lmKCFiKWlmKHRoaXMuZWUubGVuZ3RoKWI9dGhpcy5lZVswXTtlbHNlIHRocm93IEVycm9yKFwiZmIubG9naW4uU2Vzc2lvbk1hbmFnZXIgOiBObyBzdG9yYWdlIG9wdGlvbnMgYXZhaWxhYmxlIVwiKTtiLnNldCh0aGlzLlVlLGEpfTtCZy5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKCl7dmFyIGE9T2EodGhpcy5lZSx1KHRoaXMuQmcsdGhpcykpLGE9TmEoYSxmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9PWF9KTtWYShhLGZ1bmN0aW9uKGEsYyl7cmV0dXJuIERkKGMudG9rZW4pLURkKGEudG9rZW4pfSk7cmV0dXJuIDA8YS5sZW5ndGg/YS5zaGlmdCgpOm51bGx9O0JnLnByb3RvdHlwZS5CZz1mdW5jdGlvbihhKXt0cnl7dmFyIGI9YS5nZXQodGhpcy5VZSk7aWYoYiYmYi50b2tlbilyZXR1cm4gYn1jYXRjaChjKXt9cmV0dXJuIG51bGx9O1xuQmcucHJvdG90eXBlLmNsZWFyPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcztNYSh0aGlzLmVlLGZ1bmN0aW9uKGIpe2IucmVtb3ZlKGEuVWUpfSl9O2Z1bmN0aW9uIENnKCl7cmV0dXJuXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBuYXZpZ2F0b3ImJlwic3RyaW5nXCI9PT10eXBlb2YgbmF2aWdhdG9yLnVzZXJBZ2VudD9uYXZpZ2F0b3IudXNlckFnZW50OlwiXCJ9ZnVuY3Rpb24gRGcoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmISEod2luZG93LmNvcmRvdmF8fHdpbmRvdy5waG9uZWdhcHx8d2luZG93LlBob25lR2FwKSYmL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoQ2coKSl9ZnVuY3Rpb24gRWcoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT09dHlwZW9mIGxvY2F0aW9uJiYvXmZpbGU6XFwvLy50ZXN0KGxvY2F0aW9uLmhyZWYpfVxuZnVuY3Rpb24gRmcoYSl7dmFyIGI9Q2coKTtpZihcIlwiPT09YilyZXR1cm4hMTtpZihcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiPT09bmF2aWdhdG9yLmFwcE5hbWUpe2lmKChiPWIubWF0Y2goL01TSUUgKFswLTldezEsfVtcXC4wLTldezAsfSkvKSkmJjE8Yi5sZW5ndGgpcmV0dXJuIHBhcnNlRmxvYXQoYlsxXSk+PWF9ZWxzZSBpZigtMTxiLmluZGV4T2YoXCJUcmlkZW50XCIpJiYoYj1iLm1hdGNoKC9ydjooWzAtOV17MiwyfVtcXC4wLTldezAsfSkvKSkmJjE8Yi5sZW5ndGgpcmV0dXJuIHBhcnNlRmxvYXQoYlsxXSk+PWE7cmV0dXJuITF9O2Z1bmN0aW9uIEdnKCl7dmFyIGE9d2luZG93Lm9wZW5lci5mcmFtZXMsYjtmb3IoYj1hLmxlbmd0aC0xOzA8PWI7Yi0tKXRyeXtpZihhW2JdLmxvY2F0aW9uLnByb3RvY29sPT09d2luZG93LmxvY2F0aW9uLnByb3RvY29sJiZhW2JdLmxvY2F0aW9uLmhvc3Q9PT13aW5kb3cubG9jYXRpb24uaG9zdCYmXCJfX3dpbmNoYW5fcmVsYXlfZnJhbWVcIj09PWFbYl0ubmFtZSlyZXR1cm4gYVtiXX1jYXRjaChjKXt9cmV0dXJuIG51bGx9ZnVuY3Rpb24gSGcoYSxiLGMpe2EuYXR0YWNoRXZlbnQ/YS5hdHRhY2hFdmVudChcIm9uXCIrYixjKTphLmFkZEV2ZW50TGlzdGVuZXImJmEuYWRkRXZlbnRMaXN0ZW5lcihiLGMsITEpfWZ1bmN0aW9uIElnKGEsYixjKXthLmRldGFjaEV2ZW50P2EuZGV0YWNoRXZlbnQoXCJvblwiK2IsYyk6YS5yZW1vdmVFdmVudExpc3RlbmVyJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixjLCExKX1cbmZ1bmN0aW9uIEpnKGEpey9eaHR0cHM/OlxcL1xcLy8udGVzdChhKXx8KGE9d2luZG93LmxvY2F0aW9uLmhyZWYpO3ZhciBiPS9eKGh0dHBzPzpcXC9cXC9bXFwtX2EtekEtWlxcLjAtOTpdKykvLmV4ZWMoYSk7cmV0dXJuIGI/YlsxXTphfWZ1bmN0aW9uIEtnKGEpe3ZhciBiPVwiXCI7dHJ5e2E9YS5yZXBsYWNlKC8uKlxcPy8sXCJcIik7dmFyIGM9SmIoYSk7YyYmeShjLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSYmKGI9eihjLFwiX19maXJlYmFzZV9yZXF1ZXN0X2tleVwiKSl9Y2F0Y2goZCl7fXJldHVybiBifWZ1bmN0aW9uIExnKCl7dHJ5e3ZhciBhPWRvY3VtZW50LmxvY2F0aW9uLmhhc2gucmVwbGFjZSgvJl9fZmlyZWJhc2VfcmVxdWVzdF9rZXk9KFthLXpBLXowLTldKikvLFwiXCIpLGE9YS5yZXBsYWNlKC9cXD8kLyxcIlwiKSxhPWEucmVwbGFjZSgvXiMrJC8sXCJcIik7ZG9jdW1lbnQubG9jYXRpb24uaGFzaD1hfWNhdGNoKGIpe319XG5mdW5jdGlvbiBNZygpe3ZhciBhPXNkKHhnKTtyZXR1cm4gYS5zY2hlbWUrXCI6Ly9cIithLmhvc3QrXCIvdjJcIn1mdW5jdGlvbiBOZyhhKXtyZXR1cm4gTWcoKStcIi9cIithK1wiL2F1dGgvY2hhbm5lbFwifTtmdW5jdGlvbiBPZyhhKXt2YXIgYj10aGlzO3RoaXMuaGI9YTt0aGlzLmZlPVwiKlwiO0ZnKDgpP3RoaXMuVWM9dGhpcy5DZD1HZygpOih0aGlzLlVjPXdpbmRvdy5vcGVuZXIsdGhpcy5DZD13aW5kb3cpO2lmKCFiLlVjKXRocm93XCJVbmFibGUgdG8gZmluZCByZWxheSBmcmFtZVwiO0hnKHRoaXMuQ2QsXCJtZXNzYWdlXCIsdSh0aGlzLm5jLHRoaXMpKTtIZyh0aGlzLkNkLFwibWVzc2FnZVwiLHUodGhpcy5GZix0aGlzKSk7dHJ5e1BnKHRoaXMse2E6XCJyZWFkeVwifSl9Y2F0Y2goYyl7SGcodGhpcy5VYyxcImxvYWRcIixmdW5jdGlvbigpe1BnKGIse2E6XCJyZWFkeVwifSl9KX1IZyh3aW5kb3csXCJ1bmxvYWRcIix1KHRoaXMuTWcsdGhpcykpfWZ1bmN0aW9uIFBnKGEsYil7Yj1HKGIpO0ZnKDgpP2EuVWMuZG9Qb3N0KGIsYS5mZSk6YS5VYy5wb3N0TWVzc2FnZShiLGEuZmUpfVxuT2cucHJvdG90eXBlLm5jPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMsYzt0cnl7Yz1SYihhLmRhdGEpfWNhdGNoKGQpe31jJiZcInJlcXVlc3RcIj09PWMuYSYmKElnKHdpbmRvdyxcIm1lc3NhZ2VcIix0aGlzLm5jKSx0aGlzLmZlPWEub3JpZ2luLHRoaXMuaGImJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiLmhiKGIuZmUsYy5kLGZ1bmN0aW9uKGEsYyl7Yi5tZz0hYztiLmhiPXZvaWQgMDtQZyhiLHthOlwicmVzcG9uc2VcIixkOmEsZm9yY2VLZWVwV2luZG93T3BlbjpjfSl9KX0sMCkpfTtPZy5wcm90b3R5cGUuTWc9ZnVuY3Rpb24oKXt0cnl7SWcodGhpcy5DZCxcIm1lc3NhZ2VcIix0aGlzLkZmKX1jYXRjaChhKXt9dGhpcy5oYiYmKFBnKHRoaXMse2E6XCJlcnJvclwiLGQ6XCJ1bmtub3duIGNsb3NlZCB3aW5kb3dcIn0pLHRoaXMuaGI9dm9pZCAwKTt0cnl7d2luZG93LmNsb3NlKCl9Y2F0Y2goYil7fX07T2cucHJvdG90eXBlLkZmPWZ1bmN0aW9uKGEpe2lmKHRoaXMubWcmJlwiZGllXCI9PT1hLmRhdGEpdHJ5e3dpbmRvdy5jbG9zZSgpfWNhdGNoKGIpe319O2Z1bmN0aW9uIFFnKGEpe3RoaXMudGM9RmEoKStGYSgpK0ZhKCk7dGhpcy5LZj1hfVFnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYil7Y2Quc2V0KFwicmVkaXJlY3RfcmVxdWVzdF9pZFwiLHRoaXMudGMpO2NkLnNldChcInJlZGlyZWN0X3JlcXVlc3RfaWRcIix0aGlzLnRjKTtiLnJlcXVlc3RJZD10aGlzLnRjO2IucmVkaXJlY3RUbz1iLnJlZGlyZWN0VG98fHdpbmRvdy5sb2NhdGlvbi5ocmVmO2ErPSgvXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCIpK0liKGIpO3dpbmRvdy5sb2NhdGlvbj1hfTtRZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVybiFFZygpJiYhRGcoKX07UWcucHJvdG90eXBlLkZjPWZ1bmN0aW9uKCl7cmV0dXJuXCJyZWRpcmVjdFwifTt2YXIgUmc9e05FVFdPUktfRVJST1I6XCJVbmFibGUgdG8gY29udGFjdCB0aGUgRmlyZWJhc2Ugc2VydmVyLlwiLFNFUlZFUl9FUlJPUjpcIkFuIHVua25vd24gc2VydmVyIGVycm9yIG9jY3VycmVkLlwiLFRSQU5TUE9SVF9VTkFWQUlMQUJMRTpcIlRoZXJlIGFyZSBubyBsb2dpbiB0cmFuc3BvcnRzIGF2YWlsYWJsZSBmb3IgdGhlIHJlcXVlc3RlZCBtZXRob2QuXCIsUkVRVUVTVF9JTlRFUlJVUFRFRDpcIlRoZSBicm93c2VyIHJlZGlyZWN0ZWQgdGhlIHBhZ2UgYmVmb3JlIHRoZSBsb2dpbiByZXF1ZXN0IGNvdWxkIGNvbXBsZXRlLlwiLFVTRVJfQ0FOQ0VMTEVEOlwiVGhlIHVzZXIgY2FuY2VsbGVkIGF1dGhlbnRpY2F0aW9uLlwifTtmdW5jdGlvbiBTZyhhKXt2YXIgYj1FcnJvcih6KFJnLGEpLGEpO2IuY29kZT1hO3JldHVybiBifTtmdW5jdGlvbiBUZyhhKXt2YXIgYjsoYj0hYS53aW5kb3dfZmVhdHVyZXMpfHwoYj1DZygpLGI9LTEhPT1iLmluZGV4T2YoXCJGZW5uZWMvXCIpfHwtMSE9PWIuaW5kZXhPZihcIkZpcmVmb3gvXCIpJiYtMSE9PWIuaW5kZXhPZihcIkFuZHJvaWRcIikpO2ImJihhLndpbmRvd19mZWF0dXJlcz12b2lkIDApO2Eud2luZG93X25hbWV8fChhLndpbmRvd19uYW1lPVwiX2JsYW5rXCIpO3RoaXMub3B0aW9ucz1hfVxuVGcucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoYSl7ZyYmKGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZyksZz12b2lkIDApO3QmJih0PWNsZWFySW50ZXJ2YWwodCkpO0lnKHdpbmRvdyxcIm1lc3NhZ2VcIixlKTtJZyh3aW5kb3csXCJ1bmxvYWRcIixkKTtpZihsJiYhYSl0cnl7bC5jbG9zZSgpfWNhdGNoKGIpe2sucG9zdE1lc3NhZ2UoXCJkaWVcIixtKX1sPWs9dm9pZCAwfWZ1bmN0aW9uIGUoYSl7aWYoYS5vcmlnaW49PT1tKXRyeXt2YXIgYj1SYihhLmRhdGEpO1wicmVhZHlcIj09PWIuYT9rLnBvc3RNZXNzYWdlKEEsbSk6XCJlcnJvclwiPT09Yi5hPyhkKCExKSxjJiYoYyhiLmQpLGM9bnVsbCkpOlwicmVzcG9uc2VcIj09PWIuYSYmKGQoYi5mb3JjZUtlZXBXaW5kb3dPcGVuKSxjJiYoYyhudWxsLGIuZCksYz1udWxsKSl9Y2F0Y2goZSl7fX12YXIgZj1GZyg4KSxnLGs7aWYoIXRoaXMub3B0aW9ucy5yZWxheV91cmwpcmV0dXJuIGMoRXJyb3IoXCJpbnZhbGlkIGFyZ3VtZW50czogb3JpZ2luIG9mIHVybCBhbmQgcmVsYXlfdXJsIG11c3QgbWF0Y2hcIikpO1xudmFyIG09SmcoYSk7aWYobSE9PUpnKHRoaXMub3B0aW9ucy5yZWxheV91cmwpKWMmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtjKEVycm9yKFwiaW52YWxpZCBhcmd1bWVudHM6IG9yaWdpbiBvZiB1cmwgYW5kIHJlbGF5X3VybCBtdXN0IG1hdGNoXCIpKX0sMCk7ZWxzZXtmJiYoZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpLGcuc2V0QXR0cmlidXRlKFwic3JjXCIsdGhpcy5vcHRpb25zLnJlbGF5X3VybCksZy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiLGcuc2V0QXR0cmlidXRlKFwibmFtZVwiLFwiX193aW5jaGFuX3JlbGF5X2ZyYW1lXCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZyksaz1nLmNvbnRlbnRXaW5kb3cpO2ErPSgvXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCIpK0liKGIpO3ZhciBsPXdpbmRvdy5vcGVuKGEsdGhpcy5vcHRpb25zLndpbmRvd19uYW1lLHRoaXMub3B0aW9ucy53aW5kb3dfZmVhdHVyZXMpO2t8fChrPWwpO3ZhciB0PXNldEludGVydmFsKGZ1bmN0aW9uKCl7bCYmbC5jbG9zZWQmJlxuKGQoITEpLGMmJihjKFNnKFwiVVNFUl9DQU5DRUxMRURcIikpLGM9bnVsbCkpfSw1MDApLEE9Ryh7YTpcInJlcXVlc3RcIixkOmJ9KTtIZyh3aW5kb3csXCJ1bmxvYWRcIixkKTtIZyh3aW5kb3csXCJtZXNzYWdlXCIsZSl9fTtcblRnLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7dmFyIGE7aWYoYT1cInBvc3RNZXNzYWdlXCJpbiB3aW5kb3cmJiFFZygpKShhPURnKCl8fFwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiYoISFDZygpLm1hdGNoKC9XaW5kb3dzIFBob25lLyl8fCEhd2luZG93LldpbmRvd3MmJi9ebXMtYXBweDovLnRlc3QobG9jYXRpb24uaHJlZikpKXx8KGE9Q2coKSxhPVwidW5kZWZpbmVkXCIhPT10eXBlb2YgbmF2aWdhdG9yJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIHdpbmRvdyYmISEoYS5tYXRjaCgvKGlQaG9uZXxpUG9kfGlQYWQpLipBcHBsZVdlYktpdCg/IS4qU2FmYXJpKS9pKXx8YS5tYXRjaCgvQ3JpT1MvKXx8YS5tYXRjaCgvVHdpdHRlciBmb3IgaVBob25lLyl8fGEubWF0Y2goL0ZCQU5cXC9GQklPUy8pfHx3aW5kb3cubmF2aWdhdG9yLnN0YW5kYWxvbmUpKSxhPSFhO3JldHVybiBhJiYhQ2coKS5tYXRjaCgvUGhhbnRvbUpTLyl9O1RnLnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3JldHVyblwicG9wdXBcIn07ZnVuY3Rpb24gVWcoYSl7YS5tZXRob2R8fChhLm1ldGhvZD1cIkdFVFwiKTthLmhlYWRlcnN8fChhLmhlYWRlcnM9e30pO2EuaGVhZGVycy5jb250ZW50X3R5cGV8fChhLmhlYWRlcnMuY29udGVudF90eXBlPVwiYXBwbGljYXRpb24vanNvblwiKTthLmhlYWRlcnMuY29udGVudF90eXBlPWEuaGVhZGVycy5jb250ZW50X3R5cGUudG9Mb3dlckNhc2UoKTt0aGlzLm9wdGlvbnM9YX1cblVnLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBkKCl7YyYmKGMoU2coXCJSRVFVRVNUX0lOVEVSUlVQVEVEXCIpKSxjPW51bGwpfXZhciBlPW5ldyBYTUxIdHRwUmVxdWVzdCxmPXRoaXMub3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKSxnO0hnKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGQpO2Uub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7aWYoYyYmND09PWUucmVhZHlTdGF0ZSl7dmFyIGE7aWYoMjAwPD1lLnN0YXR1cyYmMzAwPmUuc3RhdHVzKXt0cnl7YT1SYihlLnJlc3BvbnNlVGV4dCl9Y2F0Y2goYil7fWMobnVsbCxhKX1lbHNlIDUwMDw9ZS5zdGF0dXMmJjYwMD5lLnN0YXR1cz9jKFNnKFwiU0VSVkVSX0VSUk9SXCIpKTpjKFNnKFwiTkVUV09SS19FUlJPUlwiKSk7Yz1udWxsO0lnKHdpbmRvdyxcImJlZm9yZXVubG9hZFwiLGQpfX07aWYoXCJHRVRcIj09PWYpYSs9KC9cXD8vLnRlc3QoYSk/XCJcIjpcIj9cIikrSWIoYiksZz1udWxsO2Vsc2V7dmFyIGs9dGhpcy5vcHRpb25zLmhlYWRlcnMuY29udGVudF90eXBlO1xuXCJhcHBsaWNhdGlvbi9qc29uXCI9PT1rJiYoZz1HKGIpKTtcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiPT09ayYmKGc9SWIoYikpfWUub3BlbihmLGEsITApO2E9e1wiWC1SZXF1ZXN0ZWQtV2l0aFwiOlwiWE1MSHR0cFJlcXVlc3RcIixBY2NlcHQ6XCJhcHBsaWNhdGlvbi9qc29uO3RleHQvcGxhaW5cIn07eWEoYSx0aGlzLm9wdGlvbnMuaGVhZGVycyk7Zm9yKHZhciBtIGluIGEpZS5zZXRSZXF1ZXN0SGVhZGVyKG0sYVttXSk7ZS5zZW5kKGcpfTtVZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3ZhciBhO2lmKGE9ISF3aW5kb3cuWE1MSHR0cFJlcXVlc3QpYT1DZygpLGE9IShhLm1hdGNoKC9NU0lFLyl8fGEubWF0Y2goL1RyaWRlbnQvKSl8fEZnKDEwKTtyZXR1cm4gYX07VWcucHJvdG90eXBlLkZjPWZ1bmN0aW9uKCl7cmV0dXJuXCJqc29uXCJ9O2Z1bmN0aW9uIFZnKGEpe3RoaXMudGM9RmEoKStGYSgpK0ZhKCk7dGhpcy5LZj1hfVxuVmcucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiLGMpe2Z1bmN0aW9uIGQoKXtjJiYoYyhTZyhcIlVTRVJfQ0FOQ0VMTEVEXCIpKSxjPW51bGwpfXZhciBlPXRoaXMsZj1zZCh4ZyksZztiLnJlcXVlc3RJZD10aGlzLnRjO2IucmVkaXJlY3RUbz1mLnNjaGVtZStcIjovL1wiK2YuaG9zdCtcIi9ibGFuay9wYWdlLmh0bWxcIjthKz0vXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCI7YSs9SWIoYik7KGc9d2luZG93Lm9wZW4oYSxcIl9ibGFua1wiLFwibG9jYXRpb249bm9cIikpJiZyKGcuYWRkRXZlbnRMaXN0ZW5lcik/KGcuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRzdGFydFwiLGZ1bmN0aW9uKGEpe3ZhciBiO2lmKGI9YSYmYS51cmwpYTp7dHJ5e3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpO2wuaHJlZj1hLnVybDtiPWwuaG9zdD09PWYuaG9zdCYmXCIvYmxhbmsvcGFnZS5odG1sXCI9PT1sLnBhdGhuYW1lO2JyZWFrIGF9Y2F0Y2godCl7fWI9ITF9YiYmKGE9S2coYS51cmwpLGcucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImV4aXRcIixcbmQpLGcuY2xvc2UoKSxhPW5ldyB5ZyhudWxsLG51bGwse3JlcXVlc3RJZDplLnRjLHJlcXVlc3RLZXk6YX0pLGUuS2YucmVxdWVzdFdpdGhDcmVkZW50aWFsKFwiL2F1dGgvc2Vzc2lvblwiLGEsYyksYz1udWxsKX0pLGcuYWRkRXZlbnRMaXN0ZW5lcihcImV4aXRcIixkKSk6YyhTZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSl9O1ZnLmlzQXZhaWxhYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIERnKCl9O1ZnLnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3JldHVyblwicmVkaXJlY3RcIn07ZnVuY3Rpb24gV2coYSl7YS5jYWxsYmFja19wYXJhbWV0ZXJ8fChhLmNhbGxiYWNrX3BhcmFtZXRlcj1cImNhbGxiYWNrXCIpO3RoaXMub3B0aW9ucz1hO3dpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnA9d2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucHx8e319XG5XZy5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIsYyl7ZnVuY3Rpb24gZCgpe2MmJihjKFNnKFwiUkVRVUVTVF9JTlRFUlJVUFRFRFwiKSksYz1udWxsKX1mdW5jdGlvbiBlKCl7c2V0VGltZW91dChmdW5jdGlvbigpe3dpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnBbZl09dm9pZCAwO3ZhKHdpbmRvdy5fX2ZpcmViYXNlX2F1dGhfanNvbnApJiYod2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucD12b2lkIDApO3RyeXt2YXIgYT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChmKTthJiZhLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYSl9Y2F0Y2goYil7fX0sMSk7SWcod2luZG93LFwiYmVmb3JldW5sb2FkXCIsZCl9dmFyIGY9XCJmblwiKyhuZXcgRGF0ZSkuZ2V0VGltZSgpK01hdGguZmxvb3IoOTk5OTkqTWF0aC5yYW5kb20oKSk7Ylt0aGlzLm9wdGlvbnMuY2FsbGJhY2tfcGFyYW1ldGVyXT1cIl9fZmlyZWJhc2VfYXV0aF9qc29ucC5cIitmO2ErPSgvXFw/Ly50ZXN0KGEpP1wiXCI6XCI/XCIpK0liKGIpO1xuSGcod2luZG93LFwiYmVmb3JldW5sb2FkXCIsZCk7d2luZG93Ll9fZmlyZWJhc2VfYXV0aF9qc29ucFtmXT1mdW5jdGlvbihhKXtjJiYoYyhudWxsLGEpLGM9bnVsbCk7ZSgpfTtYZyhmLGEsYyl9O1xuZnVuY3Rpb24gWGcoYSxiLGMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtkLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIjtkLmlkPWE7ZC5hc3luYz0hMDtkLnNyYz1iO2Qub25lcnJvcj1mdW5jdGlvbigpe3ZhciBiPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGEpO251bGwhPT1iJiZiLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYik7YyYmYyhTZyhcIk5FVFdPUktfRVJST1JcIikpfTt2YXIgZT1kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIik7KGUmJjAhPWUubGVuZ3RoP2VbMF06ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KS5hcHBlbmRDaGlsZChkKX1jYXRjaChmKXtjJiZjKFNnKFwiTkVUV09SS19FUlJPUlwiKSl9fSwwKX1XZy5pc0F2YWlsYWJsZT1mdW5jdGlvbigpe3JldHVyblwidW5kZWZpbmVkXCIhPT10eXBlb2YgZG9jdW1lbnQmJm51bGwhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnR9O1xuV2cucHJvdG90eXBlLkZjPWZ1bmN0aW9uKCl7cmV0dXJuXCJqc29uXCJ9O2Z1bmN0aW9uIFlnKGEsYixjLGQpe2ZmLmNhbGwodGhpcyxbXCJhdXRoX3N0YXR1c1wiXSk7dGhpcy5HPWE7dGhpcy5oZj1iO3RoaXMuaGg9Yzt0aGlzLlBlPWQ7dGhpcy53Yz1uZXcgQmcoYSxbYmQsY2RdKTt0aGlzLnFiPW51bGw7dGhpcy5XZT0hMTtaZyh0aGlzKX1rYShZZyxmZik7aD1ZZy5wcm90b3R5cGU7aC5CZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLnFifHxudWxsfTtmdW5jdGlvbiBaZyhhKXtjZC5nZXQoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIpJiYkZyhhKTt2YXIgYj1hLndjLmdldCgpO2ImJmIudG9rZW4/KGFoKGEsYiksYS5oZihiLnRva2VuLGZ1bmN0aW9uKGMsZCl7YmgoYSxjLGQsITEsYi50b2tlbixiKX0sZnVuY3Rpb24oYixkKXtjaChhLFwicmVzdW1lU2Vzc2lvbigpXCIsYixkKX0pKTphaChhLG51bGwpfVxuZnVuY3Rpb24gZGgoYSxiLGMsZCxlLGYpe1wiZmlyZWJhc2Vpby1kZW1vLmNvbVwiPT09YS5HLmRvbWFpbiYmUyhcIkZpcmViYXNlIGF1dGhlbnRpY2F0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgb24gZGVtbyBGaXJlYmFzZXMgKCouZmlyZWJhc2Vpby1kZW1vLmNvbSkuIFRvIHNlY3VyZSB5b3VyIEZpcmViYXNlLCBjcmVhdGUgYSBwcm9kdWN0aW9uIEZpcmViYXNlIGF0IGh0dHBzOi8vd3d3LmZpcmViYXNlLmNvbS5cIik7YS5oZihiLGZ1bmN0aW9uKGYsayl7YmgoYSxmLGssITAsYixjLGR8fHt9LGUpfSxmdW5jdGlvbihiLGMpe2NoKGEsXCJhdXRoKClcIixiLGMsZil9KX1mdW5jdGlvbiBlaChhLGIpe2Eud2MuY2xlYXIoKTthaChhLG51bGwpO2EuaGgoZnVuY3Rpb24oYSxkKXtpZihcIm9rXCI9PT1hKVQoYixudWxsKTtlbHNle3ZhciBlPShhfHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCksZj1lO2QmJihmKz1cIjogXCIrZCk7Zj1FcnJvcihmKTtmLmNvZGU9ZTtUKGIsZil9fSl9XG5mdW5jdGlvbiBiaChhLGIsYyxkLGUsZixnLGspe1wib2tcIj09PWI/KGQmJihiPWMuYXV0aCxmLmF1dGg9YixmLmV4cGlyZXM9Yy5leHBpcmVzLGYudG9rZW49RWQoZSk/ZTpcIlwiLGM9bnVsbCxiJiZ5KGIsXCJ1aWRcIik/Yz16KGIsXCJ1aWRcIik6eShmLFwidWlkXCIpJiYoYz16KGYsXCJ1aWRcIikpLGYudWlkPWMsYz1cImN1c3RvbVwiLGImJnkoYixcInByb3ZpZGVyXCIpP2M9eihiLFwicHJvdmlkZXJcIik6eShmLFwicHJvdmlkZXJcIikmJihjPXooZixcInByb3ZpZGVyXCIpKSxmLnByb3ZpZGVyPWMsYS53Yy5jbGVhcigpLEVkKGUpJiYoZz1nfHx7fSxjPWJkLFwic2Vzc2lvbk9ubHlcIj09PWcucmVtZW1iZXImJihjPWNkKSxcIm5vbmVcIiE9PWcucmVtZW1iZXImJmEud2Muc2V0KGYsYykpLGFoKGEsZikpLFQoayxudWxsLGYpKTooYS53Yy5jbGVhcigpLGFoKGEsbnVsbCksZj1hPShifHxcImVycm9yXCIpLnRvVXBwZXJDYXNlKCksYyYmKGYrPVwiOiBcIitjKSxmPUVycm9yKGYpLGYuY29kZT1hLFQoayxmKSl9XG5mdW5jdGlvbiBjaChhLGIsYyxkLGUpe1MoYitcIiB3YXMgY2FuY2VsZWQ6IFwiK2QpO2Eud2MuY2xlYXIoKTthaChhLG51bGwpO2E9RXJyb3IoZCk7YS5jb2RlPWMudG9VcHBlckNhc2UoKTtUKGUsYSl9ZnVuY3Rpb24gZmgoYSxiLGMsZCxlKXtnaChhKTtjPW5ldyB5ZyhkfHx7fSx7fSxjfHx7fSk7aGgoYSxbVWcsV2ddLFwiL2F1dGgvXCIrYixjLGUpfVxuZnVuY3Rpb24gaWgoYSxiLGMsZCl7Z2goYSk7dmFyIGU9W1RnLFZnXTtjPUFnKGMpO1wiYW5vbnltb3VzXCI9PT1ifHxcInBhc3N3b3JkXCI9PT1iP3NldFRpbWVvdXQoZnVuY3Rpb24oKXtUKGQsU2coXCJUUkFOU1BPUlRfVU5BVkFJTEFCTEVcIikpfSwwKTooYy5oZS53aW5kb3dfZmVhdHVyZXM9XCJtZW51YmFyPXllcyxtb2RhbD15ZXMsYWx3YXlzUmFpc2VkPXllc2xvY2F0aW9uPXllcyxyZXNpemFibGU9eWVzLHNjcm9sbGJhcnM9eWVzLHN0YXR1cz15ZXMsaGVpZ2h0PTYyNSx3aWR0aD02MjUsdG9wPVwiKyhcIm9iamVjdFwiPT09dHlwZW9mIHNjcmVlbj8uNSooc2NyZWVuLmhlaWdodC02MjUpOjApK1wiLGxlZnQ9XCIrKFwib2JqZWN0XCI9PT10eXBlb2Ygc2NyZWVuPy41KihzY3JlZW4ud2lkdGgtNjI1KTowKSxjLmhlLnJlbGF5X3VybD1OZyhhLkcubGMpLGMuaGUucmVxdWVzdFdpdGhDcmVkZW50aWFsPXUoYS51YyxhKSxoaChhLGUsXCIvYXV0aC9cIitiLGMsZCkpfVxuZnVuY3Rpb24gJGcoYSl7dmFyIGI9Y2QuZ2V0KFwicmVkaXJlY3RfcmVxdWVzdF9pZFwiKTtpZihiKXt2YXIgYz1jZC5nZXQoXCJyZWRpcmVjdF9jbGllbnRfb3B0aW9uc1wiKTtjZC5yZW1vdmUoXCJyZWRpcmVjdF9yZXF1ZXN0X2lkXCIpO2NkLnJlbW92ZShcInJlZGlyZWN0X2NsaWVudF9vcHRpb25zXCIpO3ZhciBkPVtVZyxXZ10sYj17cmVxdWVzdElkOmIscmVxdWVzdEtleTpLZyhkb2N1bWVudC5sb2NhdGlvbi5oYXNoKX0sYz1uZXcgeWcoYyx7fSxiKTthLldlPSEwO0xnKCk7aGgoYSxkLFwiL2F1dGgvc2Vzc2lvblwiLGMsZnVuY3Rpb24oKXt0aGlzLldlPSExfS5iaW5kKGEpKX19aC52ZT1mdW5jdGlvbihhLGIpe2doKHRoaXMpO3ZhciBjPUFnKGEpO2MuZmIuX21ldGhvZD1cIlBPU1RcIjt0aGlzLnVjKFwiL3VzZXJzXCIsYyxmdW5jdGlvbihhLGMpe2E/VChiLGEpOlQoYixhLGMpfSl9O1xuaC5YZT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7Z2godGhpcyk7dmFyIGQ9XCIvdXNlcnMvXCIrZW5jb2RlVVJJQ29tcG9uZW50KGEuZW1haWwpLGU9QWcoYSk7ZS5mYi5fbWV0aG9kPVwiREVMRVRFXCI7dGhpcy51YyhkLGUsZnVuY3Rpb24oYSxkKXshYSYmZCYmZC51aWQmJmMucWImJmMucWIudWlkJiZjLnFiLnVpZD09PWQudWlkJiZlaChjKTtUKGIsYSl9KX07aC5zZT1mdW5jdGlvbihhLGIpe2doKHRoaXMpO3ZhciBjPVwiL3VzZXJzL1wiK2VuY29kZVVSSUNvbXBvbmVudChhLmVtYWlsKStcIi9wYXNzd29yZFwiLGQ9QWcoYSk7ZC5mYi5fbWV0aG9kPVwiUFVUXCI7ZC5mYi5wYXNzd29yZD1hLm5ld1Bhc3N3b3JkO3RoaXMudWMoYyxkLGZ1bmN0aW9uKGEpe1QoYixhKX0pfTtcbmgucmU9ZnVuY3Rpb24oYSxiKXtnaCh0aGlzKTt2YXIgYz1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQoYS5vbGRFbWFpbCkrXCIvZW1haWxcIixkPUFnKGEpO2QuZmIuX21ldGhvZD1cIlBVVFwiO2QuZmIuZW1haWw9YS5uZXdFbWFpbDtkLmZiLnBhc3N3b3JkPWEucGFzc3dvcmQ7dGhpcy51YyhjLGQsZnVuY3Rpb24oYSl7VChiLGEpfSl9O2guWmU9ZnVuY3Rpb24oYSxiKXtnaCh0aGlzKTt2YXIgYz1cIi91c2Vycy9cIitlbmNvZGVVUklDb21wb25lbnQoYS5lbWFpbCkrXCIvcGFzc3dvcmRcIixkPUFnKGEpO2QuZmIuX21ldGhvZD1cIlBPU1RcIjt0aGlzLnVjKGMsZCxmdW5jdGlvbihhKXtUKGIsYSl9KX07aC51Yz1mdW5jdGlvbihhLGIsYyl7amgodGhpcyxbVWcsV2ddLGEsYixjKX07XG5mdW5jdGlvbiBoaChhLGIsYyxkLGUpe2poKGEsYixjLGQsZnVuY3Rpb24oYixjKXshYiYmYyYmYy50b2tlbiYmYy51aWQ/ZGgoYSxjLnRva2VuLGMsZC5xZCxmdW5jdGlvbihhLGIpe2E/VChlLGEpOlQoZSxudWxsLGIpfSk6VChlLGJ8fFNnKFwiVU5LTk9XTl9FUlJPUlwiKSl9KX1cbmZ1bmN0aW9uIGpoKGEsYixjLGQsZSl7Yj1OYShiLGZ1bmN0aW9uKGEpe3JldHVyblwiZnVuY3Rpb25cIj09PXR5cGVvZiBhLmlzQXZhaWxhYmxlJiZhLmlzQXZhaWxhYmxlKCl9KTswPT09Yi5sZW5ndGg/c2V0VGltZW91dChmdW5jdGlvbigpe1QoZSxTZyhcIlRSQU5TUE9SVF9VTkFWQUlMQUJMRVwiKSl9LDApOihiPW5ldyAoYi5zaGlmdCgpKShkLmhlKSxkPUdiKGQuZmIpLGQudj1cImpzLVwiK0ViLGQudHJhbnNwb3J0PWIuRmMoKSxkLnN1cHByZXNzX3N0YXR1c19jb2Rlcz0hMCxhPU1nKCkrXCIvXCIrYS5HLmxjK2MsYi5vcGVuKGEsZCxmdW5jdGlvbihhLGIpe2lmKGEpVChlLGEpO2Vsc2UgaWYoYiYmYi5lcnJvcil7dmFyIGM9RXJyb3IoYi5lcnJvci5tZXNzYWdlKTtjLmNvZGU9Yi5lcnJvci5jb2RlO2MuZGV0YWlscz1iLmVycm9yLmRldGFpbHM7VChlLGMpfWVsc2UgVChlLG51bGwsYil9KSl9XG5mdW5jdGlvbiBhaChhLGIpe3ZhciBjPW51bGwhPT1hLnFifHxudWxsIT09YjthLnFiPWI7YyYmYS5pZShcImF1dGhfc3RhdHVzXCIsYik7YS5QZShudWxsIT09Yil9aC5FZT1mdW5jdGlvbihhKXtPKFwiYXV0aF9zdGF0dXNcIj09PWEsJ2luaXRpYWwgZXZlbnQgbXVzdCBiZSBvZiB0eXBlIFwiYXV0aF9zdGF0dXNcIicpO3JldHVybiB0aGlzLldlP251bGw6W3RoaXMucWJdfTtmdW5jdGlvbiBnaChhKXt2YXIgYj1hLkc7aWYoXCJmaXJlYmFzZWlvLmNvbVwiIT09Yi5kb21haW4mJlwiZmlyZWJhc2Vpby1kZW1vLmNvbVwiIT09Yi5kb21haW4mJlwiYXV0aC5maXJlYmFzZS5jb21cIj09PXhnKXRocm93IEVycm9yKFwiVGhpcyBjdXN0b20gRmlyZWJhc2Ugc2VydmVyICgnXCIrYS5HLmRvbWFpbitcIicpIGRvZXMgbm90IHN1cHBvcnQgZGVsZWdhdGVkIGxvZ2luLlwiKTt9O3ZhciBnZD1cIndlYnNvY2tldFwiLGhkPVwibG9uZ19wb2xsaW5nXCI7ZnVuY3Rpb24ga2goYSl7dGhpcy5uYz1hO3RoaXMuUWQ9W107dGhpcy5XYj0wO3RoaXMudGU9LTE7dGhpcy5KYj1udWxsfWZ1bmN0aW9uIGxoKGEsYixjKXthLnRlPWI7YS5KYj1jO2EudGU8YS5XYiYmKGEuSmIoKSxhLkpiPW51bGwpfWZ1bmN0aW9uIG1oKGEsYixjKXtmb3IoYS5RZFtiXT1jO2EuUWRbYS5XYl07KXt2YXIgZD1hLlFkW2EuV2JdO2RlbGV0ZSBhLlFkW2EuV2JdO2Zvcih2YXIgZT0wO2U8ZC5sZW5ndGg7KytlKWlmKGRbZV0pe3ZhciBmPWE7Z2MoZnVuY3Rpb24oKXtmLm5jKGRbZV0pfSl9aWYoYS5XYj09PWEudGUpe2EuSmImJihjbGVhclRpbWVvdXQoYS5KYiksYS5KYigpLGEuSmI9bnVsbCk7YnJlYWt9YS5XYisrfX07ZnVuY3Rpb24gbmgoYSxiLGMsZCl7dGhpcy51ZT1hO3RoaXMuZj1wZChhKTt0aGlzLnJiPXRoaXMuc2I9MDt0aGlzLlhhPXVjKGIpO3RoaXMuWGY9Yzt0aGlzLktjPSExO3RoaXMuRmI9ZDt0aGlzLmxkPWZ1bmN0aW9uKGEpe3JldHVybiBmZChiLGhkLGEpfX12YXIgb2gscGg7XG5uaC5wcm90b3R5cGUub3Blbj1mdW5jdGlvbihhLGIpe3RoaXMubWY9MDt0aGlzLm5hPWI7dGhpcy5FZj1uZXcga2goYSk7dGhpcy5EYj0hMTt2YXIgYz10aGlzO3RoaXMudWI9c2V0VGltZW91dChmdW5jdGlvbigpe2MuZihcIlRpbWVkIG91dCB0cnlpbmcgdG8gY29ubmVjdC5cIik7Yy5iYigpO2MudWI9bnVsbH0sTWF0aC5mbG9vcigzRTQpKTt1ZChmdW5jdGlvbigpe2lmKCFjLkRiKXtjLldhPW5ldyBxaChmdW5jdGlvbihhLGIsZCxrLG0pe3JoKGMsYXJndW1lbnRzKTtpZihjLldhKWlmKGMudWImJihjbGVhclRpbWVvdXQoYy51YiksYy51Yj1udWxsKSxjLktjPSEwLFwic3RhcnRcIj09YSljLmlkPWIsYy5NZj1kO2Vsc2UgaWYoXCJjbG9zZVwiPT09YSliPyhjLldhLiRkPSExLGxoKGMuRWYsYixmdW5jdGlvbigpe2MuYmIoKX0pKTpjLmJiKCk7ZWxzZSB0aHJvdyBFcnJvcihcIlVucmVjb2duaXplZCBjb21tYW5kIHJlY2VpdmVkOiBcIithKTt9LGZ1bmN0aW9uKGEsYil7cmgoYyxhcmd1bWVudHMpO1xubWgoYy5FZixhLGIpfSxmdW5jdGlvbigpe2MuYmIoKX0sYy5sZCk7dmFyIGE9e3N0YXJ0OlwidFwifTthLnNlcj1NYXRoLmZsb29yKDFFOCpNYXRoLnJhbmRvbSgpKTtjLldhLmtlJiYoYS5jYj1jLldhLmtlKTthLnY9XCI1XCI7Yy5YZiYmKGEucz1jLlhmKTtjLkZiJiYoYS5scz1jLkZiKTtcInVuZGVmaW5lZFwiIT09dHlwZW9mIGxvY2F0aW9uJiZsb2NhdGlvbi5ocmVmJiYtMSE9PWxvY2F0aW9uLmhyZWYuaW5kZXhPZihcImZpcmViYXNlaW8uY29tXCIpJiYoYS5yPVwiZlwiKTthPWMubGQoYSk7Yy5mKFwiQ29ubmVjdGluZyB2aWEgbG9uZy1wb2xsIHRvIFwiK2EpO3NoKGMuV2EsYSxmdW5jdGlvbigpe30pfX0pfTtcbm5oLnByb3RvdHlwZS5zdGFydD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuV2EsYj10aGlzLk1mO2EuRmc9dGhpcy5pZDthLkdnPWI7Zm9yKGEub2U9ITA7dGgoYSk7KTthPXRoaXMuaWQ7Yj10aGlzLk1mO3RoaXMua2M9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTt2YXIgYz17ZGZyYW1lOlwidFwifTtjLmlkPWE7Yy5wdz1iO3RoaXMua2Muc3JjPXRoaXMubGQoYyk7dGhpcy5rYy5zdHlsZS5kaXNwbGF5PVwibm9uZVwiO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5rYyl9O1xubmguaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXtyZXR1cm4gb2h8fCFwaCYmXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBkb2N1bWVudCYmbnVsbCE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCYmIShcIm9iamVjdFwiPT09dHlwZW9mIHdpbmRvdyYmd2luZG93LmNocm9tZSYmd2luZG93LmNocm9tZS5leHRlbnNpb24mJiEvXmNocm9tZS8udGVzdCh3aW5kb3cubG9jYXRpb24uaHJlZikpJiYhKFwib2JqZWN0XCI9PT10eXBlb2YgV2luZG93cyYmXCJvYmplY3RcIj09PXR5cGVvZiBXaW5kb3dzLmpoKSYmITB9O2g9bmgucHJvdG90eXBlO2guSGQ9ZnVuY3Rpb24oKXt9O2guZmQ9ZnVuY3Rpb24oKXt0aGlzLkRiPSEwO3RoaXMuV2EmJih0aGlzLldhLmNsb3NlKCksdGhpcy5XYT1udWxsKTt0aGlzLmtjJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZCh0aGlzLmtjKSx0aGlzLmtjPW51bGwpO3RoaXMudWImJihjbGVhclRpbWVvdXQodGhpcy51YiksdGhpcy51Yj1udWxsKX07XG5oLmJiPWZ1bmN0aW9uKCl7dGhpcy5EYnx8KHRoaXMuZihcIkxvbmdwb2xsIGlzIGNsb3NpbmcgaXRzZWxmXCIpLHRoaXMuZmQoKSx0aGlzLm5hJiYodGhpcy5uYSh0aGlzLktjKSx0aGlzLm5hPW51bGwpKX07aC5jbG9zZT1mdW5jdGlvbigpe3RoaXMuRGJ8fCh0aGlzLmYoXCJMb25ncG9sbCBpcyBiZWluZyBjbG9zZWQuXCIpLHRoaXMuZmQoKSl9O2guc2VuZD1mdW5jdGlvbihhKXthPUcoYSk7dGhpcy5zYis9YS5sZW5ndGg7cmModGhpcy5YYSxcImJ5dGVzX3NlbnRcIixhLmxlbmd0aCk7YT1PYihhKTthPW5iKGEsITApO2E9eWQoYSwxODQwKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKyl7dmFyIGM9dGhpcy5XYTtjLmNkLnB1c2goe1hnOnRoaXMubWYsZ2g6YS5sZW5ndGgsb2Y6YVtiXX0pO2Mub2UmJnRoKGMpO3RoaXMubWYrK319O2Z1bmN0aW9uIHJoKGEsYil7dmFyIGM9RyhiKS5sZW5ndGg7YS5yYis9YztyYyhhLlhhLFwiYnl0ZXNfcmVjZWl2ZWRcIixjKX1cbmZ1bmN0aW9uIHFoKGEsYixjLGQpe3RoaXMubGQ9ZDt0aGlzLmxiPWM7dGhpcy5UZT1uZXcgdWc7dGhpcy5jZD1bXTt0aGlzLndlPU1hdGguZmxvb3IoMUU4Kk1hdGgucmFuZG9tKCkpO3RoaXMuJGQ9ITA7dGhpcy5rZT1pZCgpO3dpbmRvd1tcInBMUENvbW1hbmRcIit0aGlzLmtlXT1hO3dpbmRvd1tcInBSVExQQ0JcIit0aGlzLmtlXT1iO2E9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKTthLnN0eWxlLmRpc3BsYXk9XCJub25lXCI7aWYoZG9jdW1lbnQuYm9keSl7ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhKTt0cnl7YS5jb250ZW50V2luZG93LmRvY3VtZW50fHxmYyhcIk5vIElFIGRvbWFpbiBzZXR0aW5nIHJlcXVpcmVkXCIpfWNhdGNoKGUpe2Euc3JjPVwiamF2YXNjcmlwdDp2b2lkKChmdW5jdGlvbigpe2RvY3VtZW50Lm9wZW4oKTtkb2N1bWVudC5kb21haW49J1wiK2RvY3VtZW50LmRvbWFpbitcIic7ZG9jdW1lbnQuY2xvc2UoKTt9KSgpKVwifX1lbHNlIHRocm93XCJEb2N1bWVudCBib2R5IGhhcyBub3QgaW5pdGlhbGl6ZWQuIFdhaXQgdG8gaW5pdGlhbGl6ZSBGaXJlYmFzZSB1bnRpbCBhZnRlciB0aGUgZG9jdW1lbnQgaXMgcmVhZHkuXCI7XG5hLmNvbnRlbnREb2N1bWVudD9hLmpiPWEuY29udGVudERvY3VtZW50OmEuY29udGVudFdpbmRvdz9hLmpiPWEuY29udGVudFdpbmRvdy5kb2N1bWVudDphLmRvY3VtZW50JiYoYS5qYj1hLmRvY3VtZW50KTt0aGlzLkdhPWE7YT1cIlwiO3RoaXMuR2Euc3JjJiZcImphdmFzY3JpcHQ6XCI9PT10aGlzLkdhLnNyYy5zdWJzdHIoMCwxMSkmJihhPSc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj1cIicrZG9jdW1lbnQuZG9tYWluKydcIjtcXHgzYy9zY3JpcHQ+Jyk7YT1cIjxodG1sPjxib2R5PlwiK2ErXCI8L2JvZHk+PC9odG1sPlwiO3RyeXt0aGlzLkdhLmpiLm9wZW4oKSx0aGlzLkdhLmpiLndyaXRlKGEpLHRoaXMuR2EuamIuY2xvc2UoKX1jYXRjaChmKXtmYyhcImZyYW1lIHdyaXRpbmcgZXhjZXB0aW9uXCIpLGYuc3RhY2smJmZjKGYuc3RhY2spLGZjKGYpfX1cbnFoLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe3RoaXMub2U9ITE7aWYodGhpcy5HYSl7dGhpcy5HYS5qYi5ib2R5LmlubmVySFRNTD1cIlwiO3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe251bGwhPT1hLkdhJiYoZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChhLkdhKSxhLkdhPW51bGwpfSxNYXRoLmZsb29yKDApKX12YXIgYj10aGlzLmxiO2ImJih0aGlzLmxiPW51bGwsYigpKX07XG5mdW5jdGlvbiB0aChhKXtpZihhLm9lJiZhLiRkJiZhLlRlLmNvdW50KCk8KDA8YS5jZC5sZW5ndGg/MjoxKSl7YS53ZSsrO3ZhciBiPXt9O2IuaWQ9YS5GZztiLnB3PWEuR2c7Yi5zZXI9YS53ZTtmb3IodmFyIGI9YS5sZChiKSxjPVwiXCIsZD0wOzA8YS5jZC5sZW5ndGg7KWlmKDE4NzA+PWEuY2RbMF0ub2YubGVuZ3RoKzMwK2MubGVuZ3RoKXt2YXIgZT1hLmNkLnNoaWZ0KCksYz1jK1wiJnNlZ1wiK2QrXCI9XCIrZS5YZytcIiZ0c1wiK2QrXCI9XCIrZS5naCtcIiZkXCIrZCtcIj1cIitlLm9mO2QrK31lbHNlIGJyZWFrO3VoKGEsYitjLGEud2UpO3JldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIHVoKGEsYixjKXtmdW5jdGlvbiBkKCl7YS5UZS5yZW1vdmUoYyk7dGgoYSl9YS5UZS5hZGQoYywxKTt2YXIgZT1zZXRUaW1lb3V0KGQsTWF0aC5mbG9vcigyNUUzKSk7c2goYSxiLGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGUpO2QoKX0pfVxuZnVuY3Rpb24gc2goYSxiLGMpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0cnl7aWYoYS4kZCl7dmFyIGQ9YS5HYS5qYi5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO2QudHlwZT1cInRleHQvamF2YXNjcmlwdFwiO2QuYXN5bmM9ITA7ZC5zcmM9YjtkLm9ubG9hZD1kLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBhPWQucmVhZHlTdGF0ZTthJiZcImxvYWRlZFwiIT09YSYmXCJjb21wbGV0ZVwiIT09YXx8KGQub25sb2FkPWQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsZC5wYXJlbnROb2RlJiZkLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZCksYygpKX07ZC5vbmVycm9yPWZ1bmN0aW9uKCl7ZmMoXCJMb25nLXBvbGwgc2NyaXB0IGZhaWxlZCB0byBsb2FkOiBcIitiKTthLiRkPSExO2EuY2xvc2UoKX07YS5HYS5qYi5ib2R5LmFwcGVuZENoaWxkKGQpfX1jYXRjaChlKXt9fSxNYXRoLmZsb29yKDEpKX07dmFyIHZoPW51bGw7XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBNb3pXZWJTb2NrZXQ/dmg9TW96V2ViU29ja2V0OlwidW5kZWZpbmVkXCIhPT10eXBlb2YgV2ViU29ja2V0JiYodmg9V2ViU29ja2V0KTtmdW5jdGlvbiB3aChhLGIsYyxkKXt0aGlzLnVlPWE7dGhpcy5mPXBkKHRoaXMudWUpO3RoaXMuZnJhbWVzPXRoaXMuTmM9bnVsbDt0aGlzLnJiPXRoaXMuc2I9dGhpcy5mZj0wO3RoaXMuWGE9dWMoYik7YT17djpcIjVcIn07XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBsb2NhdGlvbiYmbG9jYXRpb24uaHJlZiYmLTEhPT1sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJmaXJlYmFzZWlvLmNvbVwiKSYmKGEucj1cImZcIik7YyYmKGEucz1jKTtkJiYoYS5scz1kKTt0aGlzLmpmPWZkKGIsZ2QsYSl9dmFyIHhoO1xud2gucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oYSxiKXt0aGlzLmxiPWI7dGhpcy5LZz1hO3RoaXMuZihcIldlYnNvY2tldCBjb25uZWN0aW5nIHRvIFwiK3RoaXMuamYpO3RoaXMuS2M9ITE7YmQuc2V0KFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIiwhMCk7dHJ5e3RoaXMuTGE9bmV3IHZoKHRoaXMuamYpfWNhdGNoKGMpe3RoaXMuZihcIkVycm9yIGluc3RhbnRpYXRpbmcgV2ViU29ja2V0LlwiKTt2YXIgZD1jLm1lc3NhZ2V8fGMuZGF0YTtkJiZ0aGlzLmYoZCk7dGhpcy5iYigpO3JldHVybn12YXIgZT10aGlzO3RoaXMuTGEub25vcGVuPWZ1bmN0aW9uKCl7ZS5mKFwiV2Vic29ja2V0IGNvbm5lY3RlZC5cIik7ZS5LYz0hMH07dGhpcy5MYS5vbmNsb3NlPWZ1bmN0aW9uKCl7ZS5mKFwiV2Vic29ja2V0IGNvbm5lY3Rpb24gd2FzIGRpc2Nvbm5lY3RlZC5cIik7ZS5MYT1udWxsO2UuYmIoKX07dGhpcy5MYS5vbm1lc3NhZ2U9ZnVuY3Rpb24oYSl7aWYobnVsbCE9PWUuTGEpaWYoYT1hLmRhdGEsZS5yYis9XG5hLmxlbmd0aCxyYyhlLlhhLFwiYnl0ZXNfcmVjZWl2ZWRcIixhLmxlbmd0aCkseWgoZSksbnVsbCE9PWUuZnJhbWVzKXpoKGUsYSk7ZWxzZXthOntPKG51bGw9PT1lLmZyYW1lcyxcIldlIGFscmVhZHkgaGF2ZSBhIGZyYW1lIGJ1ZmZlclwiKTtpZig2Pj1hLmxlbmd0aCl7dmFyIGI9TnVtYmVyKGEpO2lmKCFpc05hTihiKSl7ZS5mZj1iO2UuZnJhbWVzPVtdO2E9bnVsbDticmVhayBhfX1lLmZmPTE7ZS5mcmFtZXM9W119bnVsbCE9PWEmJnpoKGUsYSl9fTt0aGlzLkxhLm9uZXJyb3I9ZnVuY3Rpb24oYSl7ZS5mKFwiV2ViU29ja2V0IGVycm9yLiAgQ2xvc2luZyBjb25uZWN0aW9uLlwiKTsoYT1hLm1lc3NhZ2V8fGEuZGF0YSkmJmUuZihhKTtlLmJiKCl9fTt3aC5wcm90b3R5cGUuc3RhcnQ9ZnVuY3Rpb24oKXt9O1xud2guaXNBdmFpbGFibGU9ZnVuY3Rpb24oKXt2YXIgYT0hMTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnVzZXJBZ2VudCl7dmFyIGI9bmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZCAoWzAtOV17MCx9XFwuWzAtOV17MCx9KS8pO2ImJjE8Yi5sZW5ndGgmJjQuND5wYXJzZUZsb2F0KGJbMV0pJiYoYT0hMCl9cmV0dXJuIWEmJm51bGwhPT12aCYmIXhofTt3aC5yZXNwb25zZXNSZXF1aXJlZFRvQmVIZWFsdGh5PTI7d2guaGVhbHRoeVRpbWVvdXQ9M0U0O2g9d2gucHJvdG90eXBlO2guSGQ9ZnVuY3Rpb24oKXtiZC5yZW1vdmUoXCJwcmV2aW91c193ZWJzb2NrZXRfZmFpbHVyZVwiKX07ZnVuY3Rpb24gemgoYSxiKXthLmZyYW1lcy5wdXNoKGIpO2lmKGEuZnJhbWVzLmxlbmd0aD09YS5mZil7dmFyIGM9YS5mcmFtZXMuam9pbihcIlwiKTthLmZyYW1lcz1udWxsO2M9UmIoYyk7YS5LZyhjKX19XG5oLnNlbmQ9ZnVuY3Rpb24oYSl7eWgodGhpcyk7YT1HKGEpO3RoaXMuc2IrPWEubGVuZ3RoO3JjKHRoaXMuWGEsXCJieXRlc19zZW50XCIsYS5sZW5ndGgpO2E9eWQoYSwxNjM4NCk7MTxhLmxlbmd0aCYmQWgodGhpcyxTdHJpbmcoYS5sZW5ndGgpKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylBaCh0aGlzLGFbYl0pfTtoLmZkPWZ1bmN0aW9uKCl7dGhpcy5EYj0hMDt0aGlzLk5jJiYoY2xlYXJJbnRlcnZhbCh0aGlzLk5jKSx0aGlzLk5jPW51bGwpO3RoaXMuTGEmJih0aGlzLkxhLmNsb3NlKCksdGhpcy5MYT1udWxsKX07aC5iYj1mdW5jdGlvbigpe3RoaXMuRGJ8fCh0aGlzLmYoXCJXZWJTb2NrZXQgaXMgY2xvc2luZyBpdHNlbGZcIiksdGhpcy5mZCgpLHRoaXMubGImJih0aGlzLmxiKHRoaXMuS2MpLHRoaXMubGI9bnVsbCkpfTtoLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5EYnx8KHRoaXMuZihcIldlYlNvY2tldCBpcyBiZWluZyBjbG9zZWRcIiksdGhpcy5mZCgpKX07XG5mdW5jdGlvbiB5aChhKXtjbGVhckludGVydmFsKGEuTmMpO2EuTmM9c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXthLkxhJiZBaChhLFwiMFwiKTt5aChhKX0sTWF0aC5mbG9vcig0NUUzKSl9ZnVuY3Rpb24gQWgoYSxiKXt0cnl7YS5MYS5zZW5kKGIpfWNhdGNoKGMpe2EuZihcIkV4Y2VwdGlvbiB0aHJvd24gZnJvbSBXZWJTb2NrZXQuc2VuZCgpOlwiLGMubWVzc2FnZXx8Yy5kYXRhLFwiQ2xvc2luZyBjb25uZWN0aW9uLlwiKSxzZXRUaW1lb3V0KHUoYS5iYixhKSwwKX19O2Z1bmN0aW9uIEJoKGEpe0NoKHRoaXMsYSl9dmFyIERoPVtuaCx3aF07ZnVuY3Rpb24gQ2goYSxiKXt2YXIgYz13aCYmd2guaXNBdmFpbGFibGUoKSxkPWMmJiEoYmQuQWZ8fCEwPT09YmQuZ2V0KFwicHJldmlvdXNfd2Vic29ja2V0X2ZhaWx1cmVcIikpO2IuaWgmJihjfHxTKFwid3NzOi8vIFVSTCB1c2VkLCBidXQgYnJvd3NlciBpc24ndCBrbm93biB0byBzdXBwb3J0IHdlYnNvY2tldHMuICBUcnlpbmcgYW55d2F5LlwiKSxkPSEwKTtpZihkKWEuamQ9W3doXTtlbHNle3ZhciBlPWEuamQ9W107emQoRGgsZnVuY3Rpb24oYSxiKXtiJiZiLmlzQXZhaWxhYmxlKCkmJmUucHVzaChiKX0pfX1mdW5jdGlvbiBFaChhKXtpZigwPGEuamQubGVuZ3RoKXJldHVybiBhLmpkWzBdO3Rocm93IEVycm9yKFwiTm8gdHJhbnNwb3J0cyBhdmFpbGFibGVcIik7fTtmdW5jdGlvbiBGaChhLGIsYyxkLGUsZixnKXt0aGlzLmlkPWE7dGhpcy5mPXBkKFwiYzpcIit0aGlzLmlkK1wiOlwiKTt0aGlzLm5jPWM7dGhpcy5aYz1kO3RoaXMubmE9ZTt0aGlzLlJlPWY7dGhpcy5HPWI7dGhpcy5QZD1bXTt0aGlzLmtmPTA7dGhpcy5XZj1uZXcgQmgoYik7dGhpcy5OPTA7dGhpcy5GYj1nO3RoaXMuZihcIkNvbm5lY3Rpb24gY3JlYXRlZFwiKTtHaCh0aGlzKX1cbmZ1bmN0aW9uIEdoKGEpe3ZhciBiPUVoKGEuV2YpO2EuSz1uZXcgYihcImM6XCIrYS5pZCtcIjpcIithLmtmKyssYS5HLHZvaWQgMCxhLkZiKTthLlZlPWIucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeXx8MDt2YXIgYz1IaChhLGEuSyksZD1JaChhLGEuSyk7YS5rZD1hLks7YS5lZD1hLks7YS5GPW51bGw7YS5FYj0hMTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5LJiZhLksub3BlbihjLGQpfSxNYXRoLmZsb29yKDApKTtiPWIuaGVhbHRoeVRpbWVvdXR8fDA7MDxiJiYoYS5CZD1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5CZD1udWxsO2EuRWJ8fChhLksmJjEwMjQwMDxhLksucmI/KGEuZihcIkNvbm5lY3Rpb24gZXhjZWVkZWQgaGVhbHRoeSB0aW1lb3V0IGJ1dCBoYXMgcmVjZWl2ZWQgXCIrYS5LLnJiK1wiIGJ5dGVzLiAgTWFya2luZyBjb25uZWN0aW9uIGhlYWx0aHkuXCIpLGEuRWI9ITAsYS5LLkhkKCkpOmEuSyYmMTAyNDA8YS5LLnNiP2EuZihcIkNvbm5lY3Rpb24gZXhjZWVkZWQgaGVhbHRoeSB0aW1lb3V0IGJ1dCBoYXMgc2VudCBcIitcbmEuSy5zYitcIiBieXRlcy4gIExlYXZpbmcgY29ubmVjdGlvbiBhbGl2ZS5cIik6KGEuZihcIkNsb3NpbmcgdW5oZWFsdGh5IGNvbm5lY3Rpb24gYWZ0ZXIgdGltZW91dC5cIiksYS5jbG9zZSgpKSl9LE1hdGguZmxvb3IoYikpKX1mdW5jdGlvbiBJaChhLGIpe3JldHVybiBmdW5jdGlvbihjKXtiPT09YS5LPyhhLks9bnVsbCxjfHwwIT09YS5OPzE9PT1hLk4mJmEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gbG9zdC5cIik6KGEuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZmFpbGVkLlwiKSxcInMtXCI9PT1hLkcuYWIuc3Vic3RyKDAsMikmJihiZC5yZW1vdmUoXCJob3N0OlwiK2EuRy5ob3N0KSxhLkcuYWI9YS5HLmhvc3QpKSxhLmNsb3NlKCkpOmI9PT1hLkY/KGEuZihcIlNlY29uZGFyeSBjb25uZWN0aW9uIGxvc3QuXCIpLGM9YS5GLGEuRj1udWxsLGEua2QhPT1jJiZhLmVkIT09Y3x8YS5jbG9zZSgpKTphLmYoXCJjbG9zaW5nIGFuIG9sZCBjb25uZWN0aW9uXCIpfX1cbmZ1bmN0aW9uIEhoKGEsYil7cmV0dXJuIGZ1bmN0aW9uKGMpe2lmKDIhPWEuTilpZihiPT09YS5lZCl7dmFyIGQ9d2QoXCJ0XCIsYyk7Yz13ZChcImRcIixjKTtpZihcImNcIj09ZCl7aWYoZD13ZChcInRcIixjKSxcImRcImluIGMpaWYoYz1jLmQsXCJoXCI9PT1kKXt2YXIgZD1jLnRzLGU9Yy52LGY9Yy5oO2EuVWY9Yy5zO2VkKGEuRyxmKTswPT1hLk4mJihhLksuc3RhcnQoKSxKaChhLGEuSyxkKSxcIjVcIiE9PWUmJlMoXCJQcm90b2NvbCB2ZXJzaW9uIG1pc21hdGNoIGRldGVjdGVkXCIpLGM9YS5XZiwoYz0xPGMuamQubGVuZ3RoP2MuamRbMV06bnVsbCkmJktoKGEsYykpfWVsc2UgaWYoXCJuXCI9PT1kKXthLmYoXCJyZWN2ZCBlbmQgdHJhbnNtaXNzaW9uIG9uIHByaW1hcnlcIik7YS5lZD1hLkY7Zm9yKGM9MDtjPGEuUGQubGVuZ3RoOysrYylhLkxkKGEuUGRbY10pO2EuUGQ9W107TGgoYSl9ZWxzZVwic1wiPT09ZD8oYS5mKFwiQ29ubmVjdGlvbiBzaHV0ZG93biBjb21tYW5kIHJlY2VpdmVkLiBTaHV0dGluZyBkb3duLi4uXCIpLFxuYS5SZSYmKGEuUmUoYyksYS5SZT1udWxsKSxhLm5hPW51bGwsYS5jbG9zZSgpKTpcInJcIj09PWQ/KGEuZihcIlJlc2V0IHBhY2tldCByZWNlaXZlZC4gIE5ldyBob3N0OiBcIitjKSxlZChhLkcsYyksMT09PWEuTj9hLmNsb3NlKCk6KE1oKGEpLEdoKGEpKSk6XCJlXCI9PT1kP3FkKFwiU2VydmVyIEVycm9yOiBcIitjKTpcIm9cIj09PWQ/KGEuZihcImdvdCBwb25nIG9uIHByaW1hcnkuXCIpLE5oKGEpLE9oKGEpKTpxZChcIlVua25vd24gY29udHJvbCBwYWNrZXQgY29tbWFuZDogXCIrZCl9ZWxzZVwiZFwiPT1kJiZhLkxkKGMpfWVsc2UgaWYoYj09PWEuRilpZihkPXdkKFwidFwiLGMpLGM9d2QoXCJkXCIsYyksXCJjXCI9PWQpXCJ0XCJpbiBjJiYoYz1jLnQsXCJhXCI9PT1jP1BoKGEpOlwiclwiPT09Yz8oYS5mKFwiR290IGEgcmVzZXQgb24gc2Vjb25kYXJ5LCBjbG9zaW5nIGl0XCIpLGEuRi5jbG9zZSgpLGEua2QhPT1hLkYmJmEuZWQhPT1hLkZ8fGEuY2xvc2UoKSk6XCJvXCI9PT1jJiYoYS5mKFwiZ290IHBvbmcgb24gc2Vjb25kYXJ5LlwiKSxcbmEuVGYtLSxQaChhKSkpO2Vsc2UgaWYoXCJkXCI9PWQpYS5QZC5wdXNoKGMpO2Vsc2UgdGhyb3cgRXJyb3IoXCJVbmtub3duIHByb3RvY29sIGxheWVyOiBcIitkKTtlbHNlIGEuZihcIm1lc3NhZ2Ugb24gb2xkIGNvbm5lY3Rpb25cIil9fUZoLnByb3RvdHlwZS5JYT1mdW5jdGlvbihhKXtRaCh0aGlzLHt0OlwiZFwiLGQ6YX0pfTtmdW5jdGlvbiBMaChhKXthLmtkPT09YS5GJiZhLmVkPT09YS5GJiYoYS5mKFwiY2xlYW5pbmcgdXAgYW5kIHByb21vdGluZyBhIGNvbm5lY3Rpb246IFwiK2EuRi51ZSksYS5LPWEuRixhLkY9bnVsbCl9XG5mdW5jdGlvbiBQaChhKXswPj1hLlRmPyhhLmYoXCJTZWNvbmRhcnkgY29ubmVjdGlvbiBpcyBoZWFsdGh5LlwiKSxhLkViPSEwLGEuRi5IZCgpLGEuRi5zdGFydCgpLGEuZihcInNlbmRpbmcgY2xpZW50IGFjayBvbiBzZWNvbmRhcnlcIiksYS5GLnNlbmQoe3Q6XCJjXCIsZDp7dDpcImFcIixkOnt9fX0pLGEuZihcIkVuZGluZyB0cmFuc21pc3Npb24gb24gcHJpbWFyeVwiKSxhLksuc2VuZCh7dDpcImNcIixkOnt0OlwiblwiLGQ6e319fSksYS5rZD1hLkYsTGgoYSkpOihhLmYoXCJzZW5kaW5nIHBpbmcgb24gc2Vjb25kYXJ5LlwiKSxhLkYuc2VuZCh7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfUZoLnByb3RvdHlwZS5MZD1mdW5jdGlvbihhKXtOaCh0aGlzKTt0aGlzLm5jKGEpfTtmdW5jdGlvbiBOaChhKXthLkVifHwoYS5WZS0tLDA+PWEuVmUmJihhLmYoXCJQcmltYXJ5IGNvbm5lY3Rpb24gaXMgaGVhbHRoeS5cIiksYS5FYj0hMCxhLksuSGQoKSkpfVxuZnVuY3Rpb24gS2goYSxiKXthLkY9bmV3IGIoXCJjOlwiK2EuaWQrXCI6XCIrYS5rZisrLGEuRyxhLlVmKTthLlRmPWIucmVzcG9uc2VzUmVxdWlyZWRUb0JlSGVhbHRoeXx8MDthLkYub3BlbihIaChhLGEuRiksSWgoYSxhLkYpKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5GJiYoYS5mKFwiVGltZWQgb3V0IHRyeWluZyB0byB1cGdyYWRlLlwiKSxhLkYuY2xvc2UoKSl9LE1hdGguZmxvb3IoNkU0KSl9ZnVuY3Rpb24gSmgoYSxiLGMpe2EuZihcIlJlYWx0aW1lIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO2EuSz1iO2EuTj0xO2EuWmMmJihhLlpjKGMsYS5VZiksYS5aYz1udWxsKTswPT09YS5WZT8oYS5mKFwiUHJpbWFyeSBjb25uZWN0aW9uIGlzIGhlYWx0aHkuXCIpLGEuRWI9ITApOnNldFRpbWVvdXQoZnVuY3Rpb24oKXtPaChhKX0sTWF0aC5mbG9vcig1RTMpKX1cbmZ1bmN0aW9uIE9oKGEpe2EuRWJ8fDEhPT1hLk58fChhLmYoXCJzZW5kaW5nIHBpbmcgb24gcHJpbWFyeS5cIiksUWgoYSx7dDpcImNcIixkOnt0OlwicFwiLGQ6e319fSkpfWZ1bmN0aW9uIFFoKGEsYil7aWYoMSE9PWEuTil0aHJvd1wiQ29ubmVjdGlvbiBpcyBub3QgY29ubmVjdGVkXCI7YS5rZC5zZW5kKGIpfUZoLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpezIhPT10aGlzLk4mJih0aGlzLmYoXCJDbG9zaW5nIHJlYWx0aW1lIGNvbm5lY3Rpb24uXCIpLHRoaXMuTj0yLE1oKHRoaXMpLHRoaXMubmEmJih0aGlzLm5hKCksdGhpcy5uYT1udWxsKSl9O2Z1bmN0aW9uIE1oKGEpe2EuZihcIlNodXR0aW5nIGRvd24gYWxsIGNvbm5lY3Rpb25zXCIpO2EuSyYmKGEuSy5jbG9zZSgpLGEuSz1udWxsKTthLkYmJihhLkYuY2xvc2UoKSxhLkY9bnVsbCk7YS5CZCYmKGNsZWFyVGltZW91dChhLkJkKSxhLkJkPW51bGwpfTtmdW5jdGlvbiBSaChhLGIsYyxkKXt0aGlzLmlkPVNoKys7dGhpcy5mPXBkKFwicDpcIit0aGlzLmlkK1wiOlwiKTt0aGlzLkJmPXRoaXMuSWU9ITE7dGhpcy5iYT17fTt0aGlzLnNhPVtdO3RoaXMuYWQ9MDt0aGlzLlljPVtdO3RoaXMucWE9ITE7dGhpcy5lYj0xRTM7dGhpcy5JZD0zRTU7dGhpcy5LYj1iO3RoaXMuWGM9Yzt0aGlzLlNlPWQ7dGhpcy5HPWE7dGhpcy53Yj10aGlzLkNhPXRoaXMuTWE9dGhpcy5GYj10aGlzLiRlPW51bGw7dGhpcy5TYj0hMTt0aGlzLldkPXt9O3RoaXMuV2c9MDt0aGlzLnJmPSEwO3RoaXMuT2M9dGhpcy5LZT1udWxsO1RoKHRoaXMsMCk7a2YueWIoKS5JYihcInZpc2libGVcIix0aGlzLk5nLHRoaXMpOy0xPT09YS5ob3N0LmluZGV4T2YoXCJmYmxvY2FsXCIpJiZqZi55YigpLkliKFwib25saW5lXCIsdGhpcy5MZyx0aGlzKX12YXIgU2g9MCxVaD0wO2g9UmgucHJvdG90eXBlO1xuaC5JYT1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9Kyt0aGlzLldnO2E9e3I6ZCxhOmEsYjpifTt0aGlzLmYoRyhhKSk7Tyh0aGlzLnFhLFwic2VuZFJlcXVlc3QgY2FsbCB3aGVuIHdlJ3JlIG5vdCBjb25uZWN0ZWQgbm90IGFsbG93ZWQuXCIpO3RoaXMuTWEuSWEoYSk7YyYmKHRoaXMuV2RbZF09Yyl9O2guQ2Y9ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YS53YSgpLGY9YS5wYXRoLnRvU3RyaW5nKCk7dGhpcy5mKFwiTGlzdGVuIGNhbGxlZCBmb3IgXCIrZitcIiBcIitlKTt0aGlzLmJhW2ZdPXRoaXMuYmFbZl18fHt9O08oSWUoYS5uKXx8IUhlKGEubiksXCJsaXN0ZW4oKSBjYWxsZWQgZm9yIG5vbi1kZWZhdWx0IGJ1dCBjb21wbGV0ZSBxdWVyeVwiKTtPKCF0aGlzLmJhW2ZdW2VdLFwibGlzdGVuKCkgY2FsbGVkIHR3aWNlIGZvciBzYW1lIHBhdGgvcXVlcnlJZC5cIik7YT17STpkLEFkOmIsVGc6YSx0YWc6Y307dGhpcy5iYVtmXVtlXT1hO3RoaXMucWEmJlZoKHRoaXMsYSl9O1xuZnVuY3Rpb24gVmgoYSxiKXt2YXIgYz1iLlRnLGQ9Yy5wYXRoLnRvU3RyaW5nKCksZT1jLndhKCk7YS5mKFwiTGlzdGVuIG9uIFwiK2QrXCIgZm9yIFwiK2UpO3ZhciBmPXtwOmR9O2IudGFnJiYoZi5xPUdlKGMubiksZi50PWIudGFnKTtmLmg9Yi5BZCgpO2EuSWEoXCJxXCIsZixmdW5jdGlvbihmKXt2YXIgaz1mLmQsbT1mLnM7aWYoayYmXCJvYmplY3RcIj09PXR5cGVvZiBrJiZ5KGssXCJ3XCIpKXt2YXIgbD16KGssXCJ3XCIpO2RhKGwpJiYwPD1MYShsLFwibm9faW5kZXhcIikmJlMoXCJVc2luZyBhbiB1bnNwZWNpZmllZCBpbmRleC4gQ29uc2lkZXIgYWRkaW5nIFwiKygnXCIuaW5kZXhPblwiOiBcIicrYy5uLmcudG9TdHJpbmcoKSsnXCInKStcIiBhdCBcIitjLnBhdGgudG9TdHJpbmcoKStcIiB0byB5b3VyIHNlY3VyaXR5IHJ1bGVzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2VcIil9KGEuYmFbZF0mJmEuYmFbZF1bZV0pPT09YiYmKGEuZihcImxpc3RlbiByZXNwb25zZVwiLGYpLFwib2tcIiE9PW0mJldoKGEsZCxlKSxiLkkmJlxuYi5JKG0saykpfSl9aC5PPWZ1bmN0aW9uKGEsYixjKXt0aGlzLkNhPXtyZzphLHNmOiExLERjOmIsb2Q6Y307dGhpcy5mKFwiQXV0aGVudGljYXRpbmcgdXNpbmcgY3JlZGVudGlhbDogXCIrYSk7WGgodGhpcyk7KGI9NDA9PWEubGVuZ3RoKXx8KGE9Q2QoYSkuRWMsYj1cIm9iamVjdFwiPT09dHlwZW9mIGEmJiEwPT09eihhLFwiYWRtaW5cIikpO2ImJih0aGlzLmYoXCJBZG1pbiBhdXRoIGNyZWRlbnRpYWwgZGV0ZWN0ZWQuICBSZWR1Y2luZyBtYXggcmVjb25uZWN0IHRpbWUuXCIpLHRoaXMuSWQ9M0U0KX07aC5qZT1mdW5jdGlvbihhKXt0aGlzLkNhPW51bGw7dGhpcy5xYSYmdGhpcy5JYShcInVuYXV0aFwiLHt9LGZ1bmN0aW9uKGIpe2EoYi5zLGIuZCl9KX07XG5mdW5jdGlvbiBYaChhKXt2YXIgYj1hLkNhO2EucWEmJmImJmEuSWEoXCJhdXRoXCIse2NyZWQ6Yi5yZ30sZnVuY3Rpb24oYyl7dmFyIGQ9Yy5zO2M9Yy5kfHxcImVycm9yXCI7XCJva1wiIT09ZCYmYS5DYT09PWImJihhLkNhPW51bGwpO2Iuc2Y/XCJva1wiIT09ZCYmYi5vZCYmYi5vZChkLGMpOihiLnNmPSEwLGIuRGMmJmIuRGMoZCxjKSl9KX1oLiRmPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wYXRoLnRvU3RyaW5nKCksZD1hLndhKCk7dGhpcy5mKFwiVW5saXN0ZW4gY2FsbGVkIGZvciBcIitjK1wiIFwiK2QpO08oSWUoYS5uKXx8IUhlKGEubiksXCJ1bmxpc3RlbigpIGNhbGxlZCBmb3Igbm9uLWRlZmF1bHQgYnV0IGNvbXBsZXRlIHF1ZXJ5XCIpO2lmKFdoKHRoaXMsYyxkKSYmdGhpcy5xYSl7dmFyIGU9R2UoYS5uKTt0aGlzLmYoXCJVbmxpc3RlbiBvbiBcIitjK1wiIGZvciBcIitkKTtjPXtwOmN9O2ImJihjLnE9ZSxjLnQ9Yik7dGhpcy5JYShcIm5cIixjKX19O1xuaC5RZT1mdW5jdGlvbihhLGIsYyl7dGhpcy5xYT9ZaCh0aGlzLFwib1wiLGEsYixjKTp0aGlzLlljLnB1c2goe2JkOmEsYWN0aW9uOlwib1wiLGRhdGE6YixJOmN9KX07aC5HZj1mdW5jdGlvbihhLGIsYyl7dGhpcy5xYT9ZaCh0aGlzLFwib21cIixhLGIsYyk6dGhpcy5ZYy5wdXNoKHtiZDphLGFjdGlvbjpcIm9tXCIsZGF0YTpiLEk6Y30pfTtoLk1kPWZ1bmN0aW9uKGEsYil7dGhpcy5xYT9ZaCh0aGlzLFwib2NcIixhLG51bGwsYik6dGhpcy5ZYy5wdXNoKHtiZDphLGFjdGlvbjpcIm9jXCIsZGF0YTpudWxsLEk6Yn0pfTtmdW5jdGlvbiBZaChhLGIsYyxkLGUpe2M9e3A6YyxkOmR9O2EuZihcIm9uRGlzY29ubmVjdCBcIitiLGMpO2EuSWEoYixjLGZ1bmN0aW9uKGEpe2UmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGEucyxhLmQpfSxNYXRoLmZsb29yKDApKX0pfWgucHV0PWZ1bmN0aW9uKGEsYixjLGQpe1poKHRoaXMsXCJwXCIsYSxiLGMsZCl9O1xuaC5EZj1mdW5jdGlvbihhLGIsYyxkKXtaaCh0aGlzLFwibVwiLGEsYixjLGQpfTtmdW5jdGlvbiBaaChhLGIsYyxkLGUsZil7ZD17cDpjLGQ6ZH07cChmKSYmKGQuaD1mKTthLnNhLnB1c2goe2FjdGlvbjpiLFBmOmQsSTplfSk7YS5hZCsrO2I9YS5zYS5sZW5ndGgtMTthLnFhPyRoKGEsYik6YS5mKFwiQnVmZmVyaW5nIHB1dDogXCIrYyl9ZnVuY3Rpb24gJGgoYSxiKXt2YXIgYz1hLnNhW2JdLmFjdGlvbixkPWEuc2FbYl0uUGYsZT1hLnNhW2JdLkk7YS5zYVtiXS5VZz1hLnFhO2EuSWEoYyxkLGZ1bmN0aW9uKGQpe2EuZihjK1wiIHJlc3BvbnNlXCIsZCk7ZGVsZXRlIGEuc2FbYl07YS5hZC0tOzA9PT1hLmFkJiYoYS5zYT1bXSk7ZSYmZShkLnMsZC5kKX0pfVxuaC5ZZT1mdW5jdGlvbihhKXt0aGlzLnFhJiYoYT17YzphfSx0aGlzLmYoXCJyZXBvcnRTdGF0c1wiLGEpLHRoaXMuSWEoXCJzXCIsYSxmdW5jdGlvbihhKXtcIm9rXCIhPT1hLnMmJnRoaXMuZihcInJlcG9ydFN0YXRzXCIsXCJFcnJvciBzZW5kaW5nIHN0YXRzOiBcIithLmQpfSkpfTtcbmguTGQ9ZnVuY3Rpb24oYSl7aWYoXCJyXCJpbiBhKXt0aGlzLmYoXCJmcm9tIHNlcnZlcjogXCIrRyhhKSk7dmFyIGI9YS5yLGM9dGhpcy5XZFtiXTtjJiYoZGVsZXRlIHRoaXMuV2RbYl0sYyhhLmIpKX1lbHNle2lmKFwiZXJyb3JcImluIGEpdGhyb3dcIkEgc2VydmVyLXNpZGUgZXJyb3IgaGFzIG9jY3VycmVkOiBcIithLmVycm9yO1wiYVwiaW4gYSYmKGI9YS5hLGM9YS5iLHRoaXMuZihcImhhbmRsZVNlcnZlck1lc3NhZ2VcIixiLGMpLFwiZFwiPT09Yj90aGlzLktiKGMucCxjLmQsITEsYy50KTpcIm1cIj09PWI/dGhpcy5LYihjLnAsYy5kLCEwLGMudCk6XCJjXCI9PT1iP2FpKHRoaXMsYy5wLGMucSk6XCJhY1wiPT09Yj8oYT1jLnMsYj1jLmQsYz10aGlzLkNhLHRoaXMuQ2E9bnVsbCxjJiZjLm9kJiZjLm9kKGEsYikpOlwic2RcIj09PWI/dGhpcy4kZT90aGlzLiRlKGMpOlwibXNnXCJpbiBjJiZcInVuZGVmaW5lZFwiIT09dHlwZW9mIGNvbnNvbGUmJmNvbnNvbGUubG9nKFwiRklSRUJBU0U6IFwiK2MubXNnLnJlcGxhY2UoXCJcXG5cIixcblwiXFxuRklSRUJBU0U6IFwiKSk6cWQoXCJVbnJlY29nbml6ZWQgYWN0aW9uIHJlY2VpdmVkIGZyb20gc2VydmVyOiBcIitHKGIpK1wiXFxuQXJlIHlvdSB1c2luZyB0aGUgbGF0ZXN0IGNsaWVudD9cIikpfX07aC5aYz1mdW5jdGlvbihhLGIpe3RoaXMuZihcImNvbm5lY3Rpb24gcmVhZHlcIik7dGhpcy5xYT0hMDt0aGlzLk9jPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3RoaXMuU2Uoe3NlcnZlclRpbWVPZmZzZXQ6YS0obmV3IERhdGUpLmdldFRpbWUoKX0pO3RoaXMuRmI9YjtpZih0aGlzLnJmKXt2YXIgYz17fTtjW1wic2RrLmpzLlwiK0ViLnJlcGxhY2UoL1xcLi9nLFwiLVwiKV09MTtEZygpP2NbXCJmcmFtZXdvcmsuY29yZG92YVwiXT0xOlwib2JqZWN0XCI9PT10eXBlb2YgbmF2aWdhdG9yJiZcIlJlYWN0TmF0aXZlXCI9PT1uYXZpZ2F0b3IucHJvZHVjdCYmKGNbXCJmcmFtZXdvcmsucmVhY3RuYXRpdmVcIl09MSk7dGhpcy5ZZShjKX1iaSh0aGlzKTt0aGlzLnJmPSExO3RoaXMuWGMoITApfTtcbmZ1bmN0aW9uIFRoKGEsYil7TyghYS5NYSxcIlNjaGVkdWxpbmcgYSBjb25uZWN0IHdoZW4gd2UncmUgYWxyZWFkeSBjb25uZWN0ZWQvaW5nP1wiKTthLndiJiZjbGVhclRpbWVvdXQoYS53Yik7YS53Yj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS53Yj1udWxsO2NpKGEpfSxNYXRoLmZsb29yKGIpKX1oLk5nPWZ1bmN0aW9uKGEpe2EmJiF0aGlzLlNiJiZ0aGlzLmViPT09dGhpcy5JZCYmKHRoaXMuZihcIldpbmRvdyBiZWNhbWUgdmlzaWJsZS4gIFJlZHVjaW5nIGRlbGF5LlwiKSx0aGlzLmViPTFFMyx0aGlzLk1hfHxUaCh0aGlzLDApKTt0aGlzLlNiPWF9O2guTGc9ZnVuY3Rpb24oYSl7YT8odGhpcy5mKFwiQnJvd3NlciB3ZW50IG9ubGluZS5cIiksdGhpcy5lYj0xRTMsdGhpcy5NYXx8VGgodGhpcywwKSk6KHRoaXMuZihcIkJyb3dzZXIgd2VudCBvZmZsaW5lLiAgS2lsbGluZyBjb25uZWN0aW9uLlwiKSx0aGlzLk1hJiZ0aGlzLk1hLmNsb3NlKCkpfTtcbmguSWY9ZnVuY3Rpb24oKXt0aGlzLmYoXCJkYXRhIGNsaWVudCBkaXNjb25uZWN0ZWRcIik7dGhpcy5xYT0hMTt0aGlzLk1hPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLnNhLmxlbmd0aDthKyspe3ZhciBiPXRoaXMuc2FbYV07YiYmXCJoXCJpbiBiLlBmJiZiLlVnJiYoYi5JJiZiLkkoXCJkaXNjb25uZWN0XCIpLGRlbGV0ZSB0aGlzLnNhW2FdLHRoaXMuYWQtLSl9MD09PXRoaXMuYWQmJih0aGlzLnNhPVtdKTt0aGlzLldkPXt9O2RpKHRoaXMpJiYodGhpcy5TYj90aGlzLk9jJiYoM0U0PChuZXcgRGF0ZSkuZ2V0VGltZSgpLXRoaXMuT2MmJih0aGlzLmViPTFFMyksdGhpcy5PYz1udWxsKToodGhpcy5mKFwiV2luZG93IGlzbid0IHZpc2libGUuICBEZWxheWluZyByZWNvbm5lY3QuXCIpLHRoaXMuZWI9dGhpcy5JZCx0aGlzLktlPShuZXcgRGF0ZSkuZ2V0VGltZSgpKSxhPU1hdGgubWF4KDAsdGhpcy5lYi0oKG5ldyBEYXRlKS5nZXRUaW1lKCktdGhpcy5LZSkpLGEqPU1hdGgucmFuZG9tKCksdGhpcy5mKFwiVHJ5aW5nIHRvIHJlY29ubmVjdCBpbiBcIitcbmErXCJtc1wiKSxUaCh0aGlzLGEpLHRoaXMuZWI9TWF0aC5taW4odGhpcy5JZCwxLjMqdGhpcy5lYikpO3RoaXMuWGMoITEpfTtmdW5jdGlvbiBjaShhKXtpZihkaShhKSl7YS5mKFwiTWFraW5nIGEgY29ubmVjdGlvbiBhdHRlbXB0XCIpO2EuS2U9KG5ldyBEYXRlKS5nZXRUaW1lKCk7YS5PYz1udWxsO3ZhciBiPXUoYS5MZCxhKSxjPXUoYS5aYyxhKSxkPXUoYS5JZixhKSxlPWEuaWQrXCI6XCIrVWgrKzthLk1hPW5ldyBGaChlLGEuRyxiLGMsZCxmdW5jdGlvbihiKXtTKGIrXCIgKFwiK2EuRy50b1N0cmluZygpK1wiKVwiKTthLkJmPSEwfSxhLkZiKX19aC5DYj1mdW5jdGlvbigpe3RoaXMuSWU9ITA7dGhpcy5NYT90aGlzLk1hLmNsb3NlKCk6KHRoaXMud2ImJihjbGVhclRpbWVvdXQodGhpcy53YiksdGhpcy53Yj1udWxsKSx0aGlzLnFhJiZ0aGlzLklmKCkpfTtoLnZjPWZ1bmN0aW9uKCl7dGhpcy5JZT0hMTt0aGlzLmViPTFFMzt0aGlzLk1hfHxUaCh0aGlzLDApfTtcbmZ1bmN0aW9uIGFpKGEsYixjKXtjPWM/T2EoYyxmdW5jdGlvbihhKXtyZXR1cm4geGQoYSl9KS5qb2luKFwiJFwiKTpcImRlZmF1bHRcIjsoYT1XaChhLGIsYykpJiZhLkkmJmEuSShcInBlcm1pc3Npb25fZGVuaWVkXCIpfWZ1bmN0aW9uIFdoKGEsYixjKXtiPShuZXcgUChiKSkudG9TdHJpbmcoKTt2YXIgZDtwKGEuYmFbYl0pPyhkPWEuYmFbYl1bY10sZGVsZXRlIGEuYmFbYl1bY10sMD09PW9hKGEuYmFbYl0pJiZkZWxldGUgYS5iYVtiXSk6ZD12b2lkIDA7cmV0dXJuIGR9ZnVuY3Rpb24gYmkoYSl7WGgoYSk7dihhLmJhLGZ1bmN0aW9uKGIpe3YoYixmdW5jdGlvbihiKXtWaChhLGIpfSl9KTtmb3IodmFyIGI9MDtiPGEuc2EubGVuZ3RoO2IrKylhLnNhW2JdJiYkaChhLGIpO2Zvcig7YS5ZYy5sZW5ndGg7KWI9YS5ZYy5zaGlmdCgpLFloKGEsYi5hY3Rpb24sYi5iZCxiLmRhdGEsYi5JKX1mdW5jdGlvbiBkaShhKXt2YXIgYjtiPWpmLnliKCkub2M7cmV0dXJuIWEuQmYmJiFhLkllJiZifTt2YXIgVT17emc6ZnVuY3Rpb24oKXtvaD14aD0hMH19O1UuZm9yY2VMb25nUG9sbGluZz1VLnpnO1UuQWc9ZnVuY3Rpb24oKXtwaD0hMH07VS5mb3JjZVdlYlNvY2tldHM9VS5BZztVLiRnPWZ1bmN0aW9uKGEsYil7YS5rLlZhLiRlPWJ9O1Uuc2V0U2VjdXJpdHlEZWJ1Z0NhbGxiYWNrPVUuJGc7VS5iZj1mdW5jdGlvbihhLGIpe2Euay5iZihiKX07VS5zdGF0cz1VLmJmO1UuY2Y9ZnVuY3Rpb24oYSxiKXthLmsuY2YoYil9O1Uuc3RhdHNJbmNyZW1lbnRDb3VudGVyPVUuY2Y7VS51ZD1mdW5jdGlvbihhKXtyZXR1cm4gYS5rLnVkfTtVLmRhdGFVcGRhdGVDb3VudD1VLnVkO1UuRGc9ZnVuY3Rpb24oYSxiKXthLmsuSGU9Yn07VS5pbnRlcmNlcHRTZXJ2ZXJEYXRhPVUuRGc7VS5KZz1mdW5jdGlvbihhKXtuZXcgT2coYSl9O1Uub25Qb3B1cE9wZW49VS5KZztVLllnPWZ1bmN0aW9uKGEpe3hnPWF9O1Uuc2V0QXV0aGVudGljYXRpb25TZXJ2ZXI9VS5ZZztmdW5jdGlvbiBlaShhLGIpe3RoaXMuY29tbWl0dGVkPWE7dGhpcy5zbmFwc2hvdD1ifTtmdW5jdGlvbiBWKGEsYil7dGhpcy5kZD1hO3RoaXMudGE9Yn1WLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oYSl7RChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLmNhbmNlbFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtGKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuY2FuY2VsXCIsMSxhLCEwKTt2YXIgYj1uZXcgQjt0aGlzLmRkLk1kKHRoaXMudGEsQyhiLGEpKTtyZXR1cm4gYi5EfTtWLnByb3RvdHlwZS5jYW5jZWw9Vi5wcm90b3R5cGUuY2FuY2VsO1YucHJvdG90eXBlLnJlbW92ZT1mdW5jdGlvbihhKXtEKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsMCwxLGFyZ3VtZW50cy5sZW5ndGgpO29nKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkucmVtb3ZlXCIsdGhpcy50YSk7RihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnJlbW92ZVwiLDEsYSwhMCk7dmFyIGI9bmV3IEI7ZmkodGhpcy5kZCx0aGlzLnRhLG51bGwsQyhiLGEpKTtyZXR1cm4gYi5EfTtcblYucHJvdG90eXBlLnJlbW92ZT1WLnByb3RvdHlwZS5yZW1vdmU7Vi5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFwiLHRoaXMudGEpO2dnKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsYSx0aGlzLnRhLCExKTtGKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0XCIsMixiLCEwKTt2YXIgYz1uZXcgQjtmaSh0aGlzLmRkLHRoaXMudGEsYSxDKGMsYikpO3JldHVybiBjLkR9O1YucHJvdG90eXBlLnNldD1WLnByb3RvdHlwZS5zZXQ7XG5WLnByb3RvdHlwZS5PYj1mdW5jdGlvbihhLGIsYyl7RChcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLHRoaXMudGEpO2dnKFwiRmlyZWJhc2Uub25EaXNjb25uZWN0KCkuc2V0V2l0aFByaW9yaXR5XCIsYSx0aGlzLnRhLCExKTtrZyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDIsYik7RihcIkZpcmViYXNlLm9uRGlzY29ubmVjdCgpLnNldFdpdGhQcmlvcml0eVwiLDMsYywhMCk7dmFyIGQ9bmV3IEI7Z2kodGhpcy5kZCx0aGlzLnRhLGEsYixDKGQsYykpO3JldHVybiBkLkR9O1YucHJvdG90eXBlLnNldFdpdGhQcmlvcml0eT1WLnByb3RvdHlwZS5PYjtcblYucHJvdG90eXBlLnVwZGF0ZT1mdW5jdGlvbihhLGIpe0QoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7b2coXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIix0aGlzLnRhKTtpZihkYShhKSl7Zm9yKHZhciBjPXt9LGQ9MDtkPGEubGVuZ3RoOysrZCljW1wiXCIrZF09YVtkXTthPWM7UyhcIlBhc3NpbmcgYW4gQXJyYXkgdG8gRmlyZWJhc2Uub25EaXNjb25uZWN0KCkudXBkYXRlKCkgaXMgZGVwcmVjYXRlZC4gVXNlIHNldCgpIGlmIHlvdSB3YW50IHRvIG92ZXJ3cml0ZSB0aGUgZXhpc3RpbmcgZGF0YSwgb3IgYW4gT2JqZWN0IHdpdGggaW50ZWdlciBrZXlzIGlmIHlvdSByZWFsbHkgZG8gd2FudCB0byBvbmx5IHVwZGF0ZSBzb21lIG9mIHRoZSBjaGlsZHJlbi5cIil9amcoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIixhLHRoaXMudGEpO0YoXCJGaXJlYmFzZS5vbkRpc2Nvbm5lY3QoKS51cGRhdGVcIiwyLGIsITApO1xuYz1uZXcgQjtoaSh0aGlzLmRkLHRoaXMudGEsYSxDKGMsYikpO3JldHVybiBjLkR9O1YucHJvdG90eXBlLnVwZGF0ZT1WLnByb3RvdHlwZS51cGRhdGU7ZnVuY3Rpb24gVyhhLGIsYyl7dGhpcy5BPWE7dGhpcy5ZPWI7dGhpcy5nPWN9Vy5wcm90b3R5cGUuSj1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QudmFsXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkEuSigpfTtXLnByb3RvdHlwZS52YWw9Vy5wcm90b3R5cGUuSjtXLnByb3RvdHlwZS5xZj1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZXhwb3J0VmFsXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkEuSighMCl9O1cucHJvdG90eXBlLmV4cG9ydFZhbD1XLnByb3RvdHlwZS5xZjtXLnByb3RvdHlwZS54Zz1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZXhpc3RzXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiF0aGlzLkEuZSgpfTtXLnByb3RvdHlwZS5leGlzdHM9Vy5wcm90b3R5cGUueGc7XG5XLnByb3RvdHlwZS5vPWZ1bmN0aW9uKGEpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIiwwLDEsYXJndW1lbnRzLmxlbmd0aCk7ZmEoYSkmJihhPVN0cmluZyhhKSk7bmcoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuY2hpbGRcIixhKTt2YXIgYj1uZXcgUChhKSxjPXRoaXMuWS5vKGIpO3JldHVybiBuZXcgVyh0aGlzLkEuUyhiKSxjLFIpfTtXLnByb3RvdHlwZS5jaGlsZD1XLnByb3RvdHlwZS5vO1cucHJvdG90eXBlLkZhPWZ1bmN0aW9uKGEpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7bmcoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuaGFzQ2hpbGRcIixhKTt2YXIgYj1uZXcgUChhKTtyZXR1cm4hdGhpcy5BLlMoYikuZSgpfTtXLnByb3RvdHlwZS5oYXNDaGlsZD1XLnByb3RvdHlwZS5GYTtcblcucHJvdG90eXBlLkM9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmdldFByaW9yaXR5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLkEuQygpLkooKX07Vy5wcm90b3R5cGUuZ2V0UHJpb3JpdHk9Vy5wcm90b3R5cGUuQztXLnByb3RvdHlwZS5mb3JFYWNoPWZ1bmN0aW9uKGEpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QuZm9yRWFjaFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtGKFwiRmlyZWJhc2UuRGF0YVNuYXBzaG90LmZvckVhY2hcIiwxLGEsITEpO2lmKHRoaXMuQS5MKCkpcmV0dXJuITE7dmFyIGI9dGhpcztyZXR1cm4hIXRoaXMuQS5SKHRoaXMuZyxmdW5jdGlvbihjLGQpe3JldHVybiBhKG5ldyBXKGQsYi5ZLm8oYyksUikpfSl9O1cucHJvdG90eXBlLmZvckVhY2g9Vy5wcm90b3R5cGUuZm9yRWFjaDtcblcucHJvdG90eXBlLnpkPWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLkRhdGFTbmFwc2hvdC5oYXNDaGlsZHJlblwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5BLkwoKT8hMTohdGhpcy5BLmUoKX07Vy5wcm90b3R5cGUuaGFzQ2hpbGRyZW49Vy5wcm90b3R5cGUuemQ7Vy5wcm90b3R5cGUubmFtZT1mdW5jdGlvbigpe1MoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QubmFtZSgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgRmlyZWJhc2UuRGF0YVNuYXBzaG90LmtleSgpIGluc3RlYWQuXCIpO0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QubmFtZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5rZXkoKX07Vy5wcm90b3R5cGUubmFtZT1XLnByb3RvdHlwZS5uYW1lO1cucHJvdG90eXBlLmtleT1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3Qua2V5XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLlkua2V5KCl9O1xuVy5wcm90b3R5cGUua2V5PVcucHJvdG90eXBlLmtleTtXLnByb3RvdHlwZS5IYj1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QubnVtQ2hpbGRyZW5cIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuQS5IYigpfTtXLnByb3RvdHlwZS5udW1DaGlsZHJlbj1XLnByb3RvdHlwZS5IYjtXLnByb3RvdHlwZS5NYj1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5EYXRhU25hcHNob3QucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLll9O1cucHJvdG90eXBlLnJlZj1XLnByb3RvdHlwZS5NYjtmdW5jdGlvbiBpaShhLGIsYyl7dGhpcy5WYj1hO3RoaXMudGI9Yjt0aGlzLnZiPWN8fG51bGx9aD1paS5wcm90b3R5cGU7aC5RZj1mdW5jdGlvbihhKXtyZXR1cm5cInZhbHVlXCI9PT1hfTtoLmNyZWF0ZUV2ZW50PWZ1bmN0aW9uKGEsYil7dmFyIGM9Yi5uLmc7cmV0dXJuIG5ldyBqYyhcInZhbHVlXCIsdGhpcyxuZXcgVyhhLk5hLGIuTWIoKSxjKSl9O2guWmI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52YjtpZihcImNhbmNlbFwiPT09YS5EZSgpKXtPKHRoaXMudGIsXCJSYWlzaW5nIGEgY2FuY2VsIGV2ZW50IG9uIGEgbGlzdGVuZXIgd2l0aCBubyBjYW5jZWwgY2FsbGJhY2tcIik7dmFyIGM9dGhpcy50YjtyZXR1cm4gZnVuY3Rpb24oKXtjLmNhbGwoYixhLmVycm9yKX19dmFyIGQ9dGhpcy5WYjtyZXR1cm4gZnVuY3Rpb24oKXtkLmNhbGwoYixhLmJlKX19O2gubGY9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy50Yj9uZXcga2ModGhpcyxhLGIpOm51bGx9O1xuaC5tYXRjaGVzPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgaWk/YS5WYiYmdGhpcy5WYj9hLlZiPT09dGhpcy5WYiYmYS52Yj09PXRoaXMudmI6ITA6ITF9O2gueWY9ZnVuY3Rpb24oKXtyZXR1cm4gbnVsbCE9PXRoaXMuVmJ9O2Z1bmN0aW9uIGppKGEsYixjKXt0aGlzLmphPWE7dGhpcy50Yj1iO3RoaXMudmI9Y31oPWppLnByb3RvdHlwZTtoLlFmPWZ1bmN0aW9uKGEpe2E9XCJjaGlsZHJlbl9hZGRlZFwiPT09YT9cImNoaWxkX2FkZGVkXCI6YTtyZXR1cm4oXCJjaGlsZHJlbl9yZW1vdmVkXCI9PT1hP1wiY2hpbGRfcmVtb3ZlZFwiOmEpaW4gdGhpcy5qYX07aC5sZj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRiP25ldyBrYyh0aGlzLGEsYik6bnVsbH07XG5oLmNyZWF0ZUV2ZW50PWZ1bmN0aW9uKGEsYil7TyhudWxsIT1hLlphLFwiQ2hpbGQgZXZlbnRzIHNob3VsZCBoYXZlIGEgY2hpbGROYW1lLlwiKTt2YXIgYz1iLk1iKCkubyhhLlphKTtyZXR1cm4gbmV3IGpjKGEudHlwZSx0aGlzLG5ldyBXKGEuTmEsYyxiLm4uZyksYS5UZCl9O2guWmI9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy52YjtpZihcImNhbmNlbFwiPT09YS5EZSgpKXtPKHRoaXMudGIsXCJSYWlzaW5nIGEgY2FuY2VsIGV2ZW50IG9uIGEgbGlzdGVuZXIgd2l0aCBubyBjYW5jZWwgY2FsbGJhY2tcIik7dmFyIGM9dGhpcy50YjtyZXR1cm4gZnVuY3Rpb24oKXtjLmNhbGwoYixhLmVycm9yKX19dmFyIGQ9dGhpcy5qYVthLndkXTtyZXR1cm4gZnVuY3Rpb24oKXtkLmNhbGwoYixhLmJlLGEuVGQpfX07XG5oLm1hdGNoZXM9ZnVuY3Rpb24oYSl7aWYoYSBpbnN0YW5jZW9mIGppKXtpZighdGhpcy5qYXx8IWEuamEpcmV0dXJuITA7aWYodGhpcy52Yj09PWEudmIpe3ZhciBiPW9hKGEuamEpO2lmKGI9PT1vYSh0aGlzLmphKSl7aWYoMT09PWIpe3ZhciBiPXBhKGEuamEpLGM9cGEodGhpcy5qYSk7cmV0dXJuIGM9PT1iJiYoIWEuamFbYl18fCF0aGlzLmphW2NdfHxhLmphW2JdPT09dGhpcy5qYVtjXSl9cmV0dXJuIG5hKHRoaXMuamEsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5qYVtjXT09PWJ9KX19fXJldHVybiExfTtoLnlmPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGwhPT10aGlzLmphfTtmdW5jdGlvbiBraSgpe3RoaXMuemE9e319aD1raS5wcm90b3R5cGU7aC5lPWZ1bmN0aW9uKCl7cmV0dXJuIHZhKHRoaXMuemEpfTtoLmdiPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLnNvdXJjZS5MYjtpZihudWxsIT09ZClyZXR1cm4gZD16KHRoaXMuemEsZCksTyhudWxsIT1kLFwiU3luY1RyZWUgZ2F2ZSB1cyBhbiBvcCBmb3IgYW4gaW52YWxpZCBxdWVyeS5cIiksZC5nYihhLGIsYyk7dmFyIGU9W107dih0aGlzLnphLGZ1bmN0aW9uKGQpe2U9ZS5jb25jYXQoZC5nYihhLGIsYykpfSk7cmV0dXJuIGV9O2guVGI9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1hLndhKCksZz16KHRoaXMuemEsZik7aWYoIWcpe3ZhciBnPWMuQWEoZT9kOm51bGwpLGs9ITE7Zz9rPSEwOihnPWQgaW5zdGFuY2VvZiBmZT9jLkNjKGQpOkgsaz0hMSk7Zz1uZXcgWWUoYSxuZXcgamUobmV3IFhiKGcsaywhMSksbmV3IFhiKGQsZSwhMSkpKTt0aGlzLnphW2ZdPWd9Zy5UYihiKTtyZXR1cm4gYWYoZyxiKX07XG5oLm5iPWZ1bmN0aW9uKGEsYixjKXt2YXIgZD1hLndhKCksZT1bXSxmPVtdLGc9bnVsbCE9bGkodGhpcyk7aWYoXCJkZWZhdWx0XCI9PT1kKXt2YXIgaz10aGlzO3YodGhpcy56YSxmdW5jdGlvbihhLGQpe2Y9Zi5jb25jYXQoYS5uYihiLGMpKTthLmUoKSYmKGRlbGV0ZSBrLnphW2RdLEhlKGEuWS5uKXx8ZS5wdXNoKGEuWSkpfSl9ZWxzZXt2YXIgbT16KHRoaXMuemEsZCk7bSYmKGY9Zi5jb25jYXQobS5uYihiLGMpKSxtLmUoKSYmKGRlbGV0ZSB0aGlzLnphW2RdLEhlKG0uWS5uKXx8ZS5wdXNoKG0uWSkpKX1nJiZudWxsPT1saSh0aGlzKSYmZS5wdXNoKG5ldyBYKGEuayxhLnBhdGgpKTtyZXR1cm57Vmc6ZSx2ZzpmfX07ZnVuY3Rpb24gbWkoYSl7cmV0dXJuIE5hKHFhKGEuemEpLGZ1bmN0aW9uKGEpe3JldHVybiFIZShhLlkubil9KX1oLmtiPWZ1bmN0aW9uKGEpe3ZhciBiPW51bGw7dih0aGlzLnphLGZ1bmN0aW9uKGMpe2I9Ynx8Yy5rYihhKX0pO3JldHVybiBifTtcbmZ1bmN0aW9uIG5pKGEsYil7aWYoSGUoYi5uKSlyZXR1cm4gbGkoYSk7dmFyIGM9Yi53YSgpO3JldHVybiB6KGEuemEsYyl9ZnVuY3Rpb24gbGkoYSl7cmV0dXJuIHVhKGEuemEsZnVuY3Rpb24oYSl7cmV0dXJuIEhlKGEuWS5uKX0pfHxudWxsfTtmdW5jdGlvbiBvaShhKXt0aGlzLnZhPXFlO3RoaXMubWI9bmV3IFBmO3RoaXMuZGY9e307dGhpcy5xYz17fTt0aGlzLlFjPWF9ZnVuY3Rpb24gcGkoYSxiLGMsZCxlKXt2YXIgZj1hLm1iLGc9ZTtPKGQ+Zi5QYyxcIlN0YWNraW5nIGFuIG9sZGVyIHdyaXRlIG9uIHRvcCBvZiBuZXdlciBvbmVzXCIpO3AoZyl8fChnPSEwKTtmLnBhLnB1c2goe3BhdGg6YixKYTpjLG1kOmQsdmlzaWJsZTpnfSk7ZyYmKGYuVj1KZihmLlYsYixjKSk7Zi5QYz1kO3JldHVybiBlP3FpKGEsbmV3IEFjKEVmLGIsYykpOltdfWZ1bmN0aW9uIHJpKGEsYixjLGQpe3ZhciBlPWEubWI7TyhkPmUuUGMsXCJTdGFja2luZyBhbiBvbGRlciBtZXJnZSBvbiB0b3Agb2YgbmV3ZXIgb25lc1wiKTtlLnBhLnB1c2goe3BhdGg6YixjaGlsZHJlbjpjLG1kOmQsdmlzaWJsZTohMH0pO2UuVj1LZihlLlYsYixjKTtlLlBjPWQ7Yz1zZihjKTtyZXR1cm4gcWkoYSxuZXcgYmYoRWYsYixjKSl9XG5mdW5jdGlvbiBzaShhLGIsYyl7Yz1jfHwhMTt2YXIgZD1RZihhLm1iLGIpO2lmKGEubWIuVWQoYikpe3ZhciBlPXFlO251bGwhPWQuSmE/ZT1lLnNldChNLCEwKTpGYihkLmNoaWxkcmVuLGZ1bmN0aW9uKGEsYil7ZT1lLnNldChuZXcgUChhKSxiKX0pO3JldHVybiBxaShhLG5ldyBEZihkLnBhdGgsZSxjKSl9cmV0dXJuW119ZnVuY3Rpb24gdGkoYSxiLGMpe2M9c2YoYyk7cmV0dXJuIHFpKGEsbmV3IGJmKEdmLGIsYykpfWZ1bmN0aW9uIHVpKGEsYixjLGQpe2Q9dmkoYSxkKTtpZihudWxsIT1kKXt2YXIgZT13aShkKTtkPWUucGF0aDtlPWUuTGI7Yj1sZihkLGIpO2M9bmV3IEFjKG5ldyBGZighMSwhMCxlLCEwKSxiLGMpO3JldHVybiB4aShhLGQsYyl9cmV0dXJuW119XG5mdW5jdGlvbiB5aShhLGIsYyxkKXtpZihkPXZpKGEsZCkpe3ZhciBlPXdpKGQpO2Q9ZS5wYXRoO2U9ZS5MYjtiPWxmKGQsYik7Yz1zZihjKTtjPW5ldyBiZihuZXcgRmYoITEsITAsZSwhMCksYixjKTtyZXR1cm4geGkoYSxkLGMpfXJldHVybltdfVxub2kucHJvdG90eXBlLlRiPWZ1bmN0aW9uKGEsYil7dmFyIGM9YS5wYXRoLGQ9bnVsbCxlPSExO3pmKHRoaXMudmEsYyxmdW5jdGlvbihhLGIpe3ZhciBmPWxmKGEsYyk7ZD1kfHxiLmtiKGYpO2U9ZXx8bnVsbCE9bGkoYil9KTt2YXIgZj10aGlzLnZhLmdldChjKTtmPyhlPWV8fG51bGwhPWxpKGYpLGQ9ZHx8Zi5rYihNKSk6KGY9bmV3IGtpLHRoaXMudmE9dGhpcy52YS5zZXQoYyxmKSk7dmFyIGc7bnVsbCE9ZD9nPSEwOihnPSExLGQ9SCxDZih0aGlzLnZhLnN1YnRyZWUoYyksZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmtiKE0pO2MmJihkPWQuVyhhLGMpKX0pKTt2YXIgaz1udWxsIT1uaShmLGEpO2lmKCFrJiYhSGUoYS5uKSl7dmFyIG09emkoYSk7TyghKG0gaW4gdGhpcy5xYyksXCJWaWV3IGRvZXMgbm90IGV4aXN0LCBidXQgd2UgaGF2ZSBhIHRhZ1wiKTt2YXIgbD1BaSsrO3RoaXMucWNbbV09bDt0aGlzLmRmW1wiX1wiK2xdPW19Zz1mLlRiKGEsYixuZXcgVWYoYyx0aGlzLm1iKSxkLGcpO1xua3x8ZXx8KGY9bmkoZixhKSxnPWcuY29uY2F0KEJpKHRoaXMsYSxmKSkpO3JldHVybiBnfTtcbm9pLnByb3RvdHlwZS5uYj1mdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5wYXRoLGU9dGhpcy52YS5nZXQoZCksZj1bXTtpZihlJiYoXCJkZWZhdWx0XCI9PT1hLndhKCl8fG51bGwhPW5pKGUsYSkpKXtmPWUubmIoYSxiLGMpO2UuZSgpJiYodGhpcy52YT10aGlzLnZhLnJlbW92ZShkKSk7ZT1mLlZnO2Y9Zi52ZztiPS0xIT09U2EoZSxmdW5jdGlvbihhKXtyZXR1cm4gSGUoYS5uKX0pO3ZhciBnPXhmKHRoaXMudmEsZCxmdW5jdGlvbihhLGIpe3JldHVybiBudWxsIT1saShiKX0pO2lmKGImJiFnJiYoZD10aGlzLnZhLnN1YnRyZWUoZCksIWQuZSgpKSlmb3IodmFyIGQ9Q2koZCksaz0wO2s8ZC5sZW5ndGg7KytrKXt2YXIgbT1kW2tdLGw9bS5ZLG09RGkodGhpcyxtKTt0aGlzLlFjLmFmKEVpKGwpLEZpKHRoaXMsbCksbS5BZCxtLkkpfWlmKCFnJiYwPGUubGVuZ3RoJiYhYylpZihiKXRoaXMuUWMuZGUoRWkoYSksbnVsbCk7ZWxzZXt2YXIgdD10aGlzO01hKGUsZnVuY3Rpb24oYSl7YS53YSgpO1xudmFyIGI9dC5xY1t6aShhKV07dC5RYy5kZShFaShhKSxiKX0pfUdpKHRoaXMsZSl9cmV0dXJuIGZ9O29pLnByb3RvdHlwZS5BYT1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXMubWIsZD14Zih0aGlzLnZhLGEsZnVuY3Rpb24oYixjKXt2YXIgZD1sZihiLGEpO2lmKGQ9Yy5rYihkKSlyZXR1cm4gZH0pO3JldHVybiBjLkFhKGEsZCxiLCEwKX07ZnVuY3Rpb24gQ2koYSl7cmV0dXJuIHZmKGEsZnVuY3Rpb24oYSxjLGQpe2lmKGMmJm51bGwhPWxpKGMpKXJldHVybltsaShjKV07dmFyIGU9W107YyYmKGU9bWkoYykpO3YoZCxmdW5jdGlvbihhKXtlPWUuY29uY2F0KGEpfSk7cmV0dXJuIGV9KX1mdW5jdGlvbiBHaShhLGIpe2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1iW2NdO2lmKCFIZShkLm4pKXt2YXIgZD16aShkKSxlPWEucWNbZF07ZGVsZXRlIGEucWNbZF07ZGVsZXRlIGEuZGZbXCJfXCIrZV19fX1cbmZ1bmN0aW9uIEVpKGEpe3JldHVybiBIZShhLm4pJiYhSWUoYS5uKT9hLk1iKCk6YX1mdW5jdGlvbiBCaShhLGIsYyl7dmFyIGQ9Yi5wYXRoLGU9RmkoYSxiKTtjPURpKGEsYyk7Yj1hLlFjLmFmKEVpKGIpLGUsYy5BZCxjLkkpO2Q9YS52YS5zdWJ0cmVlKGQpO2lmKGUpTyhudWxsPT1saShkLnZhbHVlKSxcIklmIHdlJ3JlIGFkZGluZyBhIHF1ZXJ5LCBpdCBzaG91bGRuJ3QgYmUgc2hhZG93ZWRcIik7ZWxzZSBmb3IoZT12ZihkLGZ1bmN0aW9uKGEsYixjKXtpZighYS5lKCkmJmImJm51bGwhPWxpKGIpKXJldHVybltaZShsaShiKSldO3ZhciBkPVtdO2ImJihkPWQuY29uY2F0KE9hKG1pKGIpLGZ1bmN0aW9uKGEpe3JldHVybiBhLll9KSkpO3YoYyxmdW5jdGlvbihhKXtkPWQuY29uY2F0KGEpfSk7cmV0dXJuIGR9KSxkPTA7ZDxlLmxlbmd0aDsrK2QpYz1lW2RdLGEuUWMuZGUoRWkoYyksRmkoYSxjKSk7cmV0dXJuIGJ9XG5mdW5jdGlvbiBEaShhLGIpe3ZhciBjPWIuWSxkPUZpKGEsYyk7cmV0dXJue0FkOmZ1bmN0aW9uKCl7cmV0dXJuKGIudygpfHxIKS5oYXNoKCl9LEk6ZnVuY3Rpb24oYil7aWYoXCJva1wiPT09Yil7aWYoZCl7dmFyIGY9Yy5wYXRoO2lmKGI9dmkoYSxkKSl7dmFyIGc9d2koYik7Yj1nLnBhdGg7Zz1nLkxiO2Y9bGYoYixmKTtmPW5ldyBDYyhuZXcgRmYoITEsITAsZywhMCksZik7Yj14aShhLGIsZil9ZWxzZSBiPVtdfWVsc2UgYj1xaShhLG5ldyBDYyhHZixjLnBhdGgpKTtyZXR1cm4gYn1mPVwiVW5rbm93biBFcnJvclwiO1widG9vX2JpZ1wiPT09Yj9mPVwiVGhlIGRhdGEgcmVxdWVzdGVkIGV4Y2VlZHMgdGhlIG1heGltdW0gc2l6ZSB0aGF0IGNhbiBiZSBhY2Nlc3NlZCB3aXRoIGEgc2luZ2xlIHJlcXVlc3QuXCI6XCJwZXJtaXNzaW9uX2RlbmllZFwiPT1iP2Y9XCJDbGllbnQgZG9lc24ndCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzIHRoZSBkZXNpcmVkIGRhdGEuXCI6XCJ1bmF2YWlsYWJsZVwiPT1iJiZcbihmPVwiVGhlIHNlcnZpY2UgaXMgdW5hdmFpbGFibGVcIik7Zj1FcnJvcihiK1wiIGF0IFwiK2MucGF0aC50b1N0cmluZygpK1wiOiBcIitmKTtmLmNvZGU9Yi50b1VwcGVyQ2FzZSgpO3JldHVybiBhLm5iKGMsbnVsbCxmKX19fWZ1bmN0aW9uIHppKGEpe3JldHVybiBhLnBhdGgudG9TdHJpbmcoKStcIiRcIithLndhKCl9ZnVuY3Rpb24gd2koYSl7dmFyIGI9YS5pbmRleE9mKFwiJFwiKTtPKC0xIT09YiYmYjxhLmxlbmd0aC0xLFwiQmFkIHF1ZXJ5S2V5LlwiKTtyZXR1cm57TGI6YS5zdWJzdHIoYisxKSxwYXRoOm5ldyBQKGEuc3Vic3RyKDAsYikpfX1mdW5jdGlvbiB2aShhLGIpe3ZhciBjPWEuZGYsZD1cIl9cIitiO3JldHVybiBkIGluIGM/Y1tkXTp2b2lkIDB9ZnVuY3Rpb24gRmkoYSxiKXt2YXIgYz16aShiKTtyZXR1cm4geihhLnFjLGMpfXZhciBBaT0xO1xuZnVuY3Rpb24geGkoYSxiLGMpe3ZhciBkPWEudmEuZ2V0KGIpO08oZCxcIk1pc3Npbmcgc3luYyBwb2ludCBmb3IgcXVlcnkgdGFnIHRoYXQgd2UncmUgdHJhY2tpbmdcIik7cmV0dXJuIGQuZ2IoYyxuZXcgVWYoYixhLm1iKSxudWxsKX1mdW5jdGlvbiBxaShhLGIpe3JldHVybiBIaShhLGIsYS52YSxudWxsLG5ldyBVZihNLGEubWIpKX1mdW5jdGlvbiBIaShhLGIsYyxkLGUpe2lmKGIucGF0aC5lKCkpcmV0dXJuIElpKGEsYixjLGQsZSk7dmFyIGY9Yy5nZXQoTSk7bnVsbD09ZCYmbnVsbCE9ZiYmKGQ9Zi5rYihNKSk7dmFyIGc9W10saz1LKGIucGF0aCksbT1iLiRjKGspO2lmKChjPWMuY2hpbGRyZW4uZ2V0KGspKSYmbSl2YXIgbD1kP2QuVChrKTpudWxsLGs9ZS5vKGspLGc9Zy5jb25jYXQoSGkoYSxtLGMsbCxrKSk7ZiYmKGc9Zy5jb25jYXQoZi5nYihiLGUsZCkpKTtyZXR1cm4gZ31cbmZ1bmN0aW9uIElpKGEsYixjLGQsZSl7dmFyIGY9Yy5nZXQoTSk7bnVsbD09ZCYmbnVsbCE9ZiYmKGQ9Zi5rYihNKSk7dmFyIGc9W107Yy5jaGlsZHJlbi5rYShmdW5jdGlvbihjLGYpe3ZhciBsPWQ/ZC5UKGMpOm51bGwsdD1lLm8oYyksQT1iLiRjKGMpO0EmJihnPWcuY29uY2F0KElpKGEsQSxmLGwsdCkpKX0pO2YmJihnPWcuY29uY2F0KGYuZ2IoYixlLGQpKSk7cmV0dXJuIGd9O2Z1bmN0aW9uIEppKGEsYil7dGhpcy5HPWE7dGhpcy5YYT11YyhhKTt0aGlzLmhkPW51bGw7dGhpcy5mYT1uZXcgWmI7dGhpcy5LZD0xO3RoaXMuVmE9bnVsbDtifHwwPD0oXCJvYmplY3RcIj09PXR5cGVvZiB3aW5kb3cmJndpbmRvdy5uYXZpZ2F0b3ImJndpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50fHxcIlwiKS5zZWFyY2goL2dvb2dsZWJvdHxnb29nbGUgd2VibWFzdGVyIHRvb2xzfGJpbmdib3R8eWFob28hIHNsdXJwfGJhaWR1c3BpZGVyfHlhbmRleGJvdHxkdWNrZHVja2JvdC9pKT8odGhpcy5kYT1uZXcgY2YodGhpcy5HLHUodGhpcy5LYix0aGlzKSksc2V0VGltZW91dCh1KHRoaXMuWGMsdGhpcywhMCksMCkpOnRoaXMuZGE9dGhpcy5WYT1uZXcgUmgodGhpcy5HLHUodGhpcy5LYix0aGlzKSx1KHRoaXMuWGMsdGhpcyksdSh0aGlzLlNlLHRoaXMpKTt0aGlzLmRoPXZjKGEsdShmdW5jdGlvbigpe3JldHVybiBuZXcgcGModGhpcy5YYSx0aGlzLmRhKX0sdGhpcykpO3RoaXMueWM9bmV3IFdmO1xudGhpcy5HZT1uZXcgU2I7dmFyIGM9dGhpczt0aGlzLkZkPW5ldyBvaSh7YWY6ZnVuY3Rpb24oYSxiLGYsZyl7Yj1bXTtmPWMuR2UuaihhLnBhdGgpO2YuZSgpfHwoYj1xaShjLkZkLG5ldyBBYyhHZixhLnBhdGgsZikpLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtnKFwib2tcIil9LDApKTtyZXR1cm4gYn0sZGU6YWF9KTtLaSh0aGlzLFwiY29ubmVjdGVkXCIsITEpO3RoaXMubmE9bmV3IFZjO3RoaXMuTz1uZXcgWWcoYSx1KHRoaXMuZGEuTyx0aGlzLmRhKSx1KHRoaXMuZGEuamUsdGhpcy5kYSksdSh0aGlzLlBlLHRoaXMpKTt0aGlzLnVkPTA7dGhpcy5IZT1udWxsO3RoaXMuTT1uZXcgb2koe2FmOmZ1bmN0aW9uKGEsYixmLGcpe2MuZGEuQ2YoYSxmLGIsZnVuY3Rpb24oYixlKXt2YXIgZj1nKGIsZSk7ZGMoYy5mYSxhLnBhdGgsZil9KTtyZXR1cm5bXX0sZGU6ZnVuY3Rpb24oYSxiKXtjLmRhLiRmKGEsYil9fSl9aD1KaS5wcm90b3R5cGU7XG5oLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuKHRoaXMuRy5vYj9cImh0dHBzOi8vXCI6XCJodHRwOi8vXCIpK3RoaXMuRy5ob3N0fTtoLm5hbWU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HLmxjfTtmdW5jdGlvbiBMaShhKXthPWEuR2UuaihuZXcgUChcIi5pbmZvL3NlcnZlclRpbWVPZmZzZXRcIikpLkooKXx8MDtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKSthfWZ1bmN0aW9uIE1pKGEpe2E9YT17dGltZXN0YW1wOkxpKGEpfTthLnRpbWVzdGFtcD1hLnRpbWVzdGFtcHx8KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuIGF9XG5oLktiPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMudWQrKzt2YXIgZT1uZXcgUChhKTtiPXRoaXMuSGU/dGhpcy5IZShhLGIpOmI7YT1bXTtkP2M/KGI9bWEoYixmdW5jdGlvbihhKXtyZXR1cm4gUShhKX0pLGE9eWkodGhpcy5NLGUsYixkKSk6KGI9UShiKSxhPXVpKHRoaXMuTSxlLGIsZCkpOmM/KGQ9bWEoYixmdW5jdGlvbihhKXtyZXR1cm4gUShhKX0pLGE9dGkodGhpcy5NLGUsZCkpOihkPVEoYiksYT1xaSh0aGlzLk0sbmV3IEFjKEdmLGUsZCkpKTtkPWU7MDxhLmxlbmd0aCYmKGQ9TmkodGhpcyxlKSk7ZGModGhpcy5mYSxkLGEpfTtoLlhjPWZ1bmN0aW9uKGEpe0tpKHRoaXMsXCJjb25uZWN0ZWRcIixhKTshMT09PWEmJk9pKHRoaXMpfTtoLlNlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXM7emQoYSxmdW5jdGlvbihhLGQpe0tpKGIsZCxhKX0pfTtoLlBlPWZ1bmN0aW9uKGEpe0tpKHRoaXMsXCJhdXRoZW50aWNhdGVkXCIsYSl9O1xuZnVuY3Rpb24gS2koYSxiLGMpe2I9bmV3IFAoXCIvLmluZm8vXCIrYik7Yz1RKGMpO3ZhciBkPWEuR2U7ZC5aZD1kLlpkLkgoYixjKTtjPXFpKGEuRmQsbmV3IEFjKEdmLGIsYykpO2RjKGEuZmEsYixjKX1oLk9iPWZ1bmN0aW9uKGEsYixjLGQpe3RoaXMuZihcInNldFwiLHtwYXRoOmEudG9TdHJpbmcoKSx2YWx1ZTpiLG1oOmN9KTt2YXIgZT1NaSh0aGlzKTtiPVEoYixjKTt2YXIgZT1YYyhiLGUpLGY9dGhpcy5LZCsrLGU9cGkodGhpcy5NLGEsZSxmLCEwKTskYih0aGlzLmZhLGUpO3ZhciBnPXRoaXM7dGhpcy5kYS5wdXQoYS50b1N0cmluZygpLGIuSighMCksZnVuY3Rpb24oYixjKXt2YXIgZT1cIm9rXCI9PT1iO2V8fFMoXCJzZXQgYXQgXCIrYStcIiBmYWlsZWQ6IFwiK2IpO2U9c2koZy5NLGYsIWUpO2RjKGcuZmEsYSxlKTtQaShkLGIsYyl9KTtlPVFpKHRoaXMsYSk7TmkodGhpcyxlKTtkYyh0aGlzLmZhLGUsW10pfTtcbmgudXBkYXRlPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmYoXCJ1cGRhdGVcIix7cGF0aDphLnRvU3RyaW5nKCksdmFsdWU6Yn0pO3ZhciBkPSEwLGU9TWkodGhpcyksZj17fTt2KGIsZnVuY3Rpb24oYSxiKXtkPSExO3ZhciBjPVEoYSk7ZltiXT1YYyhjLGUpfSk7aWYoZClmYyhcInVwZGF0ZSgpIGNhbGxlZCB3aXRoIGVtcHR5IGRhdGEuICBEb24ndCBkbyBhbnl0aGluZy5cIiksUGkoYyxcIm9rXCIpO2Vsc2V7dmFyIGc9dGhpcy5LZCsrLGs9cmkodGhpcy5NLGEsZixnKTskYih0aGlzLmZhLGspO3ZhciBtPXRoaXM7dGhpcy5kYS5EZihhLnRvU3RyaW5nKCksYixmdW5jdGlvbihiLGQpe3ZhciBlPVwib2tcIj09PWI7ZXx8UyhcInVwZGF0ZSBhdCBcIithK1wiIGZhaWxlZDogXCIrYik7dmFyIGU9c2kobS5NLGcsIWUpLGY9YTswPGUubGVuZ3RoJiYoZj1OaShtLGEpKTtkYyhtLmZhLGYsZSk7UGkoYyxiLGQpfSk7Yj1RaSh0aGlzLGEpO05pKHRoaXMsYik7ZGModGhpcy5mYSxhLFtdKX19O1xuZnVuY3Rpb24gT2koYSl7YS5mKFwib25EaXNjb25uZWN0RXZlbnRzXCIpO3ZhciBiPU1pKGEpLGM9W107V2MoVWMoYS5uYSxiKSxNLGZ1bmN0aW9uKGIsZSl7Yz1jLmNvbmNhdChxaShhLk0sbmV3IEFjKEdmLGIsZSkpKTt2YXIgZj1RaShhLGIpO05pKGEsZil9KTthLm5hPW5ldyBWYztkYyhhLmZhLE0sYyl9aC5NZD1mdW5jdGlvbihhLGIpe3ZhciBjPXRoaXM7dGhpcy5kYS5NZChhLnRvU3RyaW5nKCksZnVuY3Rpb24oZCxlKXtcIm9rXCI9PT1kJiZ3ZyhjLm5hLGEpO1BpKGIsZCxlKX0pfTtmdW5jdGlvbiBmaShhLGIsYyxkKXt2YXIgZT1RKGMpO2EuZGEuUWUoYi50b1N0cmluZygpLGUuSighMCksZnVuY3Rpb24oYyxnKXtcIm9rXCI9PT1jJiZhLm5hLnJjKGIsZSk7UGkoZCxjLGcpfSl9ZnVuY3Rpb24gZ2koYSxiLGMsZCxlKXt2YXIgZj1RKGMsZCk7YS5kYS5RZShiLnRvU3RyaW5nKCksZi5KKCEwKSxmdW5jdGlvbihjLGQpe1wib2tcIj09PWMmJmEubmEucmMoYixmKTtQaShlLGMsZCl9KX1cbmZ1bmN0aW9uIGhpKGEsYixjLGQpe3ZhciBlPSEwLGY7Zm9yKGYgaW4gYyllPSExO2U/KGZjKFwib25EaXNjb25uZWN0KCkudXBkYXRlKCkgY2FsbGVkIHdpdGggZW1wdHkgZGF0YS4gIERvbid0IGRvIGFueXRoaW5nLlwiKSxQaShkLFwib2tcIikpOmEuZGEuR2YoYi50b1N0cmluZygpLGMsZnVuY3Rpb24oZSxmKXtpZihcIm9rXCI9PT1lKWZvcih2YXIgbSBpbiBjKXt2YXIgbD1RKGNbbV0pO2EubmEucmMoYi5vKG0pLGwpfVBpKGQsZSxmKX0pfWZ1bmN0aW9uIFJpKGEsYixjKXtjPVwiLmluZm9cIj09PUsoYi5wYXRoKT9hLkZkLlRiKGIsYyk6YS5NLlRiKGIsYyk7YmMoYS5mYSxiLnBhdGgsYyl9aC5DYj1mdW5jdGlvbigpe3RoaXMuVmEmJnRoaXMuVmEuQ2IoKX07aC52Yz1mdW5jdGlvbigpe3RoaXMuVmEmJnRoaXMuVmEudmMoKX07XG5oLmJmPWZ1bmN0aW9uKGEpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgY29uc29sZSl7YT8odGhpcy5oZHx8KHRoaXMuaGQ9bmV3IG9jKHRoaXMuWGEpKSxhPXRoaXMuaGQuZ2V0KCkpOmE9dGhpcy5YYS5nZXQoKTt2YXIgYj1QYShyYShhKSxmdW5jdGlvbihhLGIpe3JldHVybiBNYXRoLm1heChiLmxlbmd0aCxhKX0sMCksYztmb3IoYyBpbiBhKXtmb3IodmFyIGQ9YVtjXSxlPWMubGVuZ3RoO2U8YisyO2UrKyljKz1cIiBcIjtjb25zb2xlLmxvZyhjK2QpfX19O2guY2Y9ZnVuY3Rpb24oYSl7cmModGhpcy5YYSxhKTt0aGlzLmRoLlZmW2FdPSEwfTtoLmY9ZnVuY3Rpb24oYSl7dmFyIGI9XCJcIjt0aGlzLlZhJiYoYj10aGlzLlZhLmlkK1wiOlwiKTtmYyhiLGFyZ3VtZW50cyl9O1xuZnVuY3Rpb24gUGkoYSxiLGMpe2EmJmdjKGZ1bmN0aW9uKCl7aWYoXCJva1wiPT1iKWEobnVsbCk7ZWxzZXt2YXIgZD0oYnx8XCJlcnJvclwiKS50b1VwcGVyQ2FzZSgpLGU9ZDtjJiYoZSs9XCI6IFwiK2MpO2U9RXJyb3IoZSk7ZS5jb2RlPWQ7YShlKX19KX07ZnVuY3Rpb24gU2koYSxiLGMsZCxlKXtmdW5jdGlvbiBmKCl7fWEuZihcInRyYW5zYWN0aW9uIG9uIFwiK2IpO3ZhciBnPW5ldyBYKGEsYik7Zy5JYihcInZhbHVlXCIsZik7Yz17cGF0aDpiLHVwZGF0ZTpjLEk6ZCxzdGF0dXM6bnVsbCxMZjppZCgpLGdmOmUsU2Y6MCxsZTpmdW5jdGlvbigpe2cubWMoXCJ2YWx1ZVwiLGYpfSxuZTpudWxsLERhOm51bGwscmQ6bnVsbCxzZDpudWxsLHRkOm51bGx9O2Q9YS5NLkFhKGIsdm9pZCAwKXx8SDtjLnJkPWQ7ZD1jLnVwZGF0ZShkLkooKSk7aWYocChkKSl7aGcoXCJ0cmFuc2FjdGlvbiBmYWlsZWQ6IERhdGEgcmV0dXJuZWQgXCIsZCxjLnBhdGgpO2Muc3RhdHVzPTE7ZT1YZihhLnljLGIpO3ZhciBrPWUuRWEoKXx8W107ay5wdXNoKGMpO1lmKGUsayk7XCJvYmplY3RcIj09PXR5cGVvZiBkJiZudWxsIT09ZCYmeShkLFwiLnByaW9yaXR5XCIpPyhrPXooZCxcIi5wcmlvcml0eVwiKSxPKGZnKGspLFwiSW52YWxpZCBwcmlvcml0eSByZXR1cm5lZCBieSB0cmFuc2FjdGlvbi4gUHJpb3JpdHkgbXVzdCBiZSBhIHZhbGlkIHN0cmluZywgZmluaXRlIG51bWJlciwgc2VydmVyIHZhbHVlLCBvciBudWxsLlwiKSk6XG5rPShhLk0uQWEoYil8fEgpLkMoKS5KKCk7ZT1NaShhKTtkPVEoZCxrKTtlPVhjKGQsZSk7Yy5zZD1kO2MudGQ9ZTtjLkRhPWEuS2QrKztjPXBpKGEuTSxiLGUsYy5EYSxjLmdmKTtkYyhhLmZhLGIsYyk7VGkoYSl9ZWxzZSBjLmxlKCksYy5zZD1udWxsLGMudGQ9bnVsbCxjLkkmJihhPW5ldyBXKGMucmQsbmV3IFgoYSxjLnBhdGgpLFIpLGMuSShudWxsLCExLGEpKX1mdW5jdGlvbiBUaShhLGIpe3ZhciBjPWJ8fGEueWM7Ynx8VWkoYSxjKTtpZihudWxsIT09Yy5FYSgpKXt2YXIgZD1WaShhLGMpO08oMDxkLmxlbmd0aCxcIlNlbmRpbmcgemVybyBsZW5ndGggdHJhbnNhY3Rpb24gcXVldWVcIik7UWEoZCxmdW5jdGlvbihhKXtyZXR1cm4gMT09PWEuc3RhdHVzfSkmJldpKGEsYy5wYXRoKCksZCl9ZWxzZSBjLnpkKCkmJmMuUihmdW5jdGlvbihiKXtUaShhLGIpfSl9XG5mdW5jdGlvbiBXaShhLGIsYyl7Zm9yKHZhciBkPU9hKGMsZnVuY3Rpb24oYSl7cmV0dXJuIGEuRGF9KSxlPWEuTS5BYShiLGQpfHxILGQ9ZSxlPWUuaGFzaCgpLGY9MDtmPGMubGVuZ3RoO2YrKyl7dmFyIGc9Y1tmXTtPKDE9PT1nLnN0YXR1cyxcInRyeVRvU2VuZFRyYW5zYWN0aW9uUXVldWVfOiBpdGVtcyBpbiBxdWV1ZSBzaG91bGQgYWxsIGJlIHJ1bi5cIik7Zy5zdGF0dXM9MjtnLlNmKys7dmFyIGs9bGYoYixnLnBhdGgpLGQ9ZC5IKGssZy5zZCl9ZD1kLkooITApO2EuZGEucHV0KGIudG9TdHJpbmcoKSxkLGZ1bmN0aW9uKGQpe2EuZihcInRyYW5zYWN0aW9uIHB1dCByZXNwb25zZVwiLHtwYXRoOmIudG9TdHJpbmcoKSxzdGF0dXM6ZH0pO3ZhciBlPVtdO2lmKFwib2tcIj09PWQpe2Q9W107Zm9yKGY9MDtmPGMubGVuZ3RoO2YrKyl7Y1tmXS5zdGF0dXM9MztlPWUuY29uY2F0KHNpKGEuTSxjW2ZdLkRhKSk7aWYoY1tmXS5JKXt2YXIgZz1jW2ZdLnRkLGs9bmV3IFgoYSxjW2ZdLnBhdGgpO2QucHVzaCh1KGNbZl0uSSxcbm51bGwsbnVsbCwhMCxuZXcgVyhnLGssUikpKX1jW2ZdLmxlKCl9VWkoYSxYZihhLnljLGIpKTtUaShhKTtkYyhhLmZhLGIsZSk7Zm9yKGY9MDtmPGQubGVuZ3RoO2YrKylnYyhkW2ZdKX1lbHNle2lmKFwiZGF0YXN0YWxlXCI9PT1kKWZvcihmPTA7ZjxjLmxlbmd0aDtmKyspY1tmXS5zdGF0dXM9ND09PWNbZl0uc3RhdHVzPzU6MTtlbHNlIGZvcihTKFwidHJhbnNhY3Rpb24gYXQgXCIrYi50b1N0cmluZygpK1wiIGZhaWxlZDogXCIrZCksZj0wO2Y8Yy5sZW5ndGg7ZisrKWNbZl0uc3RhdHVzPTUsY1tmXS5uZT1kO05pKGEsYil9fSxlKX1mdW5jdGlvbiBOaShhLGIpe3ZhciBjPVhpKGEsYiksZD1jLnBhdGgoKSxjPVZpKGEsYyk7WWkoYSxjLGQpO3JldHVybiBkfVxuZnVuY3Rpb24gWWkoYSxiLGMpe2lmKDAhPT1iLmxlbmd0aCl7Zm9yKHZhciBkPVtdLGU9W10sZj1PYShiLGZ1bmN0aW9uKGEpe3JldHVybiBhLkRhfSksZz0wO2c8Yi5sZW5ndGg7ZysrKXt2YXIgaz1iW2ddLG09bGYoYyxrLnBhdGgpLGw9ITEsdDtPKG51bGwhPT1tLFwicmVydW5UcmFuc2FjdGlvbnNVbmRlck5vZGVfOiByZWxhdGl2ZVBhdGggc2hvdWxkIG5vdCBiZSBudWxsLlwiKTtpZig1PT09ay5zdGF0dXMpbD0hMCx0PWsubmUsZT1lLmNvbmNhdChzaShhLk0say5EYSwhMCkpO2Vsc2UgaWYoMT09PWsuc3RhdHVzKWlmKDI1PD1rLlNmKWw9ITAsdD1cIm1heHJldHJ5XCIsZT1lLmNvbmNhdChzaShhLk0say5EYSwhMCkpO2Vsc2V7dmFyIEE9YS5NLkFhKGsucGF0aCxmKXx8SDtrLnJkPUE7dmFyIEk9YltnXS51cGRhdGUoQS5KKCkpO3AoSSk/KGhnKFwidHJhbnNhY3Rpb24gZmFpbGVkOiBEYXRhIHJldHVybmVkIFwiLEksay5wYXRoKSxtPVEoSSksXCJvYmplY3RcIj09PXR5cGVvZiBJJiZudWxsIT1cbkkmJnkoSSxcIi5wcmlvcml0eVwiKXx8KG09bS5pYShBLkMoKSkpLEE9ay5EYSxJPU1pKGEpLEk9WGMobSxJKSxrLnNkPW0say50ZD1JLGsuRGE9YS5LZCsrLFRhKGYsQSksZT1lLmNvbmNhdChwaShhLk0say5wYXRoLEksay5EYSxrLmdmKSksZT1lLmNvbmNhdChzaShhLk0sQSwhMCkpKToobD0hMCx0PVwibm9kYXRhXCIsZT1lLmNvbmNhdChzaShhLk0say5EYSwhMCkpKX1kYyhhLmZhLGMsZSk7ZT1bXTtsJiYoYltnXS5zdGF0dXM9MyxzZXRUaW1lb3V0KGJbZ10ubGUsTWF0aC5mbG9vcigwKSksYltnXS5JJiYoXCJub2RhdGFcIj09PXQ/KGs9bmV3IFgoYSxiW2ddLnBhdGgpLGQucHVzaCh1KGJbZ10uSSxudWxsLG51bGwsITEsbmV3IFcoYltnXS5yZCxrLFIpKSkpOmQucHVzaCh1KGJbZ10uSSxudWxsLEVycm9yKHQpLCExLG51bGwpKSkpfVVpKGEsYS55Yyk7Zm9yKGc9MDtnPGQubGVuZ3RoO2crKylnYyhkW2ddKTtUaShhKX19XG5mdW5jdGlvbiBYaShhLGIpe2Zvcih2YXIgYyxkPWEueWM7bnVsbCE9PShjPUsoYikpJiZudWxsPT09ZC5FYSgpOylkPVhmKGQsYyksYj1OKGIpO3JldHVybiBkfWZ1bmN0aW9uIFZpKGEsYil7dmFyIGM9W107WmkoYSxiLGMpO2Muc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLkxmLWIuTGZ9KTtyZXR1cm4gY31mdW5jdGlvbiBaaShhLGIsYyl7dmFyIGQ9Yi5FYSgpO2lmKG51bGwhPT1kKWZvcih2YXIgZT0wO2U8ZC5sZW5ndGg7ZSsrKWMucHVzaChkW2VdKTtiLlIoZnVuY3Rpb24oYil7WmkoYSxiLGMpfSl9ZnVuY3Rpb24gVWkoYSxiKXt2YXIgYz1iLkVhKCk7aWYoYyl7Zm9yKHZhciBkPTAsZT0wO2U8Yy5sZW5ndGg7ZSsrKTMhPT1jW2VdLnN0YXR1cyYmKGNbZF09Y1tlXSxkKyspO2MubGVuZ3RoPWQ7WWYoYiwwPGMubGVuZ3RoP2M6bnVsbCl9Yi5SKGZ1bmN0aW9uKGIpe1VpKGEsYil9KX1cbmZ1bmN0aW9uIFFpKGEsYil7dmFyIGM9WGkoYSxiKS5wYXRoKCksZD1YZihhLnljLGIpO2FnKGQsZnVuY3Rpb24oYil7JGkoYSxiKX0pOyRpKGEsZCk7JGYoZCxmdW5jdGlvbihiKXskaShhLGIpfSk7cmV0dXJuIGN9XG5mdW5jdGlvbiAkaShhLGIpe3ZhciBjPWIuRWEoKTtpZihudWxsIT09Yyl7Zm9yKHZhciBkPVtdLGU9W10sZj0tMSxnPTA7ZzxjLmxlbmd0aDtnKyspNCE9PWNbZ10uc3RhdHVzJiYoMj09PWNbZ10uc3RhdHVzPyhPKGY9PT1nLTEsXCJBbGwgU0VOVCBpdGVtcyBzaG91bGQgYmUgYXQgYmVnaW5uaW5nIG9mIHF1ZXVlLlwiKSxmPWcsY1tnXS5zdGF0dXM9NCxjW2ddLm5lPVwic2V0XCIpOihPKDE9PT1jW2ddLnN0YXR1cyxcIlVuZXhwZWN0ZWQgdHJhbnNhY3Rpb24gc3RhdHVzIGluIGFib3J0XCIpLGNbZ10ubGUoKSxlPWUuY29uY2F0KHNpKGEuTSxjW2ddLkRhLCEwKSksY1tnXS5JJiZkLnB1c2godShjW2ddLkksbnVsbCxFcnJvcihcInNldFwiKSwhMSxudWxsKSkpKTstMT09PWY/WWYoYixudWxsKTpjLmxlbmd0aD1mKzE7ZGMoYS5mYSxiLnBhdGgoKSxlKTtmb3IoZz0wO2c8ZC5sZW5ndGg7ZysrKWdjKGRbZ10pfX07ZnVuY3Rpb24gYWooKXt0aGlzLnNjPXt9O3RoaXMuYWc9ITF9YWoucHJvdG90eXBlLkNiPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuc2MpdGhpcy5zY1thXS5DYigpfTthai5wcm90b3R5cGUudmM9ZnVuY3Rpb24oKXtmb3IodmFyIGEgaW4gdGhpcy5zYyl0aGlzLnNjW2FdLnZjKCl9O2FqLnByb3RvdHlwZS56ZT1mdW5jdGlvbigpe3RoaXMuYWc9ITB9O2JhKGFqKTthai5wcm90b3R5cGUuaW50ZXJydXB0PWFqLnByb3RvdHlwZS5DYjthai5wcm90b3R5cGUucmVzdW1lPWFqLnByb3RvdHlwZS52YztmdW5jdGlvbiBZKGEsYixjLGQpe3RoaXMuaz1hO3RoaXMucGF0aD1iO3RoaXMubj1jO3RoaXMucGM9ZH1cbmZ1bmN0aW9uIGJqKGEpe3ZhciBiPW51bGwsYz1udWxsO2Eub2EmJihiPU9kKGEpKTthLnJhJiYoYz1SZChhKSk7aWYoYS5nPT09cmUpe2lmKGEub2Epe2lmKFwiW01JTl9OQU1FXVwiIT1OZChhKSl0aHJvdyBFcnJvcihcIlF1ZXJ5OiBXaGVuIG9yZGVyaW5nIGJ5IGtleSwgeW91IG1heSBvbmx5IHBhc3Mgb25lIGFyZ3VtZW50IHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpLlwiKTtpZihcInN0cmluZ1wiIT09dHlwZW9mIGIpdGhyb3cgRXJyb3IoXCJRdWVyeTogV2hlbiBvcmRlcmluZyBieSBrZXksIHRoZSBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLG9yIGVxdWFsVG8oKSBtdXN0IGJlIGEgc3RyaW5nLlwiKTt9aWYoYS5yYSl7aWYoXCJbTUFYX05BTUVdXCIhPVBkKGEpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB5b3UgbWF5IG9ubHkgcGFzcyBvbmUgYXJndW1lbnQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkuXCIpO2lmKFwic3RyaW5nXCIhPT1cbnR5cGVvZiBjKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkga2V5LCB0aGUgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSxvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHN0cmluZy5cIik7fX1lbHNlIGlmKGEuZz09PVIpe2lmKG51bGwhPWImJiFmZyhiKXx8bnVsbCE9YyYmIWZnKGMpKXRocm93IEVycm9yKFwiUXVlcnk6IFdoZW4gb3JkZXJpbmcgYnkgcHJpb3JpdHksIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gc3RhcnRBdCgpLCBlbmRBdCgpLCBvciBlcXVhbFRvKCkgbXVzdCBiZSBhIHZhbGlkIHByaW9yaXR5IHZhbHVlIChudWxsLCBhIG51bWJlciwgb3IgYSBzdHJpbmcpLlwiKTt9ZWxzZSBpZihPKGEuZyBpbnN0YW5jZW9mIHZlfHxhLmc9PT1CZSxcInVua25vd24gaW5kZXggdHlwZS5cIiksbnVsbCE9YiYmXCJvYmplY3RcIj09PXR5cGVvZiBifHxudWxsIT1jJiZcIm9iamVjdFwiPT09dHlwZW9mIGMpdGhyb3cgRXJyb3IoXCJRdWVyeTogRmlyc3QgYXJndW1lbnQgcGFzc2VkIHRvIHN0YXJ0QXQoKSwgZW5kQXQoKSwgb3IgZXF1YWxUbygpIGNhbm5vdCBiZSBhbiBvYmplY3QuXCIpO1xufWZ1bmN0aW9uIGNqKGEpe2lmKGEub2EmJmEucmEmJmEubGEmJighYS5sYXx8XCJcIj09PWEuUmIpKXRocm93IEVycm9yKFwiUXVlcnk6IENhbid0IGNvbWJpbmUgc3RhcnRBdCgpLCBlbmRBdCgpLCBhbmQgbGltaXQoKS4gVXNlIGxpbWl0VG9GaXJzdCgpIG9yIGxpbWl0VG9MYXN0KCkgaW5zdGVhZC5cIik7fWZ1bmN0aW9uIGRqKGEsYil7aWYoITA9PT1hLnBjKXRocm93IEVycm9yKGIrXCI6IFlvdSBjYW4ndCBjb21iaW5lIG11bHRpcGxlIG9yZGVyQnkgY2FsbHMuXCIpO31oPVkucHJvdG90eXBlO2guTWI9ZnVuY3Rpb24oKXtEKFwiUXVlcnkucmVmXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiBuZXcgWCh0aGlzLmssdGhpcy5wYXRoKX07XG5oLkliPWZ1bmN0aW9uKGEsYixjLGQpe0QoXCJRdWVyeS5vblwiLDIsNCxhcmd1bWVudHMubGVuZ3RoKTtsZyhcIlF1ZXJ5Lm9uXCIsYSwhMSk7RihcIlF1ZXJ5Lm9uXCIsMixiLCExKTt2YXIgZT1laihcIlF1ZXJ5Lm9uXCIsYyxkKTtpZihcInZhbHVlXCI9PT1hKVJpKHRoaXMuayx0aGlzLG5ldyBpaShiLGUuY2FuY2VsfHxudWxsLGUuUWF8fG51bGwpKTtlbHNle3ZhciBmPXt9O2ZbYV09YjtSaSh0aGlzLmssdGhpcyxuZXcgamkoZixlLmNhbmNlbCxlLlFhKSl9cmV0dXJuIGJ9O1xuaC5tYz1mdW5jdGlvbihhLGIsYyl7RChcIlF1ZXJ5Lm9mZlwiLDAsMyxhcmd1bWVudHMubGVuZ3RoKTtsZyhcIlF1ZXJ5Lm9mZlwiLGEsITApO0YoXCJRdWVyeS5vZmZcIiwyLGIsITApO1FiKFwiUXVlcnkub2ZmXCIsMyxjKTt2YXIgZD1udWxsLGU9bnVsbDtcInZhbHVlXCI9PT1hP2Q9bmV3IGlpKGJ8fG51bGwsbnVsbCxjfHxudWxsKTphJiYoYiYmKGU9e30sZVthXT1iKSxkPW5ldyBqaShlLG51bGwsY3x8bnVsbCkpO2U9dGhpcy5rO2Q9XCIuaW5mb1wiPT09Syh0aGlzLnBhdGgpP2UuRmQubmIodGhpcyxkKTplLk0ubmIodGhpcyxkKTtiYyhlLmZhLHRoaXMucGF0aCxkKX07XG5oLk9nPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gYyhrKXtmJiYoZj0hMSxlLm1jKGEsYyksYiYmYi5jYWxsKGQuUWEsayksZy5yZXNvbHZlKGspKX1EKFwiUXVlcnkub25jZVwiLDEsNCxhcmd1bWVudHMubGVuZ3RoKTtsZyhcIlF1ZXJ5Lm9uY2VcIixhLCExKTtGKFwiUXVlcnkub25jZVwiLDIsYiwhMCk7dmFyIGQ9ZWooXCJRdWVyeS5vbmNlXCIsYXJndW1lbnRzWzJdLGFyZ3VtZW50c1szXSksZT10aGlzLGY9ITAsZz1uZXcgQjtOYihnLkQpO3RoaXMuSWIoYSxjLGZ1bmN0aW9uKGIpe2UubWMoYSxjKTtkLmNhbmNlbCYmZC5jYW5jZWwuY2FsbChkLlFhLGIpO2cucmVqZWN0KGIpfSk7cmV0dXJuIGcuRH07XG5oLkxlPWZ1bmN0aW9uKGEpe1MoXCJRdWVyeS5saW1pdCgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgUXVlcnkubGltaXRUb0ZpcnN0KCkgb3IgUXVlcnkubGltaXRUb0xhc3QoKSBpbnN0ZWFkLlwiKTtEKFwiUXVlcnkubGltaXRcIiwxLDEsYXJndW1lbnRzLmxlbmd0aCk7aWYoIWZhKGEpfHxNYXRoLmZsb29yKGEpIT09YXx8MD49YSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmxpbWl0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5uLmxhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXQ6IExpbWl0IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGxpbWl0LCBsaW1pdFRvRmlyc3QsIG9ybGltaXRUb0xhc3QuXCIpO3ZhciBiPXRoaXMubi5MZShhKTtjaihiKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCxiLHRoaXMucGMpfTtcbmguTWU9ZnVuY3Rpb24oYSl7RChcIlF1ZXJ5LmxpbWl0VG9GaXJzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZmEoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgcG9zaXRpdmUgaW50ZWdlci5cIik7aWYodGhpcy5uLmxhKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0ZpcnN0OiBMaW1pdCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBsaW1pdCwgbGltaXRUb0ZpcnN0LCBvciBsaW1pdFRvTGFzdCkuXCIpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLHRoaXMubi5NZShhKSx0aGlzLnBjKX07XG5oLk5lPWZ1bmN0aW9uKGEpe0QoXCJRdWVyeS5saW1pdFRvTGFzdFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZighZmEoYSl8fE1hdGguZmxvb3IoYSkhPT1hfHwwPj1hKXRocm93IEVycm9yKFwiUXVlcnkubGltaXRUb0xhc3Q6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBwb3NpdGl2ZSBpbnRlZ2VyLlwiKTtpZih0aGlzLm4ubGEpdGhyb3cgRXJyb3IoXCJRdWVyeS5saW1pdFRvTGFzdDogTGltaXQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gbGltaXQsIGxpbWl0VG9GaXJzdCwgb3IgbGltaXRUb0xhc3QpLlwiKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCx0aGlzLm4uTmUoYSksdGhpcy5wYyl9O1xuaC5QZz1mdW5jdGlvbihhKXtEKFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsMSwxLGFyZ3VtZW50cy5sZW5ndGgpO2lmKFwiJGtleVwiPT09YSl0aHJvdyBFcnJvcignUXVlcnkub3JkZXJCeUNoaWxkOiBcIiRrZXlcIiBpcyBpbnZhbGlkLiAgVXNlIFF1ZXJ5Lm9yZGVyQnlLZXkoKSBpbnN0ZWFkLicpO2lmKFwiJHByaW9yaXR5XCI9PT1hKXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHByaW9yaXR5XCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5UHJpb3JpdHkoKSBpbnN0ZWFkLicpO2lmKFwiJHZhbHVlXCI9PT1hKXRocm93IEVycm9yKCdRdWVyeS5vcmRlckJ5Q2hpbGQ6IFwiJHZhbHVlXCIgaXMgaW52YWxpZC4gIFVzZSBRdWVyeS5vcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLicpO25nKFwiUXVlcnkub3JkZXJCeUNoaWxkXCIsYSk7ZGoodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlDaGlsZFwiKTt2YXIgYj1uZXcgUChhKTtpZihiLmUoKSl0aHJvdyBFcnJvcihcIlF1ZXJ5Lm9yZGVyQnlDaGlsZDogY2Fubm90IHBhc3MgaW4gZW1wdHkgcGF0aC4gIFVzZSBRdWVyeS5vcmRlckJ5VmFsdWUoKSBpbnN0ZWFkLlwiKTtcbmI9bmV3IHZlKGIpO2I9RmUodGhpcy5uLGIpO2JqKGIpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGIsITApfTtoLlFnPWZ1bmN0aW9uKCl7RChcIlF1ZXJ5Lm9yZGVyQnlLZXlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7ZGoodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlLZXlcIik7dmFyIGE9RmUodGhpcy5uLHJlKTtiaihhKTtyZXR1cm4gbmV3IFkodGhpcy5rLHRoaXMucGF0aCxhLCEwKX07aC5SZz1mdW5jdGlvbigpe0QoXCJRdWVyeS5vcmRlckJ5UHJpb3JpdHlcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7ZGoodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlQcmlvcml0eVwiKTt2YXIgYT1GZSh0aGlzLm4sUik7YmooYSk7cmV0dXJuIG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsYSwhMCl9O1xuaC5TZz1mdW5jdGlvbigpe0QoXCJRdWVyeS5vcmRlckJ5VmFsdWVcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7ZGoodGhpcyxcIlF1ZXJ5Lm9yZGVyQnlWYWx1ZVwiKTt2YXIgYT1GZSh0aGlzLm4sQmUpO2JqKGEpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGEsITApfTtoLmNlPWZ1bmN0aW9uKGEsYil7RChcIlF1ZXJ5LnN0YXJ0QXRcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7Z2coXCJRdWVyeS5zdGFydEF0XCIsYSx0aGlzLnBhdGgsITApO21nKFwiUXVlcnkuc3RhcnRBdFwiLGIpO3ZhciBjPXRoaXMubi5jZShhLGIpO2NqKGMpO2JqKGMpO2lmKHRoaXMubi5vYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LnN0YXJ0QXQ6IFN0YXJ0aW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIHN0YXJ0QXQgb3IgZXF1YWxUbykuXCIpO3AoYSl8fChiPWE9bnVsbCk7cmV0dXJuIG5ldyBZKHRoaXMuayx0aGlzLnBhdGgsYyx0aGlzLnBjKX07XG5oLnZkPWZ1bmN0aW9uKGEsYil7RChcIlF1ZXJ5LmVuZEF0XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpO2dnKFwiUXVlcnkuZW5kQXRcIixhLHRoaXMucGF0aCwhMCk7bWcoXCJRdWVyeS5lbmRBdFwiLGIpO3ZhciBjPXRoaXMubi52ZChhLGIpO2NqKGMpO2JqKGMpO2lmKHRoaXMubi5yYSl0aHJvdyBFcnJvcihcIlF1ZXJ5LmVuZEF0OiBFbmRpbmcgcG9pbnQgd2FzIGFscmVhZHkgc2V0IChieSBhbm90aGVyIGNhbGwgdG8gZW5kQXQgb3IgZXF1YWxUbykuXCIpO3JldHVybiBuZXcgWSh0aGlzLmssdGhpcy5wYXRoLGMsdGhpcy5wYyl9O1xuaC50Zz1mdW5jdGlvbihhLGIpe0QoXCJRdWVyeS5lcXVhbFRvXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO2dnKFwiUXVlcnkuZXF1YWxUb1wiLGEsdGhpcy5wYXRoLCExKTttZyhcIlF1ZXJ5LmVxdWFsVG9cIixiKTtpZih0aGlzLm4ub2EpdGhyb3cgRXJyb3IoXCJRdWVyeS5lcXVhbFRvOiBTdGFydGluZyBwb2ludCB3YXMgYWxyZWFkeSBzZXQgKGJ5IGFub3RoZXIgY2FsbCB0byBlbmRBdCBvciBlcXVhbFRvKS5cIik7aWYodGhpcy5uLnJhKXRocm93IEVycm9yKFwiUXVlcnkuZXF1YWxUbzogRW5kaW5nIHBvaW50IHdhcyBhbHJlYWR5IHNldCAoYnkgYW5vdGhlciBjYWxsIHRvIGVuZEF0IG9yIGVxdWFsVG8pLlwiKTtyZXR1cm4gdGhpcy5jZShhLGIpLnZkKGEsYil9O1xuaC50b1N0cmluZz1mdW5jdGlvbigpe0QoXCJRdWVyeS50b1N0cmluZ1wiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcy5wYXRoLGI9XCJcIixjPWEuYWE7YzxhLnUubGVuZ3RoO2MrKylcIlwiIT09YS51W2NdJiYoYis9XCIvXCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhhLnVbY10pKSk7cmV0dXJuIHRoaXMuay50b1N0cmluZygpKyhifHxcIi9cIil9O2gud2E9ZnVuY3Rpb24oKXt2YXIgYT14ZChHZSh0aGlzLm4pKTtyZXR1cm5cInt9XCI9PT1hP1wiZGVmYXVsdFwiOmF9O1xuZnVuY3Rpb24gZWooYSxiLGMpe3ZhciBkPXtjYW5jZWw6bnVsbCxRYTpudWxsfTtpZihiJiZjKWQuY2FuY2VsPWIsRihhLDMsZC5jYW5jZWwsITApLGQuUWE9YyxRYihhLDQsZC5RYSk7ZWxzZSBpZihiKWlmKFwib2JqZWN0XCI9PT10eXBlb2YgYiYmbnVsbCE9PWIpZC5RYT1iO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGIpZC5jYW5jZWw9YjtlbHNlIHRocm93IEVycm9yKEUoYSwzLCEwKStcIiBtdXN0IGVpdGhlciBiZSBhIGNhbmNlbCBjYWxsYmFjayBvciBhIGNvbnRleHQgb2JqZWN0LlwiKTtyZXR1cm4gZH1ZLnByb3RvdHlwZS5yZWY9WS5wcm90b3R5cGUuTWI7WS5wcm90b3R5cGUub249WS5wcm90b3R5cGUuSWI7WS5wcm90b3R5cGUub2ZmPVkucHJvdG90eXBlLm1jO1kucHJvdG90eXBlLm9uY2U9WS5wcm90b3R5cGUuT2c7WS5wcm90b3R5cGUubGltaXQ9WS5wcm90b3R5cGUuTGU7WS5wcm90b3R5cGUubGltaXRUb0ZpcnN0PVkucHJvdG90eXBlLk1lO1xuWS5wcm90b3R5cGUubGltaXRUb0xhc3Q9WS5wcm90b3R5cGUuTmU7WS5wcm90b3R5cGUub3JkZXJCeUNoaWxkPVkucHJvdG90eXBlLlBnO1kucHJvdG90eXBlLm9yZGVyQnlLZXk9WS5wcm90b3R5cGUuUWc7WS5wcm90b3R5cGUub3JkZXJCeVByaW9yaXR5PVkucHJvdG90eXBlLlJnO1kucHJvdG90eXBlLm9yZGVyQnlWYWx1ZT1ZLnByb3RvdHlwZS5TZztZLnByb3RvdHlwZS5zdGFydEF0PVkucHJvdG90eXBlLmNlO1kucHJvdG90eXBlLmVuZEF0PVkucHJvdG90eXBlLnZkO1kucHJvdG90eXBlLmVxdWFsVG89WS5wcm90b3R5cGUudGc7WS5wcm90b3R5cGUudG9TdHJpbmc9WS5wcm90b3R5cGUudG9TdHJpbmc7dmFyIFo9e307Wi56Yz1SaDtaLkRhdGFDb25uZWN0aW9uPVouemM7UmgucHJvdG90eXBlLmJoPWZ1bmN0aW9uKGEsYil7dGhpcy5JYShcInFcIix7cDphfSxiKX07Wi56Yy5wcm90b3R5cGUuc2ltcGxlTGlzdGVuPVouemMucHJvdG90eXBlLmJoO1JoLnByb3RvdHlwZS5zZz1mdW5jdGlvbihhLGIpe3RoaXMuSWEoXCJlY2hvXCIse2Q6YX0sYil9O1ouemMucHJvdG90eXBlLmVjaG89Wi56Yy5wcm90b3R5cGUuc2c7UmgucHJvdG90eXBlLmludGVycnVwdD1SaC5wcm90b3R5cGUuQ2I7Wi5kZz1GaDtaLlJlYWxUaW1lQ29ubmVjdGlvbj1aLmRnO0ZoLnByb3RvdHlwZS5zZW5kUmVxdWVzdD1GaC5wcm90b3R5cGUuSWE7RmgucHJvdG90eXBlLmNsb3NlPUZoLnByb3RvdHlwZS5jbG9zZTtcblouQ2c9ZnVuY3Rpb24oYSl7dmFyIGI9UmgucHJvdG90eXBlLnB1dDtSaC5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGMsZCxlLGYpe3AoZikmJihmPWEoKSk7Yi5jYWxsKHRoaXMsYyxkLGUsZil9O3JldHVybiBmdW5jdGlvbigpe1JoLnByb3RvdHlwZS5wdXQ9Yn19O1ouaGlqYWNrSGFzaD1aLkNnO1ouY2c9ZGQ7Wi5Db25uZWN0aW9uVGFyZ2V0PVouY2c7Wi53YT1mdW5jdGlvbihhKXtyZXR1cm4gYS53YSgpfTtaLnF1ZXJ5SWRlbnRpZmllcj1aLndhO1ouRWc9ZnVuY3Rpb24oYSl7cmV0dXJuIGEuay5WYS5iYX07Wi5saXN0ZW5zPVouRWc7Wi56ZT1mdW5jdGlvbihhKXthLnplKCl9O1ouZm9yY2VSZXN0Q2xpZW50PVouemU7ZnVuY3Rpb24gWChhLGIpe3ZhciBjLGQsZTtpZihhIGluc3RhbmNlb2YgSmkpYz1hLGQ9YjtlbHNle0QoXCJuZXcgRmlyZWJhc2VcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7ZD1zZChhcmd1bWVudHNbMF0pO2M9ZC5laDtcImZpcmViYXNlXCI9PT1kLmRvbWFpbiYmcmQoZC5ob3N0K1wiIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWQuIFBsZWFzZSB1c2UgPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tIGluc3RlYWRcIik7YyYmXCJ1bmRlZmluZWRcIiE9Y3x8cmQoXCJDYW5ub3QgcGFyc2UgRmlyZWJhc2UgdXJsLiBQbGVhc2UgdXNlIGh0dHBzOi8vPFlPVVIgRklSRUJBU0U+LmZpcmViYXNlaW8uY29tXCIpO2Qub2J8fFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb24mJndpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCYmLTEhPT13aW5kb3cubG9jYXRpb24ucHJvdG9jb2wuaW5kZXhPZihcImh0dHBzOlwiKSYmUyhcIkluc2VjdXJlIEZpcmViYXNlIGFjY2VzcyBmcm9tIGEgc2VjdXJlIHBhZ2UuIFBsZWFzZSB1c2UgaHR0cHMgaW4gY2FsbHMgdG8gbmV3IEZpcmViYXNlKCkuXCIpO1xuYz1uZXcgZGQoZC5ob3N0LGQub2IsYyxcIndzXCI9PT1kLnNjaGVtZXx8XCJ3c3NcIj09PWQuc2NoZW1lKTtkPW5ldyBQKGQuYmQpO2U9ZC50b1N0cmluZygpO3ZhciBmOyEoZj0hcShjLmhvc3QpfHwwPT09Yy5ob3N0Lmxlbmd0aHx8IWVnKGMubGMpKSYmKGY9MCE9PWUubGVuZ3RoKSYmKGUmJihlPWUucmVwbGFjZSgvXlxcLypcXC5pbmZvKFxcL3wkKS8sXCIvXCIpKSxmPSEocShlKSYmMCE9PWUubGVuZ3RoJiYhY2cudGVzdChlKSkpO2lmKGYpdGhyb3cgRXJyb3IoRShcIm5ldyBGaXJlYmFzZVwiLDEsITEpKydtdXN0IGJlIGEgdmFsaWQgZmlyZWJhc2UgVVJMIGFuZCB0aGUgcGF0aCBjYW5cXCd0IGNvbnRhaW4gXCIuXCIsIFwiI1wiLCBcIiRcIiwgXCJbXCIsIG9yIFwiXVwiLicpO2lmKGIpaWYoYiBpbnN0YW5jZW9mIGFqKWU9YjtlbHNlIGlmKHEoYikpZT1hai55YigpLGMuUmQ9YjtlbHNlIHRocm93IEVycm9yKFwiRXhwZWN0ZWQgYSB2YWxpZCBGaXJlYmFzZS5Db250ZXh0IGZvciBzZWNvbmQgYXJndW1lbnQgdG8gbmV3IEZpcmViYXNlKClcIik7XG5lbHNlIGU9YWoueWIoKTtmPWMudG9TdHJpbmcoKTt2YXIgZz16KGUuc2MsZik7Z3x8KGc9bmV3IEppKGMsZS5hZyksZS5zY1tmXT1nKTtjPWd9WS5jYWxsKHRoaXMsYyxkLERlLCExKTt0aGlzLnRoZW49dm9pZCAwO3RoaXNbXCJjYXRjaFwiXT12b2lkIDB9a2EoWCxZKTt2YXIgZmo9WCxnaj1bXCJGaXJlYmFzZVwiXSxoaj1uO2dqWzBdaW4gaGp8fCFoai5leGVjU2NyaXB0fHxoai5leGVjU2NyaXB0KFwidmFyIFwiK2dqWzBdKTtmb3IodmFyIGlqO2dqLmxlbmd0aCYmKGlqPWdqLnNoaWZ0KCkpOykhZ2oubGVuZ3RoJiZwKGZqKT9oaltpal09Zmo6aGo9aGpbaWpdP2hqW2lqXTpoaltpal09e307WC5nb09mZmxpbmU9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UuZ29PZmZsaW5lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO2FqLnliKCkuQ2IoKX07WC5nb09ubGluZT1mdW5jdGlvbigpe0QoXCJGaXJlYmFzZS5nb09ubGluZVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTthai55YigpLnZjKCl9O1xuWC5lbmFibGVMb2dnaW5nPW9kO1guU2VydmVyVmFsdWU9e1RJTUVTVEFNUDp7XCIuc3ZcIjpcInRpbWVzdGFtcFwifX07WC5TREtfVkVSU0lPTj1FYjtYLklOVEVSTkFMPVU7WC5Db250ZXh0PWFqO1guVEVTVF9BQ0NFU1M9WjtYLnByb3RvdHlwZS5uYW1lPWZ1bmN0aW9uKCl7UyhcIkZpcmViYXNlLm5hbWUoKSBiZWluZyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIEZpcmViYXNlLmtleSgpIGluc3RlYWQuXCIpO0QoXCJGaXJlYmFzZS5uYW1lXCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3JldHVybiB0aGlzLmtleSgpfTtYLnByb3RvdHlwZS5uYW1lPVgucHJvdG90eXBlLm5hbWU7WC5wcm90b3R5cGUua2V5PWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLmtleVwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtyZXR1cm4gdGhpcy5wYXRoLmUoKT9udWxsOm1lKHRoaXMucGF0aCl9O1gucHJvdG90eXBlLmtleT1YLnByb3RvdHlwZS5rZXk7XG5YLnByb3RvdHlwZS5vPWZ1bmN0aW9uKGEpe0QoXCJGaXJlYmFzZS5jaGlsZFwiLDEsMSxhcmd1bWVudHMubGVuZ3RoKTtpZihmYShhKSlhPVN0cmluZyhhKTtlbHNlIGlmKCEoYSBpbnN0YW5jZW9mIFApKWlmKG51bGw9PT1LKHRoaXMucGF0aCkpe3ZhciBiPWE7YiYmKGI9Yi5yZXBsYWNlKC9eXFwvKlxcLmluZm8oXFwvfCQpLyxcIi9cIikpO25nKFwiRmlyZWJhc2UuY2hpbGRcIixiKX1lbHNlIG5nKFwiRmlyZWJhc2UuY2hpbGRcIixhKTtyZXR1cm4gbmV3IFgodGhpcy5rLHRoaXMucGF0aC5vKGEpKX07WC5wcm90b3R5cGUuY2hpbGQ9WC5wcm90b3R5cGUubztYLnByb3RvdHlwZS5wYXJlbnQ9ZnVuY3Rpb24oKXtEKFwiRmlyZWJhc2UucGFyZW50XCIsMCwwLGFyZ3VtZW50cy5sZW5ndGgpO3ZhciBhPXRoaXMucGF0aC5wYXJlbnQoKTtyZXR1cm4gbnVsbD09PWE/bnVsbDpuZXcgWCh0aGlzLmssYSl9O1gucHJvdG90eXBlLnBhcmVudD1YLnByb3RvdHlwZS5wYXJlbnQ7XG5YLnByb3RvdHlwZS5yb290PWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLnJlZlwiLDAsMCxhcmd1bWVudHMubGVuZ3RoKTtmb3IodmFyIGE9dGhpcztudWxsIT09YS5wYXJlbnQoKTspYT1hLnBhcmVudCgpO3JldHVybiBhfTtYLnByb3RvdHlwZS5yb290PVgucHJvdG90eXBlLnJvb3Q7WC5wcm90b3R5cGUuc2V0PWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnNldFwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLnNldFwiLHRoaXMucGF0aCk7Z2coXCJGaXJlYmFzZS5zZXRcIixhLHRoaXMucGF0aCwhMSk7RihcIkZpcmViYXNlLnNldFwiLDIsYiwhMCk7dmFyIGM9bmV3IEI7dGhpcy5rLk9iKHRoaXMucGF0aCxhLG51bGwsQyhjLGIpKTtyZXR1cm4gYy5EfTtYLnByb3RvdHlwZS5zZXQ9WC5wcm90b3R5cGUuc2V0O1xuWC5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnVwZGF0ZVwiLDEsMixhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLnVwZGF0ZVwiLHRoaXMucGF0aCk7aWYoZGEoYSkpe2Zvcih2YXIgYz17fSxkPTA7ZDxhLmxlbmd0aDsrK2QpY1tcIlwiK2RdPWFbZF07YT1jO1MoXCJQYXNzaW5nIGFuIEFycmF5IHRvIEZpcmViYXNlLnVwZGF0ZSgpIGlzIGRlcHJlY2F0ZWQuIFVzZSBzZXQoKSBpZiB5b3Ugd2FudCB0byBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGRhdGEsIG9yIGFuIE9iamVjdCB3aXRoIGludGVnZXIga2V5cyBpZiB5b3UgcmVhbGx5IGRvIHdhbnQgdG8gb25seSB1cGRhdGUgc29tZSBvZiB0aGUgY2hpbGRyZW4uXCIpfWpnKFwiRmlyZWJhc2UudXBkYXRlXCIsYSx0aGlzLnBhdGgpO0YoXCJGaXJlYmFzZS51cGRhdGVcIiwyLGIsITApO2M9bmV3IEI7dGhpcy5rLnVwZGF0ZSh0aGlzLnBhdGgsYSxDKGMsYikpO3JldHVybiBjLkR9O1xuWC5wcm90b3R5cGUudXBkYXRlPVgucHJvdG90eXBlLnVwZGF0ZTtYLnByb3RvdHlwZS5PYj1mdW5jdGlvbihhLGIsYyl7RChcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLDIsMyxhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLnNldFdpdGhQcmlvcml0eVwiLHRoaXMucGF0aCk7Z2coXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIixhLHRoaXMucGF0aCwhMSk7a2coXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwyLGIpO0YoXCJGaXJlYmFzZS5zZXRXaXRoUHJpb3JpdHlcIiwzLGMsITApO2lmKFwiLmxlbmd0aFwiPT09dGhpcy5rZXkoKXx8XCIua2V5c1wiPT09dGhpcy5rZXkoKSl0aHJvd1wiRmlyZWJhc2Uuc2V0V2l0aFByaW9yaXR5IGZhaWxlZDogXCIrdGhpcy5rZXkoKStcIiBpcyBhIHJlYWQtb25seSBvYmplY3QuXCI7dmFyIGQ9bmV3IEI7dGhpcy5rLk9iKHRoaXMucGF0aCxhLGIsQyhkLGMpKTtyZXR1cm4gZC5EfTtYLnByb3RvdHlwZS5zZXRXaXRoUHJpb3JpdHk9WC5wcm90b3R5cGUuT2I7XG5YLnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSl7RChcIkZpcmViYXNlLnJlbW92ZVwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtvZyhcIkZpcmViYXNlLnJlbW92ZVwiLHRoaXMucGF0aCk7RihcIkZpcmViYXNlLnJlbW92ZVwiLDEsYSwhMCk7cmV0dXJuIHRoaXMuc2V0KG51bGwsYSl9O1gucHJvdG90eXBlLnJlbW92ZT1YLnByb3RvdHlwZS5yZW1vdmU7XG5YLnByb3RvdHlwZS50cmFuc2FjdGlvbj1mdW5jdGlvbihhLGIsYyl7RChcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpO29nKFwiRmlyZWJhc2UudHJhbnNhY3Rpb25cIix0aGlzLnBhdGgpO0YoXCJGaXJlYmFzZS50cmFuc2FjdGlvblwiLDEsYSwhMSk7RihcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMixiLCEwKTtpZihwKGMpJiZcImJvb2xlYW5cIiE9dHlwZW9mIGMpdGhyb3cgRXJyb3IoRShcIkZpcmViYXNlLnRyYW5zYWN0aW9uXCIsMywhMCkrXCJtdXN0IGJlIGEgYm9vbGVhbi5cIik7aWYoXCIubGVuZ3RoXCI9PT10aGlzLmtleSgpfHxcIi5rZXlzXCI9PT10aGlzLmtleSgpKXRocm93XCJGaXJlYmFzZS50cmFuc2FjdGlvbiBmYWlsZWQ6IFwiK3RoaXMua2V5KCkrXCIgaXMgYSByZWFkLW9ubHkgb2JqZWN0LlwiO1widW5kZWZpbmVkXCI9PT10eXBlb2YgYyYmKGM9ITApO3ZhciBkPW5ldyBCO3IoYikmJk5iKGQuRCk7U2kodGhpcy5rLHRoaXMucGF0aCxhLGZ1bmN0aW9uKGEsYyxnKXthP1xuZC5yZWplY3QoYSk6ZC5yZXNvbHZlKG5ldyBlaShjLGcpKTtyKGIpJiZiKGEsYyxnKX0sYyk7cmV0dXJuIGQuRH07WC5wcm90b3R5cGUudHJhbnNhY3Rpb249WC5wcm90b3R5cGUudHJhbnNhY3Rpb247WC5wcm90b3R5cGUuWmc9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2Uuc2V0UHJpb3JpdHlcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7b2coXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLHRoaXMucGF0aCk7a2coXCJGaXJlYmFzZS5zZXRQcmlvcml0eVwiLDEsYSk7RihcIkZpcmViYXNlLnNldFByaW9yaXR5XCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuT2IodGhpcy5wYXRoLm8oXCIucHJpb3JpdHlcIiksYSxudWxsLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUuc2V0UHJpb3JpdHk9WC5wcm90b3R5cGUuWmc7XG5YLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnB1c2hcIiwwLDIsYXJndW1lbnRzLmxlbmd0aCk7b2coXCJGaXJlYmFzZS5wdXNoXCIsdGhpcy5wYXRoKTtnZyhcIkZpcmViYXNlLnB1c2hcIixhLHRoaXMucGF0aCwhMCk7RihcIkZpcmViYXNlLnB1c2hcIiwyLGIsITApO3ZhciBjPUxpKHRoaXMuayksZD1oZihjKSxjPXRoaXMubyhkKTtpZihudWxsIT1hKXt2YXIgZT10aGlzLGY9Yy5zZXQoYSxiKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGUubyhkKX0pO2MudGhlbj11KGYudGhlbixmKTtjW1wiY2F0Y2hcIl09dShmLnRoZW4sZix2b2lkIDApO3IoYikmJk5iKGYpfXJldHVybiBjfTtYLnByb3RvdHlwZS5wdXNoPVgucHJvdG90eXBlLnB1c2g7WC5wcm90b3R5cGUubGI9ZnVuY3Rpb24oKXtvZyhcIkZpcmViYXNlLm9uRGlzY29ubmVjdFwiLHRoaXMucGF0aCk7cmV0dXJuIG5ldyBWKHRoaXMuayx0aGlzLnBhdGgpfTtYLnByb3RvdHlwZS5vbkRpc2Nvbm5lY3Q9WC5wcm90b3R5cGUubGI7XG5YLnByb3RvdHlwZS5PPWZ1bmN0aW9uKGEsYixjKXtTKFwiRmlyZWJhc2VSZWYuYXV0aCgpIGJlaW5nIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgRmlyZWJhc2VSZWYuYXV0aFdpdGhDdXN0b21Ub2tlbigpIGluc3RlYWQuXCIpO0QoXCJGaXJlYmFzZS5hdXRoXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpO3BnKFwiRmlyZWJhc2UuYXV0aFwiLGEpO0YoXCJGaXJlYmFzZS5hdXRoXCIsMixiLCEwKTtGKFwiRmlyZWJhc2UuYXV0aFwiLDMsYiwhMCk7dmFyIGQ9bmV3IEI7ZGgodGhpcy5rLk8sYSx7fSx7cmVtZW1iZXI6XCJub25lXCJ9LEMoZCxiKSxjKTtyZXR1cm4gZC5EfTtYLnByb3RvdHlwZS5hdXRoPVgucHJvdG90eXBlLk87WC5wcm90b3R5cGUuamU9ZnVuY3Rpb24oYSl7RChcIkZpcmViYXNlLnVuYXV0aFwiLDAsMSxhcmd1bWVudHMubGVuZ3RoKTtGKFwiRmlyZWJhc2UudW5hdXRoXCIsMSxhLCEwKTt2YXIgYj1uZXcgQjtlaCh0aGlzLmsuTyxDKGIsYSkpO3JldHVybiBiLkR9O1gucHJvdG90eXBlLnVuYXV0aD1YLnByb3RvdHlwZS5qZTtcblgucHJvdG90eXBlLkJlPWZ1bmN0aW9uKCl7RChcIkZpcmViYXNlLmdldEF1dGhcIiwwLDAsYXJndW1lbnRzLmxlbmd0aCk7cmV0dXJuIHRoaXMuay5PLkJlKCl9O1gucHJvdG90eXBlLmdldEF1dGg9WC5wcm90b3R5cGUuQmU7WC5wcm90b3R5cGUuSWc9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2Uub25BdXRoXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO0YoXCJGaXJlYmFzZS5vbkF1dGhcIiwxLGEsITEpO1FiKFwiRmlyZWJhc2Uub25BdXRoXCIsMixiKTt0aGlzLmsuTy5JYihcImF1dGhfc3RhdHVzXCIsYSxiKX07WC5wcm90b3R5cGUub25BdXRoPVgucHJvdG90eXBlLklnO1gucHJvdG90eXBlLkhnPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLm9mZkF1dGhcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7RihcIkZpcmViYXNlLm9mZkF1dGhcIiwxLGEsITEpO1FiKFwiRmlyZWJhc2Uub2ZmQXV0aFwiLDIsYik7dGhpcy5rLk8ubWMoXCJhdXRoX3N0YXR1c1wiLGEsYil9O1gucHJvdG90eXBlLm9mZkF1dGg9WC5wcm90b3R5cGUuSGc7XG5YLnByb3RvdHlwZS5oZz1mdW5jdGlvbihhLGIsYyl7RChcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7Mj09PWFyZ3VtZW50cy5sZW5ndGgmJkhiKGIpJiYoYz1iLGI9dm9pZCAwKTtwZyhcIkZpcmViYXNlLmF1dGhXaXRoQ3VzdG9tVG9rZW5cIixhKTtGKFwiRmlyZWJhc2UuYXV0aFdpdGhDdXN0b21Ub2tlblwiLDIsYiwhMCk7c2coXCJGaXJlYmFzZS5hdXRoV2l0aEN1c3RvbVRva2VuXCIsMyxjLCEwKTt2YXIgZD1uZXcgQjtkaCh0aGlzLmsuTyxhLHt9LGN8fHt9LEMoZCxiKSk7cmV0dXJuIGQuRH07WC5wcm90b3R5cGUuYXV0aFdpdGhDdXN0b21Ub2tlbj1YLnByb3RvdHlwZS5oZztcblgucHJvdG90eXBlLmlnPWZ1bmN0aW9uKGEsYixjKXtEKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMSwzLGFyZ3VtZW50cy5sZW5ndGgpOzI9PT1hcmd1bWVudHMubGVuZ3RoJiZIYihiKSYmKGM9YixiPXZvaWQgMCk7cmcoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUG9wdXBcIixhKTtGKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFBvcHVwXCIsMixiLCEwKTtzZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhQb3B1cFwiLDMsYywhMCk7dmFyIGQ9bmV3IEI7aWgodGhpcy5rLk8sYSxjLEMoZCxiKSk7cmV0dXJuIGQuRH07WC5wcm90b3R5cGUuYXV0aFdpdGhPQXV0aFBvcHVwPVgucHJvdG90eXBlLmlnO1xuWC5wcm90b3R5cGUuamc9ZnVuY3Rpb24oYSxiLGMpe0QoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwxLDMsYXJndW1lbnRzLmxlbmd0aCk7Mj09PWFyZ3VtZW50cy5sZW5ndGgmJkhiKGIpJiYoYz1iLGI9dm9pZCAwKTtyZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhSZWRpcmVjdFwiLGEpO0YoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoUmVkaXJlY3RcIiwyLGIsITEpO3NnKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFJlZGlyZWN0XCIsMyxjLCEwKTt2YXIgZD1uZXcgQixlPXRoaXMuay5PLGY9YyxnPUMoZCxiKTtnaChlKTt2YXIgaz1bUWddLGY9QWcoZik7XCJhbm9ueW1vdXNcIj09PWF8fFwiZmlyZWJhc2VcIj09PWE/VChnLFNnKFwiVFJBTlNQT1JUX1VOQVZBSUxBQkxFXCIpKTooY2Quc2V0KFwicmVkaXJlY3RfY2xpZW50X29wdGlvbnNcIixmLnFkKSxoaChlLGssXCIvYXV0aC9cIithLGYsZykpO3JldHVybiBkLkR9O1gucHJvdG90eXBlLmF1dGhXaXRoT0F1dGhSZWRpcmVjdD1YLnByb3RvdHlwZS5qZztcblgucHJvdG90eXBlLmtnPWZ1bmN0aW9uKGEsYixjLGQpe0QoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwyLDQsYXJndW1lbnRzLmxlbmd0aCk7Mz09PWFyZ3VtZW50cy5sZW5ndGgmJkhiKGMpJiYoZD1jLGM9dm9pZCAwKTtyZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLGEpO0YoXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwzLGMsITApO3NnKFwiRmlyZWJhc2UuYXV0aFdpdGhPQXV0aFRva2VuXCIsNCxkLCEwKTt2YXIgZT1uZXcgQjtxKGIpPyhxZyhcIkZpcmViYXNlLmF1dGhXaXRoT0F1dGhUb2tlblwiLDIsYiksZmgodGhpcy5rLk8sYStcIi90b2tlblwiLHthY2Nlc3NfdG9rZW46Yn0sZCxDKGUsYykpKTooc2coXCJGaXJlYmFzZS5hdXRoV2l0aE9BdXRoVG9rZW5cIiwyLGIsITEpLGZoKHRoaXMuay5PLGErXCIvdG9rZW5cIixiLGQsQyhlLGMpKSk7cmV0dXJuIGUuRH07WC5wcm90b3R5cGUuYXV0aFdpdGhPQXV0aFRva2VuPVgucHJvdG90eXBlLmtnO1xuWC5wcm90b3R5cGUuZ2c9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2UuYXV0aEFub255bW91c2x5XCIsMCwyLGFyZ3VtZW50cy5sZW5ndGgpOzE9PT1hcmd1bWVudHMubGVuZ3RoJiZIYihhKSYmKGI9YSxhPXZvaWQgMCk7RihcIkZpcmViYXNlLmF1dGhBbm9ueW1vdXNseVwiLDEsYSwhMCk7c2coXCJGaXJlYmFzZS5hdXRoQW5vbnltb3VzbHlcIiwyLGIsITApO3ZhciBjPW5ldyBCO2ZoKHRoaXMuay5PLFwiYW5vbnltb3VzXCIse30sYixDKGMsYSkpO3JldHVybiBjLkR9O1gucHJvdG90eXBlLmF1dGhBbm9ueW1vdXNseT1YLnByb3RvdHlwZS5nZztcblgucHJvdG90eXBlLmxnPWZ1bmN0aW9uKGEsYixjKXtEKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLDEsMyxhcmd1bWVudHMubGVuZ3RoKTsyPT09YXJndW1lbnRzLmxlbmd0aCYmSGIoYikmJihjPWIsYj12b2lkIDApO3NnKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLDEsYSwhMSk7dGcoXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsYSxcImVtYWlsXCIpO3RnKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLGEsXCJwYXNzd29yZFwiKTtGKFwiRmlyZWJhc2UuYXV0aFdpdGhQYXNzd29yZFwiLDIsYiwhMCk7c2coXCJGaXJlYmFzZS5hdXRoV2l0aFBhc3N3b3JkXCIsMyxjLCEwKTt2YXIgZD1uZXcgQjtmaCh0aGlzLmsuTyxcInBhc3N3b3JkXCIsYSxjLEMoZCxiKSk7cmV0dXJuIGQuRH07WC5wcm90b3R5cGUuYXV0aFdpdGhQYXNzd29yZD1YLnByb3RvdHlwZS5sZztcblgucHJvdG90eXBlLnZlPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7c2coXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsMSxhLCExKTt0ZyhcIkZpcmViYXNlLmNyZWF0ZVVzZXJcIixhLFwiZW1haWxcIik7dGcoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsYSxcInBhc3N3b3JkXCIpO0YoXCJGaXJlYmFzZS5jcmVhdGVVc2VyXCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuTy52ZShhLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUuY3JlYXRlVXNlcj1YLnByb3RvdHlwZS52ZTtcblgucHJvdG90eXBlLlhlPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLnJlbW92ZVVzZXJcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7c2coXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsMSxhLCExKTt0ZyhcIkZpcmViYXNlLnJlbW92ZVVzZXJcIixhLFwiZW1haWxcIik7dGcoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsYSxcInBhc3N3b3JkXCIpO0YoXCJGaXJlYmFzZS5yZW1vdmVVc2VyXCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuTy5YZShhLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUucmVtb3ZlVXNlcj1YLnByb3RvdHlwZS5YZTtcblgucHJvdG90eXBlLnNlPWZ1bmN0aW9uKGEsYil7RChcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO3NnKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIiwxLGEsITEpO3RnKFwiRmlyZWJhc2UuY2hhbmdlUGFzc3dvcmRcIixhLFwiZW1haWxcIik7dGcoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLGEsXCJvbGRQYXNzd29yZFwiKTt0ZyhcIkZpcmViYXNlLmNoYW5nZVBhc3N3b3JkXCIsYSxcIm5ld1Bhc3N3b3JkXCIpO0YoXCJGaXJlYmFzZS5jaGFuZ2VQYXNzd29yZFwiLDIsYiwhMCk7dmFyIGM9bmV3IEI7dGhpcy5rLk8uc2UoYSxDKGMsYikpO3JldHVybiBjLkR9O1gucHJvdG90eXBlLmNoYW5nZVBhc3N3b3JkPVgucHJvdG90eXBlLnNlO1xuWC5wcm90b3R5cGUucmU9ZnVuY3Rpb24oYSxiKXtEKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIiwxLDIsYXJndW1lbnRzLmxlbmd0aCk7c2coXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLDEsYSwhMSk7dGcoXCJGaXJlYmFzZS5jaGFuZ2VFbWFpbFwiLGEsXCJvbGRFbWFpbFwiKTt0ZyhcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsYSxcIm5ld0VtYWlsXCIpO3RnKFwiRmlyZWJhc2UuY2hhbmdlRW1haWxcIixhLFwicGFzc3dvcmRcIik7RihcIkZpcmViYXNlLmNoYW5nZUVtYWlsXCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuTy5yZShhLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUuY2hhbmdlRW1haWw9WC5wcm90b3R5cGUucmU7XG5YLnByb3RvdHlwZS5aZT1mdW5jdGlvbihhLGIpe0QoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMSwyLGFyZ3VtZW50cy5sZW5ndGgpO3NnKFwiRmlyZWJhc2UucmVzZXRQYXNzd29yZFwiLDEsYSwhMSk7dGcoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsYSxcImVtYWlsXCIpO0YoXCJGaXJlYmFzZS5yZXNldFBhc3N3b3JkXCIsMixiLCEwKTt2YXIgYz1uZXcgQjt0aGlzLmsuTy5aZShhLEMoYyxiKSk7cmV0dXJuIGMuRH07WC5wcm90b3R5cGUucmVzZXRQYXNzd29yZD1YLnByb3RvdHlwZS5aZTt9KSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZpcmViYXNlO1xuIl19
